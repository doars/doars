(()=>{var u=(e,...i)=>{if(!i.length)return e;let c=i.shift();if(g(e)&&g(c))for(let s in c)g(c[s])?(e[s]||Object.assign(e,{[s]:{}}),u(e[s],c[s])):Array.isArray(c[s])?e[s]=c[s].map(f=>g(f)?u({},f):f):Object.assign(e,{[s]:c[s]});return u(e,...i)};var g=e=>e&&typeof e=="object"&&!Array.isArray(e);function $(e,i=null){i=u({},i);let c=!1,s,f,m,d,A=function(){if(i.aliasContexts||i.renameContexts){let a=1,o=e.getContexts();for(let n=o.length-1;n>=0;n--){let r=o[n];if(i.renameContexts){let t=i.renameContexts[r.name];t&&(/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(t)?(f||(f={}),f[t]=r.name,r.name=t):console.error("Invalid rename name for context."))}if(i.aliasContexts){let t=i.aliasContexts[r.name];if(t)if(s||(s=[]),Array.isArray(t)){let l=0;for(let x of t){if(!/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(x)){console.error("Invalid aliases name for context.");continue}let v=Object.assign({},r);v.name=x,v.deconstruct=!1,s.push(v),l++}e.addContexts(n+a,...s.slice(a-1)),a+=l}else if(!/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(t))console.error("Invalid alias name for context.");else{let l=Object.assign({},r);l.name=t,l.deconstruct=!1,e.addContexts(n+a,l),a++}}}}if(i.aliasDirectives||i.renameDirectives){let a=1,o=e.getDirectives();for(let n=o.length-1;n>=0;n--){let r=o[n];if(i.renameDirectives){let t=i.renameDirectives[r.name];t&&(/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(t)?(d||(d={}),d[t]=r.name,r.name=t):console.error("Invalid rename name for directive."))}if(i.aliasDirectives){let t=i.aliasDirectives[r.name];if(t)if(m||(m=[]),Array.isArray(t)){let l=0;for(let x of t){if(!/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(x)){console.error("Invalid aliases name for directive.");continue}let v=Object.assign({},r);v.name=x,m.push(v),l++}e.addDirectives(n+a,...m.slice(a-1)),a+=l}else if(!/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(t))console.error("Invalid alias name for directive.");else{let l=Object.assign({},r);l.name=t,e.addDirectives(n+a,l),a++}}}}},D=function(){if(m&&(e.removeDirectives(...m),m=null),d){let a=e.getDirectives();for(let o=a.length-1;o>=0;o--){let n=a.length[o];n.name in d&&(n.name=d[n.name])}d=null}if(s&&(e.removeContexts(...s),s=null),f){let a=e.getContexts();for(let o=a.length-1;o>=0;o--){let n=a.length[o];n.name in f&&(n.name=f[n.name])}f=null}};this.disable=function(){!e.getEnabled()&&c&&(c=!1,e.removeEventListener("enabling",A),e.removeEventListener("disabling",D))},this.enable=function(){c||(c=!0,e.addEventListener("enabling",A),e.addEventListener("disabling",D))},this.enable()}window.DoarsAlias=$;})();
//# sourceMappingURL=doars-alias.iife.min.js.map
