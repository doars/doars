(()=>{var g=(e,...i)=>{if(!i.length)return e;let c=i.shift();if(u(e)&&u(c))for(let s in c)u(c[s])?(e[s]||Object.assign(e,{[s]:{}}),g(e[s],c[s])):Array.isArray(c[s])?e[s]=c[s].map(f=>u(f)?g({},f):f):Object.assign(e,{[s]:c[s]});return g(e,...i)};var u=e=>e&&typeof e=="object"&&!Array.isArray(e);function D(e,i=null){i=g({},i);let c=!1,s,f,m,d,A=()=>{if(i.aliasContexts||i.renameContexts){let a=1,r=e.getContexts();for(let n=r.length-1;n>=0;n--){let o=r[n];if(i.renameContexts){let t=i.renameContexts[o.name];t&&/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(t)&&(f||(f={}),f[t]=o.name,o.name=t)}if(i.aliasContexts){let t=i.aliasContexts[o.name];if(t){if(s||(s=[]),Array.isArray(t)){let l=0;for(let x of t){if(!/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(x))continue;let v=Object.assign({},o);v.name=x,v.deconstruct=!1,s.push(v),l++}e.addContexts(n+a,...s.slice(a-1)),a+=l}else if(/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(t)){let l=Object.assign({},o);l.name=t,l.deconstruct=!1,e.addContexts(n+a,l),a++}}}}}if(i.aliasDirectives||i.renameDirectives){let a=1,r=e.getDirectives();for(let n=r.length-1;n>=0;n--){let o=r[n];if(i.renameDirectives){let t=i.renameDirectives[o.name];t&&/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(t)&&(d||(d={}),d[t]=o.name,o.name=t)}if(i.aliasDirectives){let t=i.aliasDirectives[o.name];if(t){if(m||(m=[]),Array.isArray(t)){let l=0;for(let x of t){if(!/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(x))continue;let v=Object.assign({},o);v.name=x,m.push(v),l++}e.addDirectives(n+a,...m.slice(a-1)),a+=l}else if(/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(t)){let l=Object.assign({},o);l.name=t,e.addDirectives(n+a,l),a++}}}}}},$=()=>{if(m&&(e.removeDirectives(...m),m=null),d){let a=e.getDirectives();for(let r=a.length-1;r>=0;r--){let n=a.length[r];n.name in d&&(n.name=d[n.name])}d=null}if(s&&(e.removeContexts(...s),s=null),f){let a=e.getContexts();for(let r=a.length-1;r>=0;r--){let n=a.length[r];n.name in f&&(n.name=f[n.name])}f=null}};this.disable=()=>{!e.getEnabled()&&c&&(c=!1,e.removeEventListener("enabling",A),e.removeEventListener("disabling",$))},this.enable=()=>{c||(c=!0,e.addEventListener("enabling",A),e.addEventListener("disabling",$))},this.enable()}window.DoarsAlias=D;})();
//# sourceMappingURL=doars-alias.iife.min.js.map
