var g=(e,...i)=>{if(!i.length)return e;let o=i.shift();if(u(e)&&u(o))for(let s in o)u(o[s])?(e[s]||Object.assign(e,{[s]:{}}),g(e[s],o[s])):Array.isArray(o[s])?e[s]=o[s].map(f=>u(f)?g({},f):f):Object.assign(e,{[s]:o[s]});return g(e,...i)};var u=e=>e&&typeof e=="object"&&!Array.isArray(e);function z(e,i=null){i=g({},i);let o=!1,s,f,m,d,$=()=>{if(i.aliasContexts||i.renameContexts){let a=1,r=e.getContexts();for(let n=r.length-1;n>=0;n--){let c=r[n];if(i.renameContexts){let t=i.renameContexts[c.name];t&&/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(t)&&(f||(f={}),f[t]=c.name,c.name=t)}if(i.aliasContexts){let t=i.aliasContexts[c.name];if(t){if(s||(s=[]),Array.isArray(t)){let l=0;for(let x of t){if(!/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(x))continue;let v=Object.assign({},c);v.name=x,v.deconstruct=!1,s.push(v),l++}e.addContexts(n+a,...s.slice(a-1)),a+=l}else if(/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(t)){let l=Object.assign({},c);l.name=t,l.deconstruct=!1,e.addContexts(n+a,l),a++}}}}}if(i.aliasDirectives||i.renameDirectives){let a=1,r=e.getDirectives();for(let n=r.length-1;n>=0;n--){let c=r[n];if(i.renameDirectives){let t=i.renameDirectives[c.name];t&&/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(t)&&(d||(d={}),d[t]=c.name,c.name=t)}if(i.aliasDirectives){let t=i.aliasDirectives[c.name];if(t){if(m||(m=[]),Array.isArray(t)){let l=0;for(let x of t){if(!/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(x))continue;let v=Object.assign({},c);v.name=x,m.push(v),l++}e.addDirectives(n+a,...m.slice(a-1)),a+=l}else if(/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(t)){let l=Object.assign({},c);l.name=t,e.addDirectives(n+a,l),a++}}}}}},A=()=>{if(m&&(e.removeDirectives(...m),m=null),d){let a=e.getDirectives();for(let r=a.length-1;r>=0;r--){let n=a.length[r];n.name in d&&(n.name=d[n.name])}d=null}if(s&&(e.removeContexts(...s),s=null),f){let a=e.getContexts();for(let r=a.length-1;r>=0;r--){let n=a.length[r];n.name in f&&(n.name=f[n.name])}f=null}};this.disable=()=>{!e.getEnabled()&&o&&(o=!1,e.removeEventListener("enabling",$),e.removeEventListener("disabling",A))},this.enable=()=>{o||(o=!0,e.addEventListener("enabling",$),e.addEventListener("disabling",A))},this.enable()}export{z as default};
//# sourceMappingURL=doars-alias.min.js.map
