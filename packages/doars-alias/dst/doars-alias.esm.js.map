{"version":3,"file":"doars-alias.esm.js","sources":["../../doars/src/utils/ObjectUtils.js","../src/DoarsAlias.js"],"sourcesContent":["/**\n * Deeply assign a series of objects properties together.\n * @param {Object} target Target object to merge to.\n * @param  {...Object} sources Objects to merge into the target.\n */\nexport const deepAssign = (target, ...sources) => {\n  if (!sources.length) {\n    return target\n  }\n  const source = sources.shift()\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) {\n          Object.assign(target, {\n            [key]: {},\n          })\n        }\n        deepAssign(target[key], source[key])\n      } else if (Array.isArray(source[key])) {\n        target[key] = source[key].map((value) => {\n          if (isObject(value)) {\n            return deepAssign({}, value)\n          }\n          return value\n        })\n      } else {\n        Object.assign(target, {\n          [key]: source[key],\n        })\n      }\n    }\n  }\n\n  return deepAssign(target, ...sources)\n}\n\n/**\n * Get value at path on object.\n * @param {Object} object Object to get from.\n * @param  {Array<String>} path Path to value.\n * @returns {Any} value at path.\n */\nexport const get = (object, path) => {\n  let objectTemp = object\n  let i = 0\n  for (; i < path.length - 1; i++) {\n    objectTemp = objectTemp[path[i]]\n  }\n  return objectTemp[path[i]]\n}\n\n/**\n * Check whether the value is an object.\n * @param {Any} value Value of unknown type.\n * @returns Whether the value is an object.\n */\nexport const isObject = (value) => {\n  return (value && typeof value === 'object' && !Array.isArray(value))\n}\n\n/**\n * Set value on path at object.\n * @param {Object} object Object to set on.\n * @param {Array<String>} path Path to value.\n * @param {Any} value Value to set.\n */\nexport const set = (object, path, value) => {\n  // Exit early if not an object.\n  if (typeof (object) !== 'object') {\n    return\n  }\n\n  let i = 0\n  for (; i < path.length - 1; i++) {\n    object = object[path[i]]\n\n    // Exit early if not an object.\n    if (typeof (object) !== 'object') {\n      return\n    }\n  }\n  object[path[i]] = value\n}\n\nexport default {\n  deepAssign: deepAssign,\n  get: get,\n  isObject: isObject,\n  set: set,\n}\n","// Import utils.\nimport { deepAssign } from '@doars/doars/src/utils/ObjectUtils.js'\n\nexport default class DoarsAlias {\n  /**\n   * Create plugin instance.\n   * @param {Doars} library Doars instance to add onto.\n   * @param {Object} options The plugin options.\n   */\n  constructor(library, options = null) {\n    // Clone options.\n    options = deepAssign({}, options)\n\n    // Store changes made to contexts and directives.\n    let contextAliases, contextsRenamed, directiveAliases, directivesRenamed\n\n    // Enable plugin when library is enabling.\n    library.addEventListener('enabling', () => {\n      if (options.aliasContexts || options.renameContexts) {\n        // Store insert offset so aliases are added directly after the original.\n        let insertOffset = 1\n\n        // Iterate over all contexts.\n        const contexts = library.getContexts()\n        for (let i = contexts.length - 1; i >= 0; i--) {\n          const context = contexts[i]\n\n          if (options.renameContexts) {\n            const rename = options.renameContexts[context.name]\n            if (rename) {\n              if (!/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(rename)) {\n                console.error('Invalid rename name for context.')\n              } else {\n                if (!contextsRenamed) {\n                  contextsRenamed = {}\n                }\n\n                // Store previous name.\n                contextsRenamed[rename] = context.name\n                // Set new name.\n                context.name = rename\n              }\n            }\n          }\n\n          if (options.aliasContexts) {\n            const aliases = options.aliasContexts[context.name]\n            if (aliases) {\n              if (!contextAliases) {\n                contextAliases = []\n              }\n\n              if (Array.isArray(aliases)) {\n                let inertCount = 0\n                for (const alias of aliases) {\n                  if (!/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(alias)) {\n                    console.error('Invalid aliases name for context.')\n                    continue\n                  }\n\n                  // Create context alias.\n                  const contextAlias = Object.assign({}, context)\n                  contextAlias.name = alias\n                  // Disable deconstruction of aliases.\n                  contextAlias.deconstruct = false\n\n                  // Add context alias to lists.\n                  contextAliases.push(contextAlias)\n                  inertCount++\n                }\n                // Add new aliases to library.\n                library.addContexts(i + insertOffset, ...contextAliases.slice(insertOffset - 1))\n\n                // Increment insertion offset by amount of aliases added.\n                insertOffset += inertCount\n              } else if (!/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(aliases)) {\n                console.error('Invalid alias name for context.')\n              } else {\n                // Create context alias.\n                const contextAlias = Object.assign({}, context)\n                contextAlias.name = aliases\n                // Disable deconstruction of aliases.\n                contextAlias.deconstruct = false\n\n                // Add alias to library.\n                library.addContexts(i + insertOffset, contextAlias)\n\n                // Increment insertion offset.\n                insertOffset++\n              }\n            }\n          }\n        }\n      }\n\n      if (options.aliasDirectives || options.renameDirectives) {\n        // Store insert offset so aliases are added directly after the original.\n        let insertOffset = 1\n\n        // Iterate over all directives.\n        const directives = library.getDirectives()\n        for (let i = directives.length - 1; i >= 0; i--) {\n          const directive = directives[i]\n\n          if (options.renameDirectives) {\n            const rename = options.renameDirectives[directive.name]\n            if (rename) {\n              if (!/^[_\\-$a-z]{1}[_\\-$a-z0-9]{0,}$/i.test(rename)) {\n                console.error('Invalid rename name for directive.')\n              } else {\n                if (!directivesRenamed) {\n                  directivesRenamed = {}\n                }\n\n                // Store previous name.\n                directivesRenamed[rename] = directive.name\n                // Set new name.\n                directive.name = rename\n              }\n            }\n          }\n\n          if (options.aliasDirectives) {\n            const aliases = options.aliasDirectives[directive.name]\n            if (aliases) {\n              if (!directiveAliases) {\n                directiveAliases = []\n              }\n\n              if (Array.isArray(aliases)) {\n                let inertCount = 0\n                for (const alias of aliases) {\n                  if (!/^[_\\-$a-z]{1}[_\\-$a-z0-9]{0,}$/i.test(alias)) {\n                    console.error('Invalid aliases name for directive.')\n                    continue\n                  }\n\n                  // Create directive alias.\n                  const directiveAlias = Object.assign({}, directive)\n                  directiveAlias.name = alias\n\n                  // Add directive alias to lists.\n                  directiveAliases.push(directiveAlias)\n                  inertCount++\n                }\n                // Add new aliases to library.\n                library.addDirectives(i + insertOffset, ...directiveAliases.slice(insertOffset - 1))\n\n                // Increment insertion offset by amount of aliases added.\n                insertOffset += inertCount\n              } else if (!/^[_\\-$a-z]{1}[_\\-$a-z0-9]{0,}$/i.test(aliases)) {\n                console.error('Invalid alias name for directive.')\n              } else {\n                // Create directive alias.\n                const directiveAlias = Object.assign({}, directive)\n                directiveAlias.name = aliases\n\n                // Add alias to library.\n                library.addDirectives(i + insertOffset, directiveAlias)\n\n                // Increment insertion offset.\n                insertOffset++\n              }\n            }\n          }\n        }\n      }\n    })\n\n    // Disable plugin when library is disabling.\n    library.addEventListener('disabling', () => {\n      // Remove directive aliases first.\n      if (directiveAliases) {\n        library.removeDirectives(...directiveAliases)\n\n        // Forget aliases.\n        directiveAliases = null\n      }\n\n      // Undo name changes to directives.\n      if (directivesRenamed) {\n        // Iterate over all directives.\n        const directives = library.getDirectives()\n        for (let i = directives.length - 1; i >= 0; i--) {\n          const directive = directives.length[i]\n\n          // Check if directive has been renamed.\n          if (directive.name in directivesRenamed) {\n            // Set old name.\n            directive.name = directivesRenamed[directive.name]\n          }\n        }\n\n        // Forget renames.\n        directivesRenamed = null\n      }\n\n      // Remove context aliases first.\n      if (contextAliases) {\n        library.removeContexts(...contextAliases)\n\n        // Forget aliases.\n        contextAliases = null\n      }\n\n      // Undo name changes to contexts.\n      if (contextsRenamed) {\n        // Iterate over all contexts.\n        const contexts = library.getContexts()\n        for (let i = contexts.length - 1; i >= 0; i--) {\n          const context = contexts.length[i]\n\n          // Check if context has been renamed.\n          if (context.name in contextsRenamed) {\n            // Set old name.\n            context.name = contextsRenamed[context.name]\n          }\n        }\n\n        // Forget renames.\n        contextsRenamed = null\n      }\n    })\n  }\n}\n"],"names":["deepAssign","target","sources","length","source","shift","isObject","key","Object","assign","Array","isArray","map","value","DoarsAlias","library","options","contextAliases","contextsRenamed","directiveAliases","directivesRenamed","addEventListener","aliasContexts","renameContexts","insertOffset","contexts","getContexts","i","context","rename","name","test","console","error","aliases","inertCount","alias","contextAlias","deconstruct","push","addContexts","slice","aliasDirectives","renameDirectives","directives","getDirectives","directive","directiveAlias","addDirectives","removeDirectives","removeContexts"],"mappings":"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"}