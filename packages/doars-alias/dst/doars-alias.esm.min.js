var u=(e,...i)=>{if(!i.length)return e;let r=i.shift();if(g(e)&&g(r))for(let s in r)g(r[s])?(e[s]||Object.assign(e,{[s]:{}}),u(e[s],r[s])):Array.isArray(r[s])?e[s]=r[s].map(l=>g(l)?u({},l):l):Object.assign(e,{[s]:r[s]});return u(e,...i)};var g=e=>e&&typeof e=="object"&&!Array.isArray(e);function z(e,i=null){i=u({},i);let r=!1,s,l,m,d,$=function(){if(i.aliasContexts||i.renameContexts){let a=1,c=e.getContexts();for(let n=c.length-1;n>=0;n--){let o=c[n];if(i.renameContexts){let t=i.renameContexts[o.name];t&&(/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(t)?(l||(l={}),l[t]=o.name,o.name=t):console.error("Invalid rename name for context."))}if(i.aliasContexts){let t=i.aliasContexts[o.name];if(t)if(s||(s=[]),Array.isArray(t)){let f=0;for(let x of t){if(!/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(x)){console.error("Invalid aliases name for context.");continue}let v=Object.assign({},o);v.name=x,v.deconstruct=!1,s.push(v),f++}e.addContexts(n+a,...s.slice(a-1)),a+=f}else if(!/^[_$a-z]{1}[_$a-z0-9]{0,}$/i.test(t))console.error("Invalid alias name for context.");else{let f=Object.assign({},o);f.name=t,f.deconstruct=!1,e.addContexts(n+a,f),a++}}}}if(i.aliasDirectives||i.renameDirectives){let a=1,c=e.getDirectives();for(let n=c.length-1;n>=0;n--){let o=c[n];if(i.renameDirectives){let t=i.renameDirectives[o.name];t&&(/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(t)?(d||(d={}),d[t]=o.name,o.name=t):console.error("Invalid rename name for directive."))}if(i.aliasDirectives){let t=i.aliasDirectives[o.name];if(t)if(m||(m=[]),Array.isArray(t)){let f=0;for(let x of t){if(!/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(x)){console.error("Invalid aliases name for directive.");continue}let v=Object.assign({},o);v.name=x,m.push(v),f++}e.addDirectives(n+a,...m.slice(a-1)),a+=f}else if(!/^[_\-$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(t))console.error("Invalid alias name for directive.");else{let f=Object.assign({},o);f.name=t,e.addDirectives(n+a,f),a++}}}}},A=function(){if(m&&(e.removeDirectives(...m),m=null),d){let a=e.getDirectives();for(let c=a.length-1;c>=0;c--){let n=a.length[c];n.name in d&&(n.name=d[n.name])}d=null}if(s&&(e.removeContexts(...s),s=null),l){let a=e.getContexts();for(let c=a.length-1;c>=0;c--){let n=a.length[c];n.name in l&&(n.name=l[n.name])}l=null}};this.disable=function(){!e.getEnabled()&&r&&(r=!1,e.removeEventListener("enabling",$),e.removeEventListener("disabling",A))},this.enable=function(){r||(r=!0,e.addEventListener("enabling",$),e.addEventListener("disabling",A))},this.enable()}export{z as default};
//# sourceMappingURL=doars-alias.esm.min.js.map
