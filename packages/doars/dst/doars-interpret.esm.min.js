var st=Math.pow;var F=Symbol("ATTRIBUTES"),j=Symbol("COMPONENT"),ce=Symbol("FOR"),B=Symbol("REFERENCES"),ae=Symbol("REFERENCES_CACHE");var H=class{constructor(){let t={};this.addEventListener=(e,n,o=null)=>{e in t||(t[e]=[]),t[e].push({callback:n,options:o})},this.removeEventListener=(e,n)=>{if(!Object.keys(t).includes(e))return;let o=t[e],i=-1;for(let a=0;a<o.length;a++)if(o[a].callback===n){i=a;break}i<0||(o.splice(i,1),Object.keys(o).length===0&&delete t[e])},this.removeEventListeners=e=>{e&&delete t[e]},this.removeAllEventListeners=()=>{t={}},this.dispatchEvent=(e,n,o=null)=>{if(!t[e])return;let i=t[e];for(let a=0;a<i.length;a++){let s=o&&o.reverse?i[i.length-(a+1)]:i[a];s.options&&s.options.once&&i.splice(a,1),s.callback(...n)}}}};var le=r=>r.replace(/\\/g,"\\\\").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\n/g,"\\n"),cr=r=>r.replace(/-(\w)/g,(t,e)=>e.toUpperCase()),it=r=>{let t={};for(let e of r){let n=e.indexOf("-");if(n<0){t[e]=!0;continue}if(n===0){t[e.substring(1)]=!1;continue}let o=e.substring(0,n),i=e.substring(n+1),a=i,s;if(i.endsWith("ms")?a=i.substring(-2):i.endsWith("s")?(s="s",a=i.substring(-1)):i.endsWith("m")?(s="m",a=i.substring(-1)):i.endsWith("h")&&(s="h",a=i.substring(-1)),a=Number.parseInt(a),!isNaN(a))switch(i=a,s){case"h":i*=60;case"m":i*=60;case"s":i*=1e3;break}t[o]=i}return t},ct=(r,t)=>{if(t=t.match(new RegExp("^"+r+"-([a-z][0-9a-z-]{1,}):?([a-z][0-9a-z-]*)?(\\..*]*)?$","i")),!t)return;let[e,n,o,i]=t;o=o!==""?o:null;let a=o?cr(o):null;return i=i?i.substring(1).split("."):[],[n,o,a,i]},at=r=>{let t=r.match(/^([$_a-z0-9,(){}\s]{1,}?)\s+(?:in|of)\s+([\s\S]{1,})$/i);if(!t)return;let e=t[1].replace(/^[\s({]*|[)}\s]*$/g,"");if(e=e.match(/^([$_a-z0-9]{1,})?(?:,\s+?)?([$_a-z0-9]{1,})?(?:,\s+)?([$_a-z0-9]{1,})?$/i),!!e)return e.shift(),{iterable:t[2].trim(),variables:[...e]}},fe=r=>{if(typeof r=="string"&&(r=r.split(/(?=\.)|(?=#)|(?=\[)/)),!Array.isArray(r))return;let t={};for(let e of r)switch(e=e.trim(),e[0]){case"#":t.id=e.substring(1);break;case".":e=e.substring(1),t.class||(t.class=[]),t.class.includes(e)||t.class.push(e);break;case"[":let[n,o,i]=e.match(/^(?:\[)?([-$_.a-z0-9]{1,})(?:[$*^])?(?:=)?([\s\S]{0,})(?:\])$/i);t[o]=i;break}return t};var ue=class r extends H{constructor(t,e,n,o,i=!1){super();let a=Symbol("ID_ATTRIBUTE");i||(e[F]||(e[F]=[]),e[F].push(this));let s={},l=null,c,f,d,m,g;if(n){let[h,v,E,C]=ct(t.getLibrary().getOptions().prefix,n);c=h,f=E,d=v,m=C,C&&(g=it(C))}this.getComponent=()=>t,this.getElement=()=>e,this.getId=()=>a,this.getDirective=()=>c,this.getKey=()=>f,this.getKeyRaw=()=>d,this.getModifiers=()=>Object.assign({},g),this.getModifiersRaw=()=>m,this.getName=()=>n,this.getValue=()=>o,this.setValue=h=>{o=h,this.dispatchEvent("changed",[this])},this.clearData=()=>{l=null},this.hasData=()=>l!==null,this.getData=()=>l,this.setData=h=>{l=h},this.destroy=()=>{this.setData(null),this.clearAccessed();let h=e[F].indexOf(this);h>=0&&e[F].splice(h,1),this.dispatchEvent("destroyed",[this]),this.removeAllEventListeners()},this.accessed=(h,v)=>{if(!s[h])s[h]=[];else if(s[h].includes(v))return;s[h].push(v),this.dispatchEvent("accessed",[this,h,v])},this.clearAccessed=()=>{s={}},this.hasAccessed=(h,v)=>{if(!(h in s))return!1;let E=s[h];for(let C of v)if(E.includes(C))return!0;return!1},this.clone=()=>new r(t,e,n,o,!0)}};var ar=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],_=(r,t)=>{let e=!1,n={};for(let o of ar)n[o]=(...i)=>{if(!e)return o in t?t[o](...i):Reflect[o](...i)};return{proxy:new Proxy(r,n),revoke:()=>{e=!0}}};var J=class extends H{constructor(t={}){super(),t=Object.assign({delete:!0,get:!0,set:!0},t);let e=new WeakMap;this.add=(n,o=[])=>{if(e.has(n))return e.get(n);for(let s in n)n[s]&&typeof n[s]=="object"&&(n[s]=this.add(n[s],[...o,s]));let i={};t.delete&&(i.deleteProperty=(s,l)=>{if(!Reflect.has(s,l))return!0;this.remove(s,l);let c=Reflect.deleteProperty(s,l);return c&&this.dispatchEvent("delete",[s,Array.isArray(s)?[...o]:[...o,l]]),c}),t.get&&(i.get=(s,l,c)=>(l!==Symbol.unscopables&&this.dispatchEvent("get",[s,[...o,l],c]),Reflect.get(s,l,c))),t.set&&(i.set=(s,l,c,f)=>(s[l]===c||(c&&typeof c=="object"&&(c=this.add(c,[...o,l])),s[l]=c,this.dispatchEvent("set",[s,Array.isArray(s)?[...o]:[...o,l],c,f])),!0));let a=_(n,i);return e.set(a,n),a.proxy},this.remove=n=>{if(!e.has(n))return;let o=e.get(n);e.delete(o);for(let i in o.proxy)typeof o.proxy[i]=="object"&&this.remove(o.proxy[i]);o.revoke()}}};var Z=r=>{if(r.parentElement)return r=r.parentElement,r[j]?r[j]:Z(r)};var lt=r=>{let t=r.substring(0,15).toLowerCase();if(t.startsWith("<!doctype html>")||t.startsWith("<html>")){let o=document.createElement("html");return o.innerHTML=r,o}let n=document.createElement("template");return n.innerHTML=r,n.content.childNodes[0]};var Ye=(r,t)=>r.isSameNode&&r.isSameNode(t)?!0:r.type===3?r.nodeValue===t.nodeValue:r.tagName===t.tagName,W=(r,t)=>{let e=-1,n=null;return()=>{if(e>=0&&n){let i=n();if(i)return i}let o=null;do{if(e++,e>=r.childElementCount)return null;o=r.children[e]}while(!t(o));return o.childElementCount&&(n=W(o,t)),o}};var Ee=class{constructor(t,e){let n=Symbol("ID_COMPONENT"),{prefix:o,stateDirectiveName:i}=t.getOptions(),a=t.getProcessor(),s=[],l=!1,c=!1,f,d,m;if(!e.attributes[o+"-"+i])return;e[j]=this;let g=[],h=Z(e);h&&(h.getChildren().includes(this)||(h.getChildren().push(this),t.update([{id:h.getId(),path:"children"}])));let v=(E,C)=>{e.dispatchEvent(new CustomEvent(o+"-"+E,{detail:C,bubbles:!0}))};this.getAttributes=()=>s,this.getChildren=()=>g,this.getElement=()=>e,this.getId=()=>n,this.getLibrary=()=>t,this.getParent=()=>h,this.getProxy=()=>d,this.getState=()=>m,this.setParent=E=>{h=E},this.initialize=()=>{if(c)return;c=!0;let{stateDirectiveName:E}=this.getLibrary().getOptions(),C=o+"-"+E,x=e.attributes[C].value;if(f=x?a(this,new ue(this,e,null,x),x):{},f===null)f={};else if(typeof f!="object"||Array.isArray(f))return;d=new J,m=d.add(f),this.scanAttributes(e)},this.destroy=()=>{if(!c)return;if(s.length>0){let C=t.getDirectivesObject();for(let x in C)C[x].destroy||(C[x]=void 0);for(let x of s){let w=C[x.getKey()];w&&w.destroy(this,x,a),x.destroy()}}delete e[j],s=[],c=!1,d.remove(f),m=null,d=null,f=null;let E=[];if(g.length>0){for(let C of g)C.setParent(h),E.push({id:C.getId(),path:"parent"});E.push({id:n,path:"children"})}h&&(g.length>0&&(h.getChildren().push(...g),E.push({id:h.getId(),path:"children"})),E.push({id:n,path:"parent"})),E.length>0&&t.update(E),v("destroyed",{element:e,id:n})},this.addAttribute=(E,C,x)=>{let w=t.getDirectivesNames(),u=new ue(this,E,C,x),p=u.length,y=w.indexOf(u.getDirective());for(let b=s.length-1;b>=0;b--)if(w.indexOf(s[b].getDirective())<=y){p=b+1;break}return s.splice(p,0,u),u},this.removeAttribute=E=>{let C=s.indexOf(E);if(C<0)return;let w=t.getDirectivesObject[E.getKey()];w&&w.destroy&&w.destroy(this,E,a),s.splice(C,1),E.destroy()},this.scanAttributes=E=>{let{stateDirectiveName:C,ignoreDirectiveName:x}=this.getLibrary().getOptions(),w=o+"-"+C,u=o+"-"+x,p=[],y=W(E,b=>!b.hasAttribute(w)&&!b.hasAttribute(u));do for(let{name:b,value:I}of E.attributes)t.isDirectiveName(b)&&p.push(this.addAttribute(E,b,I));while(E=y());return p},this.updateAttribute=E=>{if(!E.getElement()||E.getValue()===null||E.getValue()===void 0){this.removeAttribute(E);return}let C=t.getDirectivesObject();E.clearAccessed();let x=C[E.getDirective()];x&&x.update(this,E,a)},this.updateAttributes=E=>{if(!c||E.length<=0){l||(l=!0,v("updated",{attributes:E,element:e,id:n}));return}for(let C of E)this.updateAttribute(C);l=!0,v("updated",{attributes:E,element:e,id:n})},this.update=E=>{if(!c)return;let C=Object.getOwnPropertySymbols(E),x=[];for(let w of s)for(let u of C)w.hasAccessed(u,E[u])&&(this.updateAttribute(w),x.push(w));(!l||x.length>0)&&(l=!0,v("updated",{attributes:x,element:e,id:n}))}}};var z=(r,t,e,n=null)=>{let o=r.getLibrary(),i=o.getSimpleContexts(),a=[],s="",l="",c=o.getContexts(),f=[];for(let d of c){if(!d||!d.name)continue;let m=d.create(r,t,e);!m||!m.value||(m.destroy&&typeof m.destroy=="function"&&f.push(m.destroy),d.deconstruct&&typeof m.value=="object"&&(a.push(d.name),l+="with("+d.name+") { ",s+=" }"),i[d.name]=m.value)}if(typeof n=="object")for(let d in n)i[d]=n[d];return{contexts:i,destroy:()=>{for(let d of f)d()},after:s,before:l,deconstructed:a}},V=(r,t,e,n=null)=>{let o=null,i=_({},{get:(a,s)=>{if(o||(o=z(r,t,e,n)),s in o.contexts)return t.accessed(r.getId(),s),o.contexts[s];if(o.contexts.$state&&s in o.contexts.$state)return t.accessed(r.getId(),"$state"),o.contexts.$state[s]}});return{contexts:i.proxy,destroy:()=>{o&&o.destroy&&o.destroy(r,t),i.revoke()}}},ee=(r,t,e=null)=>{let n=[],o=(s,l)=>{n.push({id:s,path:l})},{contexts:i,destroy:a}=z(r,t,o,e);return[i,()=>{a(),n.length>0&&r.getLibrary().update(n)}]};var ft=({childrenContextName:r})=>({name:r,create:(t,e,n)=>{let o,i=_(t.getChildren(),{get:(a,s,l)=>{if(o||(o=a.map(f=>V(f,e,n)),e.accessed(t.getId(),"children")),isNaN(s))return Reflect.get(o,s,l);let c=Reflect.get(o,s,l);if(c)return c.contexts}});return{value:i.proxy,destroy:()=>{o&&o.forEach(a=>a.destroy()),i.revoke()}}}});var ut=({componentContextName:r})=>({name:r,create:t=>({value:t.getElement()})});var dt=({elementContextName:r})=>({name:r,create:(t,e)=>({value:e.getElement()})});var pt=({dispatchContextName:r})=>({name:r,create:t=>({value:(e,n={})=>{t.getElement().dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0}))}})});var mt=({forContextDeconstruct:r,forContextName:t})=>({deconstruct:r,name:t,create:(e,n)=>{if(e!==n.getComponent())return;let o=n.getElement(),i=e.getElement(),a=[],s={};for(;o&&!o.isSameNode(i);){let c=o[ce];if(c){a.push(c);for(let f in c.variables)s[f]=c.variables[f]}o=o.parentNode}if(a.length===0)return;let l=_(s,{get:(c,f)=>{for(let d of a)if(f in d.variables)return n.accessed(d.id,"$for"),d.variables[f]}});return{value:l.proxy,destroy:()=>{l.revoke()}}}});var ht=({inContextContextName:r})=>({name:r,create:(t,e)=>({value:n=>{let o=[],i=(c,f)=>{o.push({id:c,path:f})},{contexts:a,destroy:s}=z(t,e,i,{}),l=n(a);return s(),o.length>0&&t.getLibrary().update(o),l}})});var gt=({nextSiblingContextName:r})=>({name:r,create:(t,e,n)=>{let o=t.getParent();if(!o)return{value:null};let i=o.getChildren(),a=i.indexOf(t);if(a+1>=i.length)return{value:null};let{contexts:s,destroy:l}=V(i[a+1],e,n);return{value:s,destroy:l}}});var Et=({nextTickContextName:r})=>({name:r,create:(t,e,n)=>{let o,i=!1,a=()=>{if(i)return;i=!0;let s=t.getLibrary();o=[];let l=()=>{c();let{contexts:f,destroy:d}=z(t,e,n,{});for(let m of o)m(f);d()},c=()=>{s.removeEventListener("updated",l),e.removeEventListener("changed",c),e.removeEventListener("destroyed",c)};s.addEventListener("updated",l),e.addEventListener("changed",c),e.addEventListener("destroyed",c)};return{value:s=>{a(),o.push(s)}}}});var vt=({parentContextName:r})=>({name:r,create:(t,e,n)=>{let o=t.getParent();if(!o)return{value:null};let{contexts:i,destroy:a}=V(o,e,n);return{value:i,destroy:a}}});var yt=({previousSiblingContextName:r})=>({name:r,create:(t,e,n)=>{let o=t.getParent();if(!o)return{value:null};let i=o.getChildren(),a=i.indexOf(t);if(a<=0)return{value:null};let{contexts:s,destroy:l}=V(i[a-1],e,n);return{value:s,destroy:l}}});var At=({referencesContextName:r})=>({name:r,create:(t,e)=>{if(!t[B])return{value:[]};let n=t[ae];if(!n){let i=t[B],a=Object.getOwnPropertySymbols(i);n={};for(let s of a){let{element:l,name:c}=i[s];n[c]=l}t[ae]=n}let o=_(n,{get:(i,a,s)=>(e.accessed(t.getId(),"$references."+a),Reflect.get(i,a,s))});return{value:o.proxy,destroy:()=>{o.revoke()}}}});var bt=({siblingsContextName:r})=>({name:r,create:(t,e,n)=>{let o=t.getParent();if(!o)return{value:[]};let i,a=_(o.getChildren().filter(s=>s!==t),{get:(s,l,c)=>{if(i||(i=s.map(d=>V(d,e,n)),e.accessed(t.getId(),"siblings")),isNaN(l))return Reflect.get(i,l,c);let f=Reflect.get(i,l,c);if(f)return f.contexts}});return{value:a.proxy,destroy:()=>{i&&i.forEach(s=>s.destroy()),a.revoke()}}}});var Re=(r,t,e,n)=>(o,i,a)=>{let s=(d,m)=>a(t,r+"."+m.join(".")),l=(d,m)=>i.accessed(t,r+"."+m.join(".")),c=(d,m)=>a(t,r+"."+m.join("."));n.addEventListener("delete",s),n.addEventListener("get",l),n.addEventListener("set",c);let f=_(e,{});return{value:f.proxy,destroy:()=>{n.removeEventListener("delete",s),n.removeEventListener("get",l),n.removeEventListener("set",c),f.revoke()}}};var Ct=({stateContextDeconstruct:r,stateContextName:t})=>({deconstruct:r,name:t,create:(e,n,o,i)=>{let a=e.getProxy(),s=e.getState();if(!(!a||!s))return Re(t,e.getId(),s,a)(e,n,o,i)}});var ve=(r,...t)=>{if(!t.length)return r;let e=t.shift();if(we(r)&&we(e))for(let n in e)we(e[n])?(r[n]||Object.assign(r,{[n]:{}}),ve(r[n],e[n])):Array.isArray(e[n])?r[n]=e[n].map(o=>we(o)?ve({},o):o):Object.assign(r,{[n]:e[n]});return ve(r,...t)},He=(r,t)=>{let e=r,n=0;for(;n<t.length-1;n++)e=e[t[n]];return e[t[n]]},we=r=>r&&typeof r=="object"&&!Array.isArray(r),K=(r,t,e)=>{if(typeof r!="object")return;let n=0;for(;n<t.length-1;n++)if(r=r[t[n]],typeof r!="object")return;r[t[n]]=e};var xt=(r,t,e,n,o)=>({deconstruct:o,name:r,create:Re(r,t,e,n)});var Dt=({storeContextDeconstruct:r,storeContextInitial:t,storeContextName:e})=>{let n=ve({},t),o=new J,i=o.add(n);return xt(e,Symbol("ID_STORE"),i,o,r)};var Ot=({watchContextName:r})=>({name:r,create:(t,e)=>{let n=null,o=!1,i=!1,a=!1,s=null,l=()=>{a=!0,n=[];let c=t.getLibrary();s=c.getProcessor();let f=(m,g)=>{let h=Object.getOwnPropertySymbols(g);if(h.length>0){let v=[],E=(C,x)=>{v.push({id:C,path:x})};for(let C of h)for(let x of n)if(x.attribute||(x.attribute=e.clone(),s(t,x.attribute,x.path)),x.attribute.hasAccessed(C,g[C])){let{contexts:w,destroy:u}=z(t,e,E,{});x.callback(w),u();continue}v.length>0&&t.getLibrary().update(v)}},d=()=>{i||(i=!0,e.removeEventListener("changed",d),e.removeEventListener("destroyed",d),c.removeEventListener("updating",f))};e.addEventListener("changed",d),e.addEventListener("destroyed",d),c.addEventListener("updating",f)};return{value:(c,f)=>{if(!(o||i))return a||l(),n.push({path:c,callback:f}),()=>{let d=[],m=(v,E)=>{d.push({id:v,path:E})},{contexts:g,destroy:h}=z(t,e.clone(),m,{});f(g),h(),d.length>0&&t.getLibrary().update(d)}},destroy:()=>{o=!0}}}});var Ie=(r,t)=>{for(let e in t){if(e==="class"){for(let n of t.class)r.classList.add(n);continue}r.setAttribute(e,t[e])}},Nt=(r,t)=>{let e=r.attributes,n=t.attributes,o=null,i=null,a=null,s=null,l=null;for(let c=n.length-1;c>=0;--c)l=n[c],s=l.name,o=l.namespaceURI,i=l.value,o?(s=l.localName||s,a=r.getAttributeNS(o,s),a!==i&&r.setAttributeNS(o,s,i)):r.hasAttribute(s)?(a=r.getAttribute(s),a!==i&&(i==="null"||i==="undefined"?r.removeAttribute(s):r.setAttribute(s,i))):r.setAttribute(s,i);for(let c=e.length-1;c>=0;--c)l=e[c],l.specified!==!1&&(s=l.name,o=l.namespaceURI,o?(s=l.localName||s,t.hasAttributeNS(o,s)||r.removeAttributeNS(o,s)):t.hasAttributeNS(null,s)||r.removeAttribute(s))},te=(r,t)=>{for(let e in t){if(e==="class"){for(let n of t.class)r.classList.remove(n);continue}t[e]&&r.attributes[e]!==t[e]||r.removeAttribute(e)}},ze=(r,t,e)=>{if(t==="value"&&r.tagName==="INPUT"){if(e||(e=""),r.getAttribute(t)===e)return;r.setAttribute(t,e);return}if(t==="checked"&&(r.type==="checkbox"||r.type==="radio")){r.checked=!!e;return}t==="class"&&(Array.isArray(e)?e=e.join(" "):typeof e=="object"&&(e=Object.entries(e).filter(([n,o])=>o).map(([n])=>n).join(" "))),t==="style"&&(Array.isArray(e)?e=e.join(" "):typeof e=="object"&&(e=Object.entries(e).map(([n,o])=>n+":"+o).join(";"))),e===!1||e===null||e===void 0?r.removeAttribute(t):r.setAttribute(t,e)},Ke=(r,t)=>{for(let e in t)ze(r,e,t[e])};var To=Function.prototype.toString.call(Function).replace("Function","Promise").replace(/\(.*\)/,"()");var M=r=>r&&Object.prototype.toString.call(r)==="[object Promise]";var Rt=({attributeDirectiveName:r})=>({name:r,update:(t,e,n)=>{let o=e.getDirective(),i=e.getElement(),a=e.getModifiers(),s=c=>{if(a.selector){if(typeof c!="string")return;c=fe(c),Ke(i,c);return}let f=e.getKeyRaw();if(!f){typeof c=="object"&&!Array.isArray(c)&&Ke(i,c);return}ze(i,f,c)},l=n(t,e,e.getValue());e.setData(l),M(l)?Promise.resolve(l).then(c=>{e.getData()===l&&s(c)}):s(l)}});var lr="-transition:",wt=(r,t,e,n=null)=>{if(e.nodeType!==1){n&&n();return}let o=t.prefix+lr+r,i=m=>{e.dispatchEvent(new CustomEvent("transition-"+m)),e.dispatchEvent(new CustomEvent("transition-"+r+"-"+m))},a,s,l,c,f=!1,d={};return a=o,s=e.getAttribute(a),s&&(d.during=fe(s),Ie(e,d.during)),a=o+".from",s=e.getAttribute(a),s&&(d.from=fe(s),Ie(e,d.from)),i("start"),c=requestAnimationFrame(()=>{if(c=null,f)return;if(d.from&&(te(e,d.from),d.from=void 0),a=o+".to",s=e.getAttribute(a),s)d.to=fe(s),Ie(e,d.to);else if(!d.during){i("end"),n&&n(),f=!0;return}let m=getComputedStyle(e),g=Number(m.transitionDuration.replace(/,.*/,"").replace("s",""))*1e3;g===0&&(g=Number(m.animationDuration.replace("s",""))*1e3),l=setTimeout(()=>{l=null,!f&&(d.during&&(te(e,d.during),d.during=void 0),d.to&&(te(e,d.to),d.to=void 0),i("end"),n&&n(),f=!0)},g)}),()=>{f&&(f=!0,d.during&&(te(e,d.during),d.during=void 0),d.from?(te(e,d.from),d.from=void 0):d.to&&(te(e,d.to),d.to=void 0),c?(cancelAnimationFrame(c),c=null):l&&(clearTimeout(l),l=null),i("end"),n&&n())}},Q=(r,t,e)=>wt("in",r,t,e),re=(r,t,e)=>wt("out",r,t,e);var It=({cloakDirectiveName:r})=>({name:r,update:(t,e)=>{let n=e.getElement(),o=t.getLibrary().getOptions();n.removeAttribute(o.prefix+"-"+(void 0).name),Q(o,n)}});var St=r=>{if(r.tagName!=="SCRIPT"||r.hasAttribute("src"))return!1;let t=document.createElement("script");return t.innerText=r.innerText,r.parentNode.insertBefore(t,r),r.remove(),!0},oe=(...r)=>{for(let t of r)if(!St(t)){let e=W(t),n=null;for(;n=e();)St(n)}};var Se=(r,...t)=>{let e={};for(let n=0;n<t.length&&!(n>=r.length);n++)e[r[n]]=t[n];return e},Tt=(r,t,e=-1)=>(e++,e>=r.length?-1:r[e][ce].value===t?e:Tt(r,t,e)),Te=(r,t,e,n,o,i,a,s)=>{let l=r.getLibrary().getOptions(),c=Tt(n,i,o);if(c>=0){if(c===o+1)return;let m=n[c];(n[o]?n[o]:e).insertAdjacentElement("afterend",m),t(m[ce].id);return}let f=document.importNode(e.content,!0).firstElementChild;(o===-1?e:n[o]).insertAdjacentElement("afterend",f),s&&oe(f),Q(l,f),f[ce]={id:Symbol("ID_FOR"),value:i,variables:a},n.splice(o+1,0,f)},Ge=(r,t,e)=>{if(t.length<e)return;let n=r.getLibrary().getOptions();for(let o=t.length-1;o>=e;o--){let i=t[o];t.splice(o,1),re(n,i,()=>{i.remove()})}},Lt=({allowInlineScript:r,forDirectiveName:t})=>({name:t,update:(e,n,o)=>{let i=n.getDirective(),a=n.getElement(),s=n.getModifiers();if(a.tagName!=="TEMPLATE")return;let l=at(n.getValue());if(!l)return;let c={},f=h=>{c[h]||(c[h]=["$for"])},d=h=>{let v=n.getData(),E=v.elements?v.elements:[],C=typeof h;if(h!=null)if(C==="number"){for(let x=0;x<h;x++){let w=Se(l.variables,x);Te(e,f,a,E,x-1,h,w,r||s.script)}Ge(e,E,h)}else if(C==="string"){for(let x=0;x<h.length;x++){let w=h[x],u=Se(l.variables,w,x);Te(e,f,a,E,x-1,w,u,r||s.script)}Ge(e,E,h.length)}else{let x,w;try{let u=[...h];x=!0,w=u.length}catch(u){}if(x)for(let u=0;u<w;u++){let p=h[u],y=Se(l.variables,p,u);Te(e,f,a,E,u-1,p,y,r||s.script)}else{let u=Object.keys(h);w=u.length;for(let p=0;p<w;p++){let y=u[p],b=h[y],I=Se(l.variables,y,b,p);Te(e,f,a,E,p-1,b,I,r||s.script)}}Ge(e,E,w)}Object.getOwnPropertySymbols(c).length>0&&e.update(c),n.setData(Object.assign({},v,{elements:E}))},m;isNaN(l.iterable)?m=o(e,n,l.iterable):m=Number(l.iterable);let g=n.getData();n.setData(Object.assign({},g,{result:m})),M(m)?Promise.resolve(m).then(h=>{n.getData().result===m&&d(h)}):d(m)},destroy:(e,n)=>{let o=n.getData();if(o.elements)for(let i of o.elements)re(e.getLibrary().getOptions(),i,()=>{i.remove()})}});var fr={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},ur=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;var Pt=r=>typeof r!="string"?r:r.replaceAll(ur,t=>fr[t]);var dr=(r,t)=>{let e=t.nodeType,n=t.nodeName;e===1&&Nt(r,t),(e===3||e===8)&&r.nodeValue!==t.nodeValue&&(r.nodeValue=t.nodeValue),n==="INPUT"?pr(r,t):n==="OPTION"?qe(r,t,"selected"):n==="TEXTAREA"&&mr(r,t)},We=(r,t,e)=>{if(typeof r!="object")throw new Error("Existing tree should be an object.");if(typeof t=="string")t=lt(t);else if(typeof t!="object")throw new Error("New tree should be an object.");return e&&e.childrenOnly||t.nodeType===11?(kt(r,t),r):Le(r,t)},pr=(r,t)=>{let e=t.value,n=r.value;qe(r,t,"checked"),qe(r,t,"disabled"),r.indeterminate!==t.indeterminate&&(r.indeterminate=t.indeterminate),r.type!=="file"&&(n!==e&&(r.setAttribute("value",e),r.value=e),e==="null"&&(r.value="",r.removeAttribute("value")),t.hasAttributeNS(null,"value")?r.type==="range"&&(r.value=e):r.removeAttribute("value"))},mr=(r,t)=>{let e=t.value;r.value!==e&&(r.value=e),r.firstChild&&r.firstChild.nodeValue!==e&&(r.firstChild.nodeValue=e)},qe=(r,t,e)=>{r[e]!==t[e]&&(r[e]=t[e],t[e]?r.setAttribute(e,""):r.removeAttribute(e))},Le=(r,t)=>r?t?r.isSameNode&&r.isSameNode(t)?r:r.tagName!==t.tagName?t:(dr(r,t),kt(r,t),r):null:t,kt=(r,t)=>{let e,n,o,i,a=0;for(let s=0;e=r.childNodes[s],n=t.childNodes[s-a],!(!e&&!n);s++)if(!n)r.removeChild(e),s--;else if(!e)r.appendChild(n),a++;else if(Ye(e,n))o=Le(e,n),o!==e&&(r.replaceChild(o,e),a++);else{i=null;for(let l=s;l<r.childNodes.length;l++)if(Ye(r.childNodes[l],n)){i=r.childNodes[l];break}i?(o=Le(i,n),o!==i&&a++,r.insertBefore(o,e)):!n.id&&!e.id?(o=Le(e,n),o!==e&&(r.replaceChild(o,e),a++)):(r.insertBefore(n,e),a++)}};var Ut=({allowInlineScript:r,htmlDirectiveName:t})=>({name:t,update:(e,n,o)=>{let i=n.getDirective(),a=n.getElement(),s=n.getModifiers(),l=f=>{if(s.decode&&(f=Pt(f)),f instanceof HTMLElement){for(let d of a.children)d.remove();a.append(f.cloneNode(!0));return}if(typeof f=="string"){if(s.morph)if(s.outer)We(a,f);else{if(a.children.length===0)a.append(document.createElement("div"));else if(a.children.length>1)for(let m=a.children.length-1;m>=1;m--)a.children[m].remove();let d=We(a.children[0],f);a.children[0].isSameNode(d)||(a.children[0].remove(),a.append(d))}else s.outer?a.outerHTML!==f&&(a.outerHTML=f,(r||s.script)&&oe(a)):a.innerHTML!==f&&(a.innerHTML=f,(r||s.script)&&oe(...a.children));return}},c=o(e,n,n.getValue());n.setData(c),M(c)?Promise.resolve(c).then(f=>{n.getData()===c&&l(f)}):l(c)}});var jt=({allowInlineScript:r,ifDirectiveName:t})=>({name:t,update:(e,n,o)=>{let i=e.getLibrary().getOptions(),a=n.getDirective(),s=n.getModifiers(),l=n.getElement();if(l.tagName!=="TEMPLATE"||l.childCount>1)return;let c=m=>{let g=n.getData(),h=g.element,v=g.transition;m?h||(v&&v(),h=document.importNode(l.content,!0).firstElementChild,l.insertAdjacentElement("afterend",h),(r||s.script)&&oe(h),v=Q(i,h)):h&&(v&&v(),v=re(i,h,()=>{h.remove()})),n.setData(Object.assign({},g,{element:h,transition:v}))},f=o(e,n,n.getValue()),d=n.getData();n.setData(Object.assign({},d,{result:f})),M(f)?Promise.resolve(f).then(m=>{n.getData().result===m&&c(m)}):c(f)},destroy:(e,n,{transitionOut:o})=>{let i=n.getData();i.element&&o(e.getLibrary().getOptions(),i.element,()=>{i.element.remove()})}});var X=Symbol("INITIALIZED"),_t=(r,t)=>{if(!t[X])return;let e=r.getElement(),n=r.getLibrary().getOptions().prefix+"-updated";e.removeEventListener(n,t[X].handler),delete t[X]},Mt=({initializedDirectiveName:r})=>({name:r,update:(t,e,n)=>{let o=t.getElement(),i=e.getValue(),a=t.getLibrary().getOptions().prefix+"-updated";if(e[X]){if(e[X].value===i)return;o.removeEventListener(a,e[X].handler),delete e[X]}let s=({detail:l})=>{l.element===o&&(n(t,e.clone(),i,{},{return:!1}),_t(t,e))};o.addEventListener(a,s,{once:!0}),e[X]={handler:s,value:i}},destroy:_t});var D=Symbol("ON"),ye={keydown:"keyup",mousedown:"mouseup",pointerdown:"pointerup"},$={NONE:0,BUFFER:1,DEBOUNCE:2,HELD:3,HOLD:4,THROTTLE:5,DELAY:6},hr=["alt","ctrl","meta","shift"],Bt=({onDirectiveName:r})=>({name:r,update:(t,e,n)=>{let o=e.getDirective(),i=e.getKeyRaw();if(!i)return;let a;i.startsWith("keydown-")?(a=i.substring(8).toLowerCase(),i="keydown"):i.startsWith("keyup-")&&(a=i.substring(6).toLowerCase(),i="keyup");let s=e.getElement(),l=e.getValue();if(e[D]){if(e[D].value===l)return;e[D].target.removeEventListener(e[D].eventName,e[D].handler),e[D].timeout&&clearTimeout(e[D].timeout),delete e[D]}let c=e.getModifiers(),f={};c.capture&&(f.capture=!0),c.once&&(f.once=!0),c.passive&&!c.prevent&&(f.passive=!0);let d=$.NONE;c.buffer?(d=$.BUFFER,c.buffer===!0&&(c.buffer=5)):c.debounce?(d=$.DEBOUNCE,c.debounce===!0&&(c.debounce=500)):c.held?(d=$.HELD,c.held===!0&&(c.held=500)):c.hold?(d=$.HOLD,c.hold===!0&&(c.hold=500)):c.throttle?(d=$.THROTTLE,c.throttle===!0&&(c.throttle=500)):c.delay&&(d=$.DELAY,c.delay===!0&&(c.delay=500));let m=[];if(a){c.meta=c.meta?!0:c.cmd||c.super;for(let v of hr)c[v]&&m.push(v)}let g=s;c.document||c.outside?g=document:c.window&&(g=window);let h=v=>{if(e[D].prevent||!c.repeat&&v.repeat||c.self&&v.target!==s||c.outside&&s.contains(v.target))return;if((i==="keydown"||i==="keyup")&&a){for(let x of m)if(!v[x+"Key"])return;let C=c.code?v.code:v.key;if(C===" "&&(C="space"),C=C.toLowerCase(),C!==a)return}c.prevent&&v.preventDefault(),c.stop&&v.stopPropagation();let E=()=>{n(t,e.clone(),l,{$event:v,$events:e[D].buffer},{return:!1}),e[D].buffer=[]};switch(e[D].buffer.push(v),d){case $.BUFFER:if(e[D].buffer.length<c.buffer)return;E();return;case $.DEBOUNCE:e[D].timeout&&(clearTimeout(e[D].timeout),e[D].timeout=null),e[D].timeout=setTimeout(E,c.debounce);return;case $.HELD:if(!(i in ye))return;let C=ye[i],x=window.performance.now();e[D].cancel=p=>{if(window.performance.now()-x<c.held){e[D].prevent=!1;return}if(C==="keyup"&&a){for(let b of m)if(!p[b+"Key"]){e[D].prevent=!1;return}let y=c.code?p.code:p.key;if(y===" "&&(y="space"),y=y.toLowerCase(),y!==a){e[D].prevent=!1;return}}if(c.self&&p.target!==s){e[D].prevent=!1;return}if(c.outside&&s.contains(p.target)){e[D].prevent=!1;return}E()},e[D].prevent=!0,g.addEventListener(C,e[D].cancel,{once:!0});return;case $.HOLD:if(!(i in ye))return;let w=ye[i];e[D].cancel=p=>{if(w==="keyup"&&a){let y=!1;for(let I of m)p[I+"Key"]||(y=!0);let b=c.code?p.code:p.key;if(b===" "&&(b="space"),b=b.toLowerCase(),b===a&&(y=!0),!y){e[D].prevent=!1;return}}if(c.self&&p.target!==s){e[D].prevent=!1;return}if(c.outside&&s.contains(p.target)){e[D].prevent=!1;return}clearTimeout(e[D].timeout)},g.addEventListener(w,e[D].cancel,{once:!0}),e[D].prevent=!0,e[D].timeout=setTimeout(()=>{g.removeEventListener(w,e[D].cancel),e[D].prevent=!1,E()},c.hold);return;case $.THROTTLE:let u=window.performance.now();if(e[D].lastExecution&&u-e[D].lastExecution<c.throttle)return;E(),e[D].lastExecution=u;return;case $.DELAY:e[D].prevent=!0,e[D].timeout=setTimeout(()=>{e[D].prevent=!1,E()},c.delay);return}E()};g.addEventListener(i,h,f),e[D]={buffer:[],eventName:i,handler:h,target:g,timeout:e[D]?e[D].timeout:void 0,value:l,prevent:!1}},destroy:(t,e)=>{e[D]&&(e[D].target.removeEventListener(e[D].eventName,e[D].handler),e[D].cancel&&e[D].target.removeEventListener(ye[e[D].eventName],e[D].cancel),e[D].timeout&&clearTimeout(e[D].timeout),delete e[D])}});var $t=(r,t)=>{if(!r[B])return;let e=t.getId();if(!r[B][e])return;let n=r.getLibrary(),o=r.getId(),i=r[B][e].name;delete r[B][e],delete r[ae],Object.keys(r[B]).length===0&&delete r[B],n.update([{id:o,path:"$references."+i}])},Ft=({referenceDirectiveName:r})=>({name:r,update:(t,e,n)=>{let o=t.getLibrary(),i=t.getId(),a=e.getDirective(),s=e.getElement(),l=e.getId(),{referenceDirectiveEvaluate:c}=o.getOptions(),f=e.getValue();if(f=c?n(t,e,f):f.trim(),!f||typeof f!="string"||!/^[_$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(f)){$t(t,e);return}t[B]||(t[B]={}),t[B][l]={element:s,name:f},delete t[ae],o.update([{id:i,path:"$references."+f}])},destroy:$t});var Vt="SELECT",Pe="checked",Yt="selected",Ht="checkbox",zt=({selectDirectiveName:r})=>({name:r,update:(t,e,n)=>{let o=e.getElement(),i=e.getDirective(),a=o.getAttribute("type");if(o.tagName!==Vt&&!(o.tagName==="INPUT"&&(a===Ht||a==="radio")))return;let s=c=>{if(o.tagName===Vt)for(let f of Array.from(o.options)){let d=Array.isArray(c)?c.includes(f.value):c===f.value;f.selected!==d&&(f.selected=d,d?f.setAttribute(Yt,""):f.removeAttribute(Yt))}else if(a===Ht){let f=c.includes(o.value);o.checked!==f&&(f?o.setAttribute(Pe,""):o.removeAttribute(Pe))}else{let f=c===o.value;o.checked!==f&&(f?o.setAttribute(Pe,""):o.removeAttribute(Pe))}},l=n(t,e,e.getValue());e.setData(l),M(l)?Promise.resolve(l).then(c=>{e.getData()===l&&s(c)}):s(l)}});var Kt=({showDirectiveName:r})=>({name:r,update:(t,e,n)=>{let o=t.getLibrary().getOptions(),i=e.getElement(),a=()=>{let c=e.getData();c.transition&&c.transition();let f;c.result?(i.style.display=null,f=Q(o,i)):f=re(o,i,()=>{i.style.display="none"}),e.setData(Object.assign({},c,{transition:f}))},s=n(t,e,e.getValue()),l=e.getData();M(s)?(e.setData(Object.assign({},l,{result:s})),Promise.resolve(s).then(c=>{e.getData().result===s&&a(c)})):(!l||l.result!==s)&&(e.setData(Object.assign({},l,{result:s})),a())}});var Ae=Symbol("SYNC"),Gt=({syncDirectiveName:r})=>({name:r,update:(t,e,n)=>{let o=e.getElement(),i=e.getDirective(),a=!e[Ae];if(a&&!(o.tagName==="DIV"&&o.hasAttribute("contenteditable"))&&o.tagName!=="INPUT"&&o.tagName!=="SELECT"&&o.tagName!=="TEXTAREA")return;let s=e.getValue().trim(),l=e.getKey();if(l&&(s="$"+l+"."+s),!/^[_$a-z]{1}[._$a-z0-9]{0,}$/i.test(s))return;let c=s.split(".");if(a){let d;switch(o.tagName){case"DIV":d=()=>{let[m,g]=ee(t,e.clone());K(m,c,le(o.innerText)),g()};break;case"INPUT":d=()=>{let m=le(o.value),[g,h]=ee(t,e.clone());if(o.type==="checkbox"){let v=He(g,c);if(o.checked)v||K(g,c,[m]),v.includes(o.value)||v.push(m);else if(v){let E=v.indexOf(o.value);E>=0&&v.splice(E,1)}}else if(o.type==="radio"){let v=He(g,c);o.checked?v!==o.value&&K(g,c,m):v===o.value&&K(g,c,null)}else K(g,c,m);h()};break;case"TEXTAREA":d=()=>{let[m,g]=ee(t,e.clone());K(m,c,le(o.innerText)),g()};break;case"SELECT":d=()=>{let[m,g]=ee(t,e.clone());if(o.multiple){let h=[];for(let v of o.selectedOptions)h.push(le(v.value));K(m,c,[h.join("','")])}else K(m,c,le(o.selectedOptions[0].value));g()};break}o.addEventListener("input",d),e[Ae]=d}let f=n(t,e.clone(),s);switch(o.tagName){case"DIV":case"TEXTAREA":f!==o.innerText&&(o.innerText=f);break;case"INPUT":if(o.type==="checkbox"){let d=f.includes(o.value);o.checked!==d&&(o.checked=d,d?o.setAttribute("checked",""):o.removeAttribute("checked"))}else if(o.type==="radio"){let d=f===o.value;o.checked!==d&&(o.checked=d,d?o.setAttribute("checked",""):o.removeAttribute("checked"))}else f!==o.value&&o.setAttribute("value",f);break;case"SELECT":for(let d of Array.from(o.options)){let m=Array.isArray(f)?f.includes(d.value):f===d.value;d.selected!==m&&(d.selected=m,m?d.setAttribute("selected",""):d.removeAttribute("selected"))}break}},destroy:(t,e)=>{if(!e[Ae])return;e.getElement().removeEventListener("input",e[Ae]),delete e[Ae]}});var qt=({textDirectiveName:r})=>({name:r,update:(t,e,n)=>{let o=e.getElement(),i=e.getModifiers(),a=l=>{i.content?o.textContent!==l&&(o.textContent=l):o.innerText!==l&&(o.innerText=l)},s=n(t,e,e.getValue());e.setData(s),M(s)?Promise.resolve(s).then(l=>{e.getData()===s&&a(l)}):a(s)}});var Wt=({watchDirectiveName:r})=>({name:r,update:(t,e,n)=>n(t,e.clone(),e.getValue(),{},{return:!1})});var de=class extends H{constructor(t){var b,I;super();let{prefix:e,processor:n,root:o}=t=Object.freeze(Object.assign({prefix:"d",processor:"execute",root:document.body,allowInlineScript:!1,forContextDeconstruct:!0,stateContextDeconstruct:!0,storeContextDeconstruct:!1,storeContextInitial:{},indicatorDirectiveEvaluate:!0,referenceDirectiveEvaluate:!0,selectFromElementDirectiveEvaluate:!0,targetDirectiveEvaluate:!0,childrenContextName:"$children",componentContextName:"$component",dispatchContextName:"$dispatch",elementContextName:"$element",forContextName:"$for",inContextContextName:"$inContext",nextSiblingContextName:"$nextSibling",nextTickContextName:"$nextTick",parentContextName:"$parent",previousSiblingContextName:"$previousSibling",referencesContextName:"$references",siblingsContextName:"$siblings",stateContextName:"$state",storeContextName:"$store",watchContextName:"$watch",attributeDirectiveName:"attribute",cloakDirectiveName:"cloak",forDirectiveName:"for",htmlDirectiveName:"html",ifDirectiveName:"if",ignoreDirectiveName:"ignore",indicatorDirectiveName:"indicator",initializedDirectiveName:"initialized",onDirectiveName:"on",referenceDirectiveName:"reference",selectDirectiveName:"select",selectFromElementDirectiveName:"select",showDirectiveName:"show",stateDirectiveName:"state",syncDirectiveName:"sync",targetDirectiveName:"target",textDirectiveName:"text",transitionDirectiveName:"transition",watchDirectiveName:"watch",redirectHeaderName:"redirect",requestHeaderName:"request",titleHeaderName:"title"},t));if(typeof o=="string"&&(o=t.root=document.querySelector(o)),!e||typeof e!="string"||!o||typeof o!="object")return;let i=Symbol("ID_DOARS"),a=!1,s=!1,l,c,f,d=[],m={},g=[ft(t),ut(t),dt(t),pt(t),ht(t),gt(t),Et(t),vt(t),yt(t),At(t),bt(t),Ot(t),Dt(t),Ct(t),mt(t)],h=[Ft(t),Rt(t),Lt(t),Ut(t),jt(t),qt(t),It(t),Mt(t),Bt(t),zt(t),Kt(t),Gt(t),Wt(t)],v,E,C,x=typeof n,w;x==="function"?w=n:x==="string"&&this.constructor[n+"Expression"]?w=this.constructor[n+"Expression"]:w=(I=(b=this.constructor.executeExpression)!=null?b:this.constructor.interpretExpression)!=null?I:this.constructor.callExpression,this.getId=()=>i,this.getOptions=()=>Object.assign({},t),this.getEnabled=()=>a,this.enable=()=>{if(a)return this;s=!1,l=[],f={},this.dispatchEvent("enabling",[this]),a=!0,v=h.map(k=>k.name),E={};for(let k of h)E[k.name]=k;C=new RegExp("^"+e+"-("+v.join("|")+")(?:[$-_.a-z0-9]{0,})?$","i"),c=new MutationObserver(y.bind(this)),c.observe(o,{attributes:!0,childList:!0,subtree:!0});let{stateDirectiveName:A,ignoreDirectiveName:O}=this.getOptions(),R=e+"-"+A,N=e+"-"+O,P=[...o.querySelectorAll("["+R+"]")];for(let k=P.length-1;k>=0;k--)P[k].closest("["+N+"]")&&P.splice(k,1);return u(o.hasAttribute(R)&&!o.hasAttribute(N)?o:null,...P),this.dispatchEvent("enabled",[this]),this.dispatchEvent("updated",[this]),this},this.disable=()=>a?(c.disconnect(),c=null,s=l=f=null,this.dispatchEvent("disabling",[this],{reverse:!0}),p(...d),v=E=C=null,a=!1,this.dispatchEvent("disabled",[this],{reverse:!0}),this):this;let u=(...A)=>{let O=[],R=[];for(let N of A){if(!N||N[j])continue;let P=new Ee(this,N);d.push(P),O.push(P),R.push(N)}R.length>0&&this.dispatchEvent("components-added",[this,R]);for(let N of O)N.initialize();for(let N of O)N.updateAttributes(N.getAttributes());return O},p=(...A)=>{let O=[];for(let R of A){let N=d.indexOf(R);N<0||(O.push(R.getElement()),R.destroy(),d.splice(N,1))}return O.length>0&&this.dispatchEvent("components-removed",[this,O]),O};this.getSimpleContexts=()=>Object.assign({},m),this.setSimpleContext=(A,O=null)=>O===null?(delete m[A],this.dispatchEvent("simple-context-removed",[this,A]),!0):A.match("^([a-zA-Z_$][a-zA-Z\\d_$]*)$")?(m[A]=O,this.dispatchEvent("simple-context-added",[this,A,O]),!0):!1,this.setSimpleContexts=A=>{let O={};for(let R in A)Object.hasOwnProperty.call(A,R)&&(O[R]=this.setSimpleContext(R,A[R]));return O},this.getContexts=()=>[...g],this.addContexts=(A,...O)=>{if(a)return;A<0?A=g.length+A%g.length:A>g.length&&(A=g.length);let R=[];for(let N=0;N<O.length;N++){let P=O[N];g.includes(P)||(g.splice(A+N,0,P),R.push(P))}return R.length>0&&this.dispatchEvent("contexts-added",[this,R]),R},this.removeContexts=(...A)=>{if(a)return;let O=[];for(let R of A){let N=g.indexOf(R);N<0||(g.slice(N,1),O.push(R))}return O.length>0&&this.dispatchEvent("contexts-removed",[this,O]),O},this.getDirectives=()=>[...h],this.getDirectivesNames=()=>[...v],this.getDirectivesObject=()=>Object.assign({},E),this.isDirectiveName=A=>C.test(A),this.addDirectives=(A,...O)=>{if(a)return;A<0?A=h.length+A%h.length:A>h.length&&(A=h.length);let R=[];for(let N=0;N<O.length;N++){let P=O[N];h.includes(P)||(h.splice(A+N,0,P),R.push(P))}return R.length>0&&(v=E=C=null,this.dispatchEvent("directives-added",[this,R])),R},this.removeDirectives=(...A)=>{if(a)return;let O=[];for(let R of A){let N=h.indexOf(R);N<0||(h.slice(N,1),O.push(R))}return O.length>0&&(v=E=C=null,this.dispatchEvent("directives-removed",[this,O])),O},this.getProcessor=()=>w,this.update=A=>{if(a){if(A)for(let O of A){let{id:R,path:N}=O;if(!(R in f)){f[R]=[N];continue}f[R].includes(N)||f[R].push(N)}if(!s&&Object.getOwnPropertySymbols(f).length!==0){s=!0,A=Object.freeze(f),f={},this.dispatchEvent("updating",[this,A]);for(let O of d)O.update(A);if(s=!1,Object.getOwnPropertySymbols(f).length>0){window.requestAnimationFrame(()=>this.update());return}if(l.length>0){y();return}this.dispatchEvent("updated",[this,A])}}};let y=A=>{if(l.push(...A),s||l.length===0)return;s=!0,A=[...l],l=[];let{stateDirectiveName:O,ignoreDirectiveName:R}=this.getOptions(),N=e+"-"+O,P=e+"-"+R,k=[],ge=[],rt=S=>{if(S.nodeType===1)if(S[j]){ge.unshift(S[j]);let T=S.querySelectorAll(N);for(let U of T)U[j]&&ge.unshift(U)}else{let T=W(S,U=>U[j]?(ge.unshift(U[j]),!1):!0);do if(S[F])for(let U of S[F])U.getComponent().removeAttribute(U);while(S=T())}},ot=S=>{if(S.nodeType!==1||S.closest("["+P+"]"))return;let U=S.querySelectorAll("["+N+"]");for(let q of U)q.closest("["+P+"]")||k.push(q);if(S.hasAttribute(N)){k.push(S);return}let G=Z(S);if(G){let q=G.scanAttributes(S);G.updateAttributes(q)}};for(let S of A)if(S.type==="childList"){for(let T of S.removedNodes)rt(T);for(let T of S.addedNodes)ot(T)}else if(S.type==="attributes"){let T=S.target;if(S.attributeName===N){if(T[j])continue;let ie=Z(T);if(ie){let nt=T,ir=W(T,Ve=>Ve.hasAttribute(N));do for(let Ve of nt[F])ie.removeAttribute(Ve);while(nt=ir())}u(T);continue}else if(S.attributeName===P){if(T.hasAttribute(P)){rt(T);continue}ot(T);continue}if(!C.test(S.attributeName))continue;let U=Z(T);if(!U)continue;let G=null;for(let ie of T[F])if(ie.getName()===S.attributeName){G=ie;break}let q=T.getAttribute(S.attributeName);if(!G){q&&U.addAttribute(T,S.attributeName,q);continue}G.setValue(q),U.updateAttribute(G)}if(ge.length>0&&p(...ge),k.length>0&&u(...k),s=!1,l.length>0){y();return}Object.getOwnPropertySymbols(f).length>0&&this.update()}}};var gr=[9,10,13,32],Qe=40,be=41,ke=44,ne=46,Qt=58,Xe=63,Je=91,Ze=93,Xt=125,Jt=["=","||=","&&=","??=","*=","**=","/=","%=","+=","-="],Ce={"=":1,"||=":1,"&&=":1,"??=":1,"*=":1,"**=":1,"/=":1,"%=":1,"+=":1,"-=":1,"||":2,"&&":3,"??":4,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,"*":11,"/":11,"%":11,"+":11,"-":11},Er=["-","!","+"],Ue="--",je="++",Zt={true:!0,false:!1,null:null,undefined:void 0},pe=r=>r>=48&&r<=57,et=r=>me(r)||pe(r),me=r=>r===36||r>=48&&r<=57||r===95||r>=65&&r<=90||r>=97&&r<=122,er=r=>{let t=0,e=()=>(t++,{type:5,elements:n(Ze)}),n=u=>{let p=[],y=!1,b=0;for(;t<r.length;){m();let I=r.charCodeAt(t);if(I===u){if(y=!0,t++,u===be&&b&&b>=p.length)throw new Error("Unexpected token "+String.fromCharCode(u));break}else if(I===ke){if(t++,b++,b!==p.length){if(u===be)throw new Error("Unexpected token ,");if(u===Ze)for(let A=p.length;A<b;A++)p.push(null)}}else{if(p.length!==b&&b!==0)throw new Error("Expected comma");{let A=a();if(!A)throw new Error("Expected comma");p.push(A)}}}if(!y)throw new Error("Expected "+String.fromCharCode(u));return p},o=()=>{let u=v();if(!u)return u;let p=i();if(!p)return u;let y={value:p,precedence:Ce[p]||0},b=v();if(!b)throw new Error("Expected expression after "+p);let I=[u,y,b],A;for(;p=i();){let R=Ce[p]||0;if(R===0){t-=p.length;break}y={value:p,precedence:R};let N=p;for(;I.length>2&&I[I.length-2]>R;)b=I.pop(),p=I.pop().value,u=I.pop(),A={type:Jt.indexOf(p)>=0?6:7,operator:p,left:u,right:b},I.push(A);if(A=v(),!A)throw new Error("Expected expression after "+N);I.push(y,A)}let O=I.length-1;for(A=I[O];O>1;)p=I[O-1].value,A={type:Jt.indexOf(p)>=0?6:7,operator:p,left:I[O-2],right:A},O-=2;return A},i=()=>{m();let u=r.substring(t,t+3),p=u.length;for(;p>0;){if(Object.prototype.hasOwnProperty.call(Ce,u)&&(!me(r.charCodeAt(t))||t+u.length<r.length&&!et(r.charCodeAt(t+u.length))))return t+=p,u;u=u.substring(0,--p)}return!1},a=()=>{let u=o();return m(),u=h(u),u},s=u=>{let p=[];for(;t<r.length;){let y=r.charCodeAt(t);if(y===59||y===ke)t++;else{let b=a();if(b)p.push(b);else if(t<r.length){if(y===u)break;throw new Error('Unexpected "'+r.charAt(t)+'"')}}}return p},l=()=>{let u=r.charCodeAt(t),p=t;if(me(u))t++;else throw new Error("Unexpected "+r.charAt(t));for(;t<r.length&&(u=r.charCodeAt(t),et(u));)t++;return{type:2,name:r.slice(p,t)}},c=()=>{let u="";for(;pe(r.charCodeAt(t));)u+=r.charAt(t++);if(r.charCodeAt(t)===ne)for(u+=r.charAt(t++);pe(r.charCodeAt(t));)u+=r.charAt(t++);let p=r.charAt(t);if(p==="e"||p==="E"){for(u+=r.charAt(t++),p=r.charAt(t),(p==="+"||p==="-")&&(u+=r.charAt(t++));pe(r.charCodeAt(t));)u+=r.charAt(t++);if(!pe(r.charCodeAt(t-1)))throw new Error("Expected exponent ("+u+r.charAt(t)+")")}let y=r.charCodeAt(t);if(me(y))throw new Error("Variable names cannot start with a number ("+u+r.charAt(t)+")");if(y===ne||u.length===1&&u.charCodeAt(0)===ne)throw new Error("Unexpected period");return{type:3,value:parseFloat(u)}},f=()=>{if(r.charCodeAt(t)!==123)return;t++;let u=[];for(;!isNaN(r.charCodeAt(t));){if(m(),r.charCodeAt(t)===Xt)return t++,E({type:11,properties:u});let p=v();if(!p)throw new Error("Missing }");if(m(),p.type===2&&(r.charCodeAt(t)===ke||r.charCodeAt(t)===Xt))u.push({type:4,computed:!1,key:p,value:p,shorthand:!0});else if(r.charCodeAt(t)===Qt){t++,m();let y=a();if(!y)throw new Error("Unexpected object property");let b=p.type===5;u.push({computed:b,key:b?p.elements[0]:p,shorthand:!1,type:4,value:y}),m()}else p&&u.push(p);r.charCodeAt(t)===ke&&t++}throw new Error("Missing }")},d=()=>{t++;let u=s(be);if(r.charCodeAt(t)===be)return t++,u.length===1?u[0]:u.length?{type:12,expressions:u}:!1;throw new Error("Unclosed (")},m=()=>{for(;gr.indexOf(r.charCodeAt(t))>=0;)t++},g=()=>{let u="",p=r.charAt(t++),y=!1;for(;t<r.length;){let b=r.charAt(t++);if(b===p){y=!0;break}if(b==="\\")switch(b=r.charAt(t++),b){case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="	";break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="\v";break;default:u+=b}else u+=b}if(!y)throw new Error('Unclosed quote after "'+u+'"');return{type:3,value:u}},h=u=>{if(!u||r.charCodeAt(t)!==Xe)return u;t++;let p=a();if(!p)throw new Error("Expected expression");if(m(),!r.charCodeAt(t)===Qt)throw new Error("Expected :");t++;let y=a();if(!y)throw new Error("Expected expression");let b={type:9,condition:u,consequent:p,alternate:y};if(u.operator&&Ce[u.operator]<=1){let I=u;for(;I.right.operator&&Ce[I.right.operator]<=1;)I=I.right;b.condition=I.right,I.right=b,b=u}return b},v=()=>{let u=f()||C();if(u)return x(u);m();let p=r.charCodeAt(t);if(pe(p)||p===ne)return c();if(p===34||p===39)u=g();else if(p===Je)u=e();else{let y=r.substring(t,t+1),b=y.length;for(;b>0;){if(Er.indexOf(y)>=0&&(!me(r.charCodeAt(t))||t+y.length<r.length&&!et(r.charCodeAt(t+y.length)))){t+=b;let I=v();if(!I)throw new Error("Missing unary operation parameter");return x({type:13,operator:y,parameter:I})}y=y.substr(0,--b)}me(p)?(u=l(),Object.prototype.hasOwnProperty.call(Zt,u.name)&&(u={type:3,value:Zt[u.name]})):p===Qe&&(u=d())}return x(E(u))},E=u=>{m();let p=r.charCodeAt(t);for(;p===ne||p===Je||p===Qe||p===Xe;){let y;if(p===Xe){if(r.charCodeAt(t+1)!==ne)break;y=!0,t+=2,m(),p=r.charCodeAt(t)}if(t++,p===Je){if(u={type:10,computed:!0,object:u,property:a()},m(),p=r.charCodeAt(t),p!==Ze)throw new Error("Unclosed [");t++}else p===Qe?u={type:8,parameters:n(be),callee:u}:(p===ne||y)&&(y&&t--,m(),u={type:10,computed:!1,object:u,property:l()});y&&(u.optional=!0),m(),p=r.charCodeAt(t)}return u},C=()=>{if(t+1>=r.length)return;let u=r.substring(t,t+2),p=null;if(u===Ue)p=Ue;else if(u===je)p=je;else return;t+=2;let y={type:14,operator:p,parameter:E(l()),prefix:!0};if(!y.parameter||y.parameter.type!==2&&y.parameter.type!==10)throw new Error("Unexpected "+y.operator);return y},x=u=>{if(!u||t+1>=r.length)return u;let p=r.substring(t,t+2),y=null;if(p===Ue)y=Ue;else if(p===je)y=je;else return u;return t+=2,u={type:14,operator:y,parameter:u,prefix:!1},u},w=s();return w.length===0?void 0:w};var tr=(r,t,e={})=>{switch(r.type){case 2:return e[r.name]=t,t;case 10:let n=L(r.object,e),o=r.computed||r.property.type!==2?L(r.property,e):r.property.name;return typeof t=="function"?t.bind(n):(n[o]=t,t)}throw new Error("Unsupported assignment method.")},L=(r,t={})=>{if(r){if(Array.isArray(r))return r.map(e=>L(e,t));switch(r.type){case 2:return t[r.name];case 3:return r.value;case 5:let e=[];for(let g of r.elements)e.push(L(g,t));return e;case 6:let n=L(r.right,t);if(r.operator!=="="){let g=L(r.left,t);switch(r.operator){case"||=":if(g)return g;break;case"&&=":if(!g)return g;break;case"??=":if(g!=null)return g;break;case"*=":n=g*n;break;case"**=":n=st(g,n);break;case"/=":n=g/n;break;case"%=":n=g%n;break;case"+=":n=g+n;break;case"-=":n=g-n;break}}return tr(r.left,n,t);case 7:let o=L(r.left,t),i=L(r.right,t);switch(r.operator){case"||":return o||i;case"&&":return o&&i;case"??":return o!=null?o:i;case"==":return o==i;case"!=":return o!=i;case"===":return o===i;case"!==":return o!==i;case"<":return o<i;case">":return o>i;case"<=":return o<=i;case">=":return o>=i;case"-":return o-i;case"+":return o+i;case"*":return o*i;case"/":return o/i;case"%":return o%i}throw new Error("Unsupported operator: "+r.operator);case 8:let a=[];for(let g of r.parameters)a.push(L(g,t));return L(r.callee,t)(...a);case 9:return L(r.condition,t)?L(r.consequent,t):L(r.alternate,t);case 10:let s=L(r.object,t),l=r.computed||r.property.type!==2?L(r.property,t):r.property.name;return typeof s[l]=="function"?s[l].bind(s):s[l];case 11:let c={};for(let g of r.properties)c[g.computed||g.key.type!==2?L(g.key,t):g.key.name]=L(g.value,t);return c;case 12:return r.expressions.map(g=>L(g,t));case 13:let f=L(r.parameter,t);switch(r.operator){case"!":return!f;case"-":return-f;case"+":return+f}throw new Error("Unsupported operator: "+r.operator);case 14:let d=L(r.parameter,t),m=r.operator==="--"?-1:1;return tr(r.parameter,d+m,t),r.prefix?d+m:d}throw new Error('Unexpected node type "'+r.type+'".')}},rr=L;var or=er,nr=rr;var sr=(r,t,e,n=null,o=null)=>{o=Object.assign({return:!0},o);let[i,a]=ee(r,t,n),s;try{let l=or(e);if(o.return&&l&&l.length>1)throw new Error('Unable to return a single value from a compound expression of: "'+e+'".');s=nr(l,i)}catch(l){s=null}if(a(),o.return&&s)return s=s[0],s};de.interpretExpression=sr;var bs=de;export{bs as default};
//# sourceMappingURL=doars-interpret.esm.min.js.map
