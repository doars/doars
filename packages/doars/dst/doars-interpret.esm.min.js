var x=Symbol("ATTRIBUTES"),y=Symbol("COMPONENT"),q3=Symbol("FOR"),v=Symbol("REFERENCES"),Z3=Symbol("REFERENCES_CACHE");class l{constructor(){let J={};this.addEventListener=($,Q,Y=null)=>{if(!($ in J))J[$]=[];J[$].push({callback:Q,options:Y})},this.removeEventListener=($,Q)=>{if(!Object.keys(J).includes($))return;let Y=J[$],W=-1;for(let q=0;q<Y.length;q++)if(Y[q].callback===Q){W=q;break}if(W<0)return;if(Y.splice(W,1),Object.keys(Y).length===0)delete J[$]},this.removeEventListeners=($)=>{if(!$)return;delete J[$]},this.removeAllEventListeners=()=>{J={}},this.dispatchEvent=($,Q,Y=null)=>{if(!J[$])return;let W=J[$];for(let q=0;q<W.length;q++){let Z=Y&&Y.reverse?W[W.length-(q+1)]:W[q];if(Z.options&&Z.options.once)W.splice(q,1);Z.callback(...Q)}}}}var X3=(J)=>{return J.replace(/\\/g,"\\\\").replace(/\\'/g,"\\'").replace(/\\"/g,"\\\"").replace(/\n/g,"\\n")},Y6=(J)=>{return J.replace(/-(\w)/g,($,Q)=>Q.toUpperCase())},$1=(J)=>{let $={};for(let Q of J){let Y=Q.indexOf("-");if(Y<0){$[Q]=!0;continue}if(Y===0){$[Q.substring(1)]=!1;continue}let W=Q.substring(0,Y),q=Q.substring(Y+1),Z=q,X;if(q.endsWith("ms"))Z=q.substring(-2);else if(q.endsWith("s"))X="s",Z=q.substring(-1);else if(q.endsWith("m"))X="m",Z=q.substring(-1);else if(q.endsWith("h"))X="h",Z=q.substring(-1);if(Z=Number.parseInt(Z),!isNaN(Z))switch(q=Z,X){case"h":q*=60;case"m":q*=60;case"s":q*=1000;break}$[W]=q}return $},Y1=(J,$)=>{if($=$.match(new RegExp("^"+J+"-([a-z][0-9a-z-]{1,}):?([a-z][0-9a-z-]*)?(\\..*]*)?$","i")),!$)return;let[Q,Y,W,q]=$;W=W!==""?W:null;let Z=W?Y6(W):null;return q=q?q.substring(1).split("."):[],[Y,W,Z,q]},W1=(J)=>{let $=J.match(/^([$_a-z0-9,(){}\s]{1,}?)\s+(?:in|of)\s+([\s\S]{1,})$/i);if(!$)return;let Q=$[1].replace(/^[\s({]*|[)}\s]*$/g,"");if(Q=Q.match(/^([$_a-z0-9]{1,})?(?:,\s+?)?([$_a-z0-9]{1,})?(?:,\s+)?([$_a-z0-9]{1,})?$/i),!Q)return;return Q.shift(),{iterable:$[2].trim(),variables:[...Q]}},z3=(J)=>{if(typeof J==="string")J=J.split(/(?=\.)|(?=#)|(?=\[)/);if(!Array.isArray(J))return;let $={};for(let Q of J)switch(Q=Q.trim(),Q[0]){case"#":$.id=Q.substring(1);break;case".":if(Q=Q.substring(1),!$.class)$.class=[];if(!$.class.includes(Q))$.class.push(Q);break;case"[":let[Y,W,q]=Q.match(/^(?:\[)?([-$_.a-z0-9]{1,})(?:[$*^])?(?:=)?([\s\S]{0,})(?:\])$/i);$[W]=q;break}return $};class B3 extends l{constructor(J,$,Q,Y,W=!1){super();let q=Symbol("ID_ATTRIBUTE");if(!W){if(!$[x])$[x]=[];$[x].push(this)}let Z={},X=null,B,z,K,H,M;if(Q){let[L,_,V,A]=Y1(J.getLibrary().getOptions().prefix,Q);if(B=L,z=V,K=_,H=A,A)M=$1(A)}this.getComponent=()=>{return J},this.getElement=()=>{return $},this.getId=()=>{return q},this.getDirective=()=>{return B},this.getKey=()=>{return z},this.getKeyRaw=()=>{return K},this.getModifiers=()=>{return Object.assign({},M)},this.getModifiersRaw=()=>{return H},this.getName=()=>{return Q},this.getValue=()=>{return Y},this.setValue=(L)=>{Y=L,this.dispatchEvent("changed",[this])},this.clearData=()=>{X=null},this.hasData=()=>{return X!==null},this.getData=()=>{return X},this.setData=(L)=>{X=L},this.destroy=()=>{this.setData(null),this.clearAccessed();let L=$[x].indexOf(this);if(L>=0)$[x].splice(L,1);this.dispatchEvent("destroyed",[this]),this.removeAllEventListeners()},this.accessed=(L,_)=>{if(!Z[L])Z[L]=[];else if(Z[L].includes(_))return;Z[L].push(_),this.dispatchEvent("accessed",[this,L,_])},this.clearAccessed=()=>{Z={}},this.hasAccessed=(L,_)=>{if(!(L in Z))return!1;let V=Z[L];for(let A of _)if(V.includes(A))return!0;return!1},this.clone=()=>{return new B3(J,$,Q,Y,!0)}}}var W6=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],h=(J,$)=>{let Q=!1,Y={};for(let W of W6)Y[W]=(...q)=>{if(Q)return;if(W in $)return $[W](...q);return Reflect[W](...q)};return{proxy:new Proxy(J,Y),revoke:()=>{Q=!0}}};class G3 extends l{constructor(J={}){super();J=Object.assign({delete:!0,get:!0,set:!0},J);let $=new WeakMap;this.add=(Q,Y=[])=>{if($.has(Q))return $.get(Q);for(let Z in Q)if(Q[Z]&&typeof Q[Z]==="object")Q[Z]=this.add(Q[Z],[...Y,Z]);let W={};if(J.delete)W.deleteProperty=(Z,X)=>{if(!Reflect.has(Z,X))return!0;this.remove(Z,X);let B=Reflect.deleteProperty(Z,X);if(B)this.dispatchEvent("delete",[Z,Array.isArray(Z)?[...Y]:[...Y,X]]);return B};if(J.get)W.get=(Z,X,B)=>{if(X!==Symbol.unscopables)this.dispatchEvent("get",[Z,[...Y,X],B]);return Reflect.get(Z,X,B)};if(J.set)W.set=(Z,X,B,z)=>{if(Z[X]===B)return!0;if(B&&typeof B==="object")B=this.add(B,[...Y,X]);return Z[X]=B,this.dispatchEvent("set",[Z,Array.isArray(Z)?[...Y]:[...Y,X],B,z]),!0};let q=h(Q,W);return $.set(q,Q),q.proxy},this.remove=(Q)=>{if(!$.has(Q))return;let Y=$.get(Q);$.delete(Y);for(let W in Y.proxy)if(typeof Y.proxy[W]==="object")this.remove(Y.proxy[W]);Y.revoke()}}}var n=(J)=>{if(J.parentElement){if(J=J.parentElement,J[y])return J[y];return n(J)}};var q1=(J)=>{let $=J.substring(0,15).toLowerCase();if($.startsWith("<!doctype html>")||$.startsWith("<html>")){let Y=document.createElement("html");return Y.innerHTML=J,Y}let Q=document.createElement("template");return Q.innerHTML=J,Q.content.childNodes[0]},p3=(J,$)=>{if(J.isSameNode&&J.isSameNode($))return!0;if(J.type===3)return J.nodeValue===$.nodeValue;if(J.tagName===$.tagName)return!0;return!1};var s=(J,$)=>{let Q=-1,Y=null;return()=>{if(Q>=0&&Y){let q=Y();if(q)return q}let W=null;do{if(Q++,Q>=J.childElementCount)return null;W=J.children[Q]}while(!$(W));if(W.childElementCount)Y=s(W,$);return W}};class j3{constructor(J,$){let Q=Symbol("ID_COMPONENT"),{prefix:Y,stateDirectiveName:W}=J.getOptions(),q=J.getProcessor(),Z=[],X=!1,B=!1,z,K,H;if(!$.attributes[Y+"-"+W])return;$[y]=this;let M=[],L=n($);if(L){if(!L.getChildren().includes(this))L.getChildren().push(this),J.update([{id:L.getId(),path:"children"}])}let _=(V,A)=>{$.dispatchEvent(new CustomEvent(Y+"-"+V,{detail:A,bubbles:!0}))};this.getAttributes=()=>{return Z},this.getChildren=()=>{return M},this.getElement=()=>{return $},this.getId=()=>{return Q},this.getLibrary=()=>{return J},this.getParent=()=>{return L},this.getProxy=()=>{return K},this.getState=()=>{return H},this.setParent=(V)=>{L=V},this.initialize=()=>{if(B)return;B=!0;let{stateDirectiveName:V}=this.getLibrary().getOptions(),A=Y+"-"+V,S=$.attributes[A].value;if(z=S?q(this,new B3(this,$,null,S),S):{},z===null)z={};else if(typeof z!=="object"||Array.isArray(z))return;K=new G3,H=K.add(z),this.scanAttributes($)},this.destroy=()=>{if(!B)return;if(Z.length>0){let A=J.getDirectivesObject();for(let S in A)if(!A[S].destroy)A[S]=void 0;for(let S of Z){let R=A[S.getKey()];if(R)R.destroy(this,S,q);S.destroy()}}delete $[y],Z=[],B=!1,K.remove(z),H=null,K=null,z=null;let V=[];if(M.length>0){for(let A of M)A.setParent(L),V.push({id:A.getId(),path:"parent"});V.push({id:Q,path:"children"})}if(L){if(M.length>0)L.getChildren().push(...M),V.push({id:L.getId(),path:"children"});V.push({id:Q,path:"parent"})}if(V.length>0)J.update(V);_("destroyed",{element:$,id:Q})},this.addAttribute=(V,A,S)=>{let R=J.getDirectivesNames(),T=new B3(this,V,A,S),G=T.length,U=R.indexOf(T.getDirective());for(let F=Z.length-1;F>=0;F--)if(R.indexOf(Z[F].getDirective())<=U){G=F+1;break}return Z.splice(G,0,T),T},this.removeAttribute=(V)=>{let A=Z.indexOf(V);if(A<0)return;let R=J.getDirectivesObject[V.getKey()];if(R&&R.destroy)R.destroy(this,V,q);Z.splice(A,1),V.destroy()},this.scanAttributes=(V)=>{let{stateDirectiveName:A,ignoreDirectiveName:S}=this.getLibrary().getOptions(),R=Y+"-"+A,T=Y+"-"+S,G=[],U=s(V,(F)=>!F.hasAttribute(R)&&!F.hasAttribute(T));do for(let{name:F,value:j}of V.attributes)if(J.isDirectiveName(F))G.push(this.addAttribute(V,F,j));while(V=U());return G},this.updateAttribute=(V)=>{if(!V.getElement()||V.getValue()===null||V.getValue()===void 0){this.removeAttribute(V);return}let A=J.getDirectivesObject();V.clearAccessed();let S=A[V.getDirective()];if(S)S.update(this,V,q)},this.updateAttributes=(V)=>{if(!B||V.length<=0){if(!X)X=!0,_("updated",{attributes:V,element:$,id:Q});return}for(let A of V)this.updateAttribute(A);X=!0,_("updated",{attributes:V,element:$,id:Q})},this.update=(V)=>{if(!B)return;let A=Object.getOwnPropertySymbols(V),S=[];for(let R of Z)for(let T of A)if(R.hasAccessed(T,V[T]))this.updateAttribute(R),S.push(R);if(!X||S.length>0)X=!0,_("updated",{attributes:S,element:$,id:Q})}}}var p=(J,$,Q,Y=null)=>{let W=J.getLibrary(),q=W.getSimpleContexts(),Z=[],X="",B="",z=W.getContexts(),K=[];for(let H of z){if(!H||!H.name)continue;let M=H.create(J,$,Q);if(!M||!M.value)continue;if(M.destroy&&typeof M.destroy==="function")K.push(M.destroy);if(H.deconstruct&&typeof M.value==="object")Z.push(H.name),B+="with("+H.name+") { ",X+=" }";q[H.name]=M.value}if(typeof Y==="object")for(let H in Y)q[H]=Y[H];return{contexts:q,destroy:()=>{for(let H of K)H()},after:X,before:B,deconstructed:Z}},u=(J,$,Q,Y=null)=>{let W=null,q=h({},{get:(Z,X)=>{if(!W)W=p(J,$,Q,Y);if(X in W.contexts)return $.accessed(J.getId(),X),W.contexts[X];if(W.contexts.$state){if(X in W.contexts.$state)return $.accessed(J.getId(),"$state"),W.contexts.$state[X]}}});return{contexts:q.proxy,destroy:()=>{if(W&&W.destroy)W.destroy(J,$);q.revoke()}}},t=(J,$,Q=null)=>{let Y=[],W=(X,B)=>{Y.push({id:X,path:B})},{contexts:q,destroy:Z}=p(J,$,W,Q);return[q,()=>{if(Z(),Y.length>0)J.getLibrary().update(Y)}]};var Z1=({childrenContextName:J})=>({name:J,create:($,Q,Y)=>{let W,q=h($.getChildren(),{get:(Z,X,B)=>{if(!W)W=Z.map((K)=>u(K,Q,Y)),Q.accessed($.getId(),"children");if(isNaN(X))return Reflect.get(W,X,B);let z=Reflect.get(W,X,B);if(z)return z.contexts}});return{value:q.proxy,destroy:()=>{if(W)W.forEach((Z)=>Z.destroy());q.revoke()}}}});var X1=({componentContextName:J})=>({name:J,create:($)=>({value:$.getElement()})});var z1=({elementContextName:J})=>({name:J,create:($,Q)=>({value:Q.getElement()})});var B1=({dispatchContextName:J})=>({name:J,create:($)=>{return{value:(Q,Y={})=>{$.getElement().dispatchEvent(new CustomEvent(Q,{detail:Y,bubbles:!0}))}}}});var G1=({forContextDeconstruct:J,forContextName:$})=>({deconstruct:J,name:$,create:(Q,Y)=>{if(Q!==Y.getComponent())return;let W=Y.getElement(),q=Q.getElement(),Z=[],X={};while(W&&!W.isSameNode(q)){let z=W[q3];if(z){Z.push(z);for(let K in z.variables)X[K]=z.variables[K]}W=W.parentNode}if(Z.length===0)return;let B=h(X,{get:(z,K)=>{for(let H of Z)if(K in H.variables)return Y.accessed(H.id,"$for"),H.variables[K]}});return{value:B.proxy,destroy:()=>{B.revoke()}}}});var K1=({inContextContextName:J})=>({name:J,create:($,Q)=>({value:(Y)=>{let W=[],q=(z,K)=>{W.push({id:z,path:K})},{contexts:Z,destroy:X}=p($,Q,q,{}),B=Y(Z);if(X(),W.length>0)$.getLibrary().update(W);return B}})});var H1=({nextSiblingContextName:J})=>({name:J,create:($,Q,Y)=>{let W=$.getParent();if(!W)return{value:null};let q=W.getChildren(),Z=q.indexOf($);if(Z+1>=q.length)return{value:null};let{contexts:X,destroy:B}=u(q[Z+1],Q,Y);return{value:X,destroy:B}}});var F1=({nextTickContextName:J})=>({name:J,create:($,Q,Y)=>{let W,q=!1,Z=()=>{if(q)return;q=!0;let X=$.getLibrary();W=[];let B=()=>{z();let{contexts:K,destroy:H}=p($,Q,Y,{});for(let M of W)M(K);H()},z=()=>{X.removeEventListener("updated",B),Q.removeEventListener("changed",z),Q.removeEventListener("destroyed",z)};X.addEventListener("updated",B),Q.addEventListener("changed",z),Q.addEventListener("destroyed",z)};return{value:(X)=>{Z(),W.push(X)}}}});var U1=({parentContextName:J})=>({name:J,create:($,Q,Y)=>{let W=$.getParent();if(!W)return{value:null};let{contexts:q,destroy:Z}=u(W,Q,Y);return{value:q,destroy:Z}}});var L1=({previousSiblingContextName:J})=>({name:J,create:($,Q,Y)=>{let W=$.getParent();if(!W)return{value:null};let q=W.getChildren(),Z=q.indexOf($);if(Z<=0)return{value:null};let{contexts:X,destroy:B}=u(q[Z-1],Q,Y);return{value:X,destroy:B}}});var M1=({referencesContextName:J})=>({name:J,create:($,Q)=>{if(!$[v])return{value:[]};let Y=$[Z3];if(!Y){let q=$[v],Z=Object.getOwnPropertySymbols(q);Y={};for(let X of Z){let{element:B,name:z}=q[X];Y[z]=B}$[Z3]=Y}let W=h(Y,{get:(q,Z,X)=>{return Q.accessed($.getId(),"$references."+Z),Reflect.get(q,Z,X)}});return{value:W.proxy,destroy:()=>{W.revoke()}}}});var V1=({siblingsContextName:J})=>({name:J,create:($,Q,Y)=>{let W=$.getParent();if(!W)return{value:[]};let q,Z=h(W.getChildren().filter((X)=>X!==$),{get:(X,B,z)=>{if(!q)q=X.map((H)=>u(H,Q,Y)),Q.accessed($.getId(),"siblings");if(isNaN(B))return Reflect.get(q,B,z);let K=Reflect.get(q,B,z);if(K)return K.contexts}});return{value:Z.proxy,destroy:()=>{if(q)q.forEach((X)=>X.destroy());Z.revoke()}}}});var k3=(J,$,Q,Y)=>{return(W,q,Z)=>{let X=(H,M)=>Z($,J+"."+M.join(".")),B=(H,M)=>q.accessed($,J+"."+M.join(".")),z=(H,M)=>Z($,J+"."+M.join("."));Y.addEventListener("delete",X),Y.addEventListener("get",B),Y.addEventListener("set",z);let K=h(Q,{});return{value:K.proxy,destroy:()=>{Y.removeEventListener("delete",X),Y.removeEventListener("get",B),Y.removeEventListener("set",z),K.revoke()}}}};var j1=({stateContextDeconstruct:J,stateContextName:$})=>({deconstruct:J,name:$,create:(Q,Y,W,q)=>{let Z=Q.getProxy(),X=Q.getState();if(!Z||!X)return;return k3($,Q.getId(),X,Z)(Q,Y,W,q)}});var P3=(J,...$)=>{if(!$.length)return J;let Q=$.shift();if(f3(J)&&f3(Q))for(let Y in Q)if(f3(Q[Y])){if(!J[Y])Object.assign(J,{[Y]:{}});P3(J[Y],Q[Y])}else if(Array.isArray(Q[Y]))J[Y]=Q[Y].map((W)=>{if(f3(W))return P3({},W);return W});else Object.assign(J,{[Y]:Q[Y]});return P3(J,...$)},d3=(J,$)=>{let Q=J,Y=0;for(;Y<$.length-1;Y++)Q=Q[$[Y]];return Q[$[Y]]},f3=(J)=>{return J&&typeof J==="object"&&!Array.isArray(J)},d=(J,$,Q)=>{if(typeof J!=="object")return;let Y=0;for(;Y<$.length-1;Y++)if(J=J[$[Y]],typeof J!=="object")return;J[$[Y]]=Q};var P1=(J,$,Q,Y,W)=>({deconstruct:W,name:J,create:k3(J,$,Q,Y)});var A1=({storeContextDeconstruct:J,storeContextInitial:$,storeContextName:Q})=>{let Y=P3({},$),W=new G3,q=W.add(Y);return P1(Q,Symbol("ID_STORE"),q,W,J)};var _1=({watchContextName:J})=>({name:J,create:($,Q)=>{let Y=null,W=!1,q=!1,Z=!1,X=null,B=()=>{Z=!0,Y=[];let z=$.getLibrary();X=z.getProcessor();let K=(M,L)=>{let _=Object.getOwnPropertySymbols(L);if(_.length>0){let V=[],A=(S,R)=>{V.push({id:S,path:R})};for(let S of _)for(let R of Y){if(!R.attribute)R.attribute=Q.clone(),X($,R.attribute,R.path);if(R.attribute.hasAccessed(S,L[S])){let{contexts:T,destroy:G}=p($,Q,A,{});R.callback(T),G();continue}}if(V.length>0)$.getLibrary().update(V)}},H=()=>{if(!q)q=!0,Q.removeEventListener("changed",H),Q.removeEventListener("destroyed",H),z.removeEventListener("updating",K)};Q.addEventListener("changed",H),Q.addEventListener("destroyed",H),z.addEventListener("updating",K)};return{value:(z,K)=>{if(W||q)return;if(!Z)B();return Y.push({path:z,callback:K}),()=>{let H=[],M=(V,A)=>{H.push({id:V,path:A})},{contexts:L,destroy:_}=p($,Q.clone(),M,{});if(K(L),_(),H.length>0)$.getLibrary().update(H)}},destroy:()=>{W=!0}}}});var C3=(J,$)=>{for(let Q in $){if(Q==="class"){for(let Y of $.class)J.classList.add(Y);continue}J.setAttribute(Q,$[Q])}},w1=(J,$)=>{let Q=J.attributes,Y=$.attributes,W=null,q=null,Z=null,X=null,B=null;for(let z=Y.length-1;z>=0;--z)if(B=Y[z],X=B.name,W=B.namespaceURI,q=B.value,W){if(X=B.localName||X,Z=J.getAttributeNS(W,X),Z!==q)J.setAttributeNS(W,X,q)}else if(!J.hasAttribute(X))J.setAttribute(X,q);else if(Z=J.getAttribute(X),Z!==q)if(q==="null"||q==="undefined")J.removeAttribute(X);else J.setAttribute(X,q);for(let z=Q.length-1;z>=0;--z)if(B=Q[z],B.specified!==!1){if(X=B.name,W=B.namespaceURI,W){if(X=B.localName||X,!$.hasAttributeNS(W,X))J.removeAttributeNS(W,X)}else if(!$.hasAttributeNS(null,X))J.removeAttribute(X)}},e=(J,$)=>{for(let Q in $){if(Q==="class"){for(let Y of $.class)J.classList.remove(Y);continue}if($[Q]&&J.attributes[Q]!==$[Q])continue;J.removeAttribute(Q)}},m3=(J,$,Q)=>{if($==="value"&&J.tagName==="INPUT"){if(!Q)Q="";if(J.getAttribute($)===Q)return;J.setAttribute($,Q);return}if($==="checked"){if(J.type==="checkbox"||J.type==="radio"){J.checked=!!Q;return}}if($==="class"){if(Array.isArray(Q))Q=Q.join(" ");else if(typeof Q==="object")Q=Object.entries(Q).filter(([Y,W])=>W).map(([Y])=>Y).join(" ")}if($==="style"){if(Array.isArray(Q))Q=Q.join(" ");else if(typeof Q==="object")Q=Object.entries(Q).map(([Y,W])=>Y+":"+W).join(";")}if(Q===!1||Q===null||Q===void 0)J.removeAttribute($);else J.setAttribute($,Q)},c3=(J,$)=>{for(let Q in $)m3(J,Q,$[Q])};var DJ=Function.prototype.toString.call(Function).replace("Function","Promise").replace(/\(.*\)/,"()");var N=(J)=>{return J&&Object.prototype.toString.call(J)==="[object Promise]"};var D1=({attributeDirectiveName:J})=>({name:J,update:($,Q,Y)=>{let W=Q.getDirective(),q=Q.getElement(),Z=Q.getModifiers(),X=(z)=>{if(Z.selector){if(typeof z!=="string")return;z=z3(z),c3(q,z);return}let K=Q.getKeyRaw();if(!K){if(typeof z==="object"&&!Array.isArray(z))c3(q,z);return}m3(q,K,z)},B=Y($,Q,Q.getValue());if(Q.setData(B),N(B))Promise.resolve(B).then((z)=>{if(Q.getData()!==B)return;X(z)});else X(B)}});var q6="-transition:",R1=(J,$,Q,Y=null)=>{if(Q.nodeType!==1){if(Y)Y();return}let W=$.prefix+q6+J,q=(M)=>{Q.dispatchEvent(new CustomEvent("transition-"+M)),Q.dispatchEvent(new CustomEvent("transition-"+J+"-"+M))},Z,X,B,z,K=!1,H={};if(Z=W,X=Q.getAttribute(Z),X)H.during=z3(X),C3(Q,H.during);if(Z=W+".from",X=Q.getAttribute(Z),X)H.from=z3(X),C3(Q,H.from);return q("start"),z=requestAnimationFrame(()=>{if(z=null,K)return;if(H.from)e(Q,H.from),H.from=void 0;if(Z=W+".to",X=Q.getAttribute(Z),X)H.to=z3(X),C3(Q,H.to);else if(!H.during){if(q("end"),Y)Y();K=!0;return}let M=getComputedStyle(Q),L=Number(M.transitionDuration.replace(/,.*/,"").replace("s",""))*1000;if(L===0)L=Number(M.animationDuration.replace("s",""))*1000;B=setTimeout(()=>{if(B=null,K)return;if(H.during)e(Q,H.during),H.during=void 0;if(H.to)e(Q,H.to),H.to=void 0;if(q("end"),Y)Y();K=!0},L)}),()=>{if(!K)return;if(K=!0,H.during)e(Q,H.during),H.during=void 0;if(H.from)e(Q,H.from),H.from=void 0;else if(H.to)e(Q,H.to),H.to=void 0;if(z)cancelAnimationFrame(z),z=null;else if(B)clearTimeout(B),B=null;if(q("end"),Y)Y()}},o=(J,$,Q)=>{return R1("in",J,$,Q)},J3=(J,$,Q)=>{return R1("out",J,$,Q)};var S1=({cloakDirectiveName:J})=>({name:J,update:($,Q)=>{let Y=Q.getElement(),W=$.getLibrary().getOptions();Y.removeAttribute(Q.getName()),o(W,Y)}});var T1=(J)=>{if(J.tagName!=="SCRIPT"||J.hasAttribute("src"))return!1;let $=document.createElement("script");return $.innerText=J.innerText,J.parentNode.insertBefore($,J),J.remove(),!0},Q3=(...J)=>{for(let $ of J)if(!T1($)){let Q=s($),Y=null;while(Y=Q())T1(Y)}};var E3=(J,...$)=>{let Q={};for(let Y=0;Y<$.length;Y++){if(Y>=J.length)break;Q[J[Y]]=$[Y]}return Q},I1=(J,$,Q=-1)=>{if(Q++,Q>=J.length)return-1;if(J[Q][q3].value===$)return Q;return I1(J,$,Q)},y3=(J,$,Q,Y,W,q,Z,X)=>{let B=J.getLibrary().getOptions(),z=I1(Y,q,W);if(z>=0){if(z===W+1)return;let M=Y[z];(Y[W]?Y[W]:Q).insertAdjacentElement("afterend",M),$(M[q3].id);return}let K=document.importNode(Q.content,!0).firstElementChild;if((W===-1?Q:Y[W]).insertAdjacentElement("afterend",K),X)Q3(K);o(B,K),K[q3]={id:Symbol("ID_FOR"),value:q,variables:Z},Y.splice(W+1,0,K)},l3=(J,$,Q)=>{if($.length<Q)return;let Y=J.getLibrary().getOptions();for(let W=$.length-1;W>=Q;W--){let q=$[W];$.splice(W,1),J3(Y,q,()=>{q.remove()})}},O1=({allowInlineScript:J,forDirectiveName:$})=>({name:$,update:(Q,Y,W)=>{let q=Y.getDirective(),Z=Y.getElement(),X=Y.getModifiers();if(Z.tagName!=="TEMPLATE")return;let B=W1(Y.getValue());if(!B)return;let z={},K=(_)=>{if(!z[_])z[_]=["$for"]},H=(_)=>{let V=Y.getData(),A=V.elements?V.elements:[],S=typeof _;if(_!==null&&_!==void 0)if(S==="number"){for(let R=0;R<_;R++){let T=E3(B.variables,R);y3(Q,K,Z,A,R-1,_,T,J||X.script)}l3(Q,A,_)}else if(S==="string"){for(let R=0;R<_.length;R++){let T=_[R],G=E3(B.variables,T,R);y3(Q,K,Z,A,R-1,T,G,J||X.script)}l3(Q,A,_.length)}else{let R,T;try{let G=[..._];R=!0,T=G.length}catch{}if(R)for(let G=0;G<T;G++){let U=_[G],F=E3(B.variables,U,G);y3(Q,K,Z,A,G-1,U,F,J||X.script)}else{let G=Object.keys(_);T=G.length;for(let U=0;U<T;U++){let F=G[U],j=_[F],P=E3(B.variables,F,j,U);y3(Q,K,Z,A,U-1,j,P,J||X.script)}}l3(Q,A,T)}if(Object.getOwnPropertySymbols(z).length>0)Q.update(z);Y.setData(Object.assign({},V,{elements:A}))},M;if(!isNaN(B.iterable))M=Number(B.iterable);else M=W(Q,Y,B.iterable);let L=Y.getData();if(Y.setData(Object.assign({},L,{result:M})),N(M))Promise.resolve(M).then((_)=>{if(Y.getData().result!==M)return;H(_)});else H(M)},destroy:(Q,Y)=>{let W=Y.getData();if(W.elements)for(let q of W.elements)J3(Q.getLibrary().getOptions(),q,()=>{q.remove()})}});var Z6={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},X6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;var k1=(J)=>{if(typeof J!=="string")return J;return J.replaceAll(X6,($)=>{return Z6[$]})};var z6=(J,$)=>{let{nodeType:Q,nodeName:Y}=$;if(Q===1)w1(J,$);if(Q===3||Q===8){if(J.nodeValue!==$.nodeValue)J.nodeValue=$.nodeValue}if(Y==="INPUT")B6(J,$);else if(Y==="OPTION")s3(J,$,"selected");else if(Y==="TEXTAREA")G6(J,$)},o3=(J,$,Q)=>{if(typeof J!=="object")throw Error("Existing tree should be an object.");if(typeof $==="string")$=q1($);else if(typeof $!=="object")throw Error("New tree should be an object.");if(Q&&Q.childrenOnly||$.nodeType===11)return f1(J,$),J;return h3(J,$)},B6=(J,$)=>{let Q=$.value,Y=J.value;if(s3(J,$,"checked"),s3(J,$,"disabled"),J.indeterminate!==$.indeterminate)J.indeterminate=$.indeterminate;if(J.type==="file")return;if(Y!==Q)J.setAttribute("value",Q),J.value=Q;if(Q==="null")J.value="",J.removeAttribute("value");if(!$.hasAttributeNS(null,"value"))J.removeAttribute("value");else if(J.type==="range")J.value=Q},G6=(J,$)=>{let Q=$.value;if(J.value!==Q)J.value=Q;if(J.firstChild&&J.firstChild.nodeValue!==Q)J.firstChild.nodeValue=Q},s3=(J,$,Q)=>{if(J[Q]!==$[Q])if(J[Q]=$[Q],$[Q])J.setAttribute(Q,"");else J.removeAttribute(Q)},h3=(J,$)=>{if(!J)return $;if(!$)return null;if(J.isSameNode&&J.isSameNode($))return J;if(J.tagName!==$.tagName)return $;return z6(J,$),f1(J,$),J},f1=(J,$)=>{let Q,Y,W,q,Z=0;for(let X=0;;X++)if(Q=J.childNodes[X],Y=$.childNodes[X-Z],!Q&&!Y)break;else if(!Y)J.removeChild(Q),X--;else if(!Q)J.append(Y),Z++;else if(p3(Q,Y)){if(W=h3(Q,Y),W!==Q)J.replaceChild(W,Q),Z++}else{q=null;for(let B=X;B<J.childNodes.length;B++)if(p3(J.childNodes[B],Y)){q=J.childNodes[B];break}if(q){if(W=h3(q,Y),W!==q)Z++;J.insertBefore(W,Q)}else if(!Y.id&&!Q.id){if(W=h3(Q,Y),W!==Q)J.replaceChild(W,Q),Z++}else J.insertBefore(Y,Q),Z++}};var C1=({allowInlineScript:J,htmlDirectiveName:$})=>({name:$,update:(Q,Y,W)=>{let q=Y.getDirective(),Z=Y.getElement(),X=Y.getModifiers(),B=(K)=>{if(X.decode)K=k1(K);if(K instanceof HTMLElement){for(let H of Z.children)H.remove();Z.append(K.cloneNode(!0));return}if(typeof K==="string"){if(X.morph)if(X.outer)o3(Z,K);else{if(Z.children.length===0)Z.append(document.createElement("div"));else if(Z.children.length>1)for(let M=Z.children.length-1;M>=1;M--)Z.children[M].remove();let H=o3(Z.children[0],K);if(!Z.children[0].isSameNode(H))Z.children[0].remove(),Z.append(H)}else if(X.outer){if(Z.outerHTML!==K){if(Z.outerHTML=K,J||X.script)Q3(Z)}}else if(Z.innerHTML!==K){if(Z.innerHTML=K,J||X.script)Q3(...Z.children)}return}},z=W(Q,Y,Y.getValue());if(Y.setData(z),N(z))Promise.resolve(z).then((K)=>{if(Y.getData()!==z)return;B(K)});else B(z)}});var E1=({allowInlineScript:J,ifDirectiveName:$})=>({name:$,update:(Q,Y,W)=>{let q=Q.getLibrary().getOptions(),Z=Y.getDirective(),X=Y.getModifiers(),B=Y.getElement();if(B.tagName!=="TEMPLATE")return;if(B.childCount>1)return;let z=(M)=>{let L=Y.getData(),_=L.element,V=L.transition;if(!M){if(_){if(V)V();V=J3(q,_,()=>{_.remove()})}}else if(!_){if(V)V();if(_=document.importNode(B.content,!0).firstElementChild,B.insertAdjacentElement("afterend",_),J||X.script)Q3(_);V=o(q,_)}Y.setData(Object.assign({},L,{element:_,transition:V}))},K=W(Q,Y,Y.getValue()),H=Y.getData();if(Y.setData(Object.assign({},H,{result:K})),N(K))Promise.resolve(K).then((M)=>{if(Y.getData().result!==M)return;z(M)});else z(K)},destroy:(Q,Y,{transitionOut:W})=>{let q=Y.getData();if(q.element)W(Q.getLibrary().getOptions(),q.element,()=>{q.element.remove()})}});var r=Symbol("INITIALIZED"),y1=(J,$)=>{if(!$[r])return;let Q=J.getElement(),Y=J.getLibrary().getOptions().prefix+"-updated";Q.removeEventListener(Y,$[r].handler),delete $[r]},h1=({initializedDirectiveName:J})=>({name:J,update:($,Q,Y)=>{let W=$.getElement(),q=Q.getValue(),Z=$.getLibrary().getOptions().prefix+"-updated";if(Q[r]){if(Q[r].value===q)return;W.removeEventListener(Z,Q[r].handler),delete Q[r]}let X=({detail:B})=>{if(B.element!==W)return;Y($,Q.clone(),q,{},{return:!1}),y1($,Q)};W.addEventListener(Z,X,{once:!0}),Q[r]={handler:X,value:q}},destroy:y1});var D=Symbol("ON"),A3={keydown:"keyup",mousedown:"mouseup",pointerdown:"pointerup"},g={NONE:0,BUFFER:1,DEBOUNCE:2,HELD:3,HOLD:4,THROTTLE:5,DELAY:6},K6=["alt","ctrl","meta","shift"],N1=({onDirectiveName:J})=>({name:J,update:($,Q,Y)=>{let W=Q.getDirective(),q=Q.getKeyRaw();if(!q)return;let Z;if(q.startsWith("keydown-"))Z=q.substring(8).toLowerCase(),q="keydown";else if(q.startsWith("keyup-"))Z=q.substring(6).toLowerCase(),q="keyup";let X=Q.getElement(),B=Q.getValue();if(Q[D]){if(Q[D].value===B)return;if(Q[D].target.removeEventListener(Q[D].eventName,Q[D].handler),Q[D].timeout)clearTimeout(Q[D].timeout);delete Q[D]}let z=Q.getModifiers(),K={};if(z.capture)K.capture=!0;if(z.once)K.once=!0;if(z.passive&&!z.prevent)K.passive=!0;let H=g.NONE;if(z.buffer){if(H=g.BUFFER,z.buffer===!0)z.buffer=5}else if(z.debounce){if(H=g.DEBOUNCE,z.debounce===!0)z.debounce=500}else if(z.held){if(H=g.HELD,z.held===!0)z.held=500}else if(z.hold){if(H=g.HOLD,z.hold===!0)z.hold=500}else if(z.throttle){if(H=g.THROTTLE,z.throttle===!0)z.throttle=500}else if(z.delay){if(H=g.DELAY,z.delay===!0)z.delay=500}let M=[];if(Z){z.meta=z.meta?!0:z.cmd||z.super;for(let V of K6)if(z[V])M.push(V)}let L=X;if(z.document||z.outside)L=document;else if(z.window)L=window;let _=(V)=>{if(Q[D].prevent)return;if(!z.repeat&&V.repeat)return;if(z.self&&V.target!==X)return;if(z.outside&&X.contains(V.target))return;if((q==="keydown"||q==="keyup")&&Z){for(let R of M)if(!V[R+"Key"])return;let S=z.code?V.code:V.key;if(S===" ")S="space";if(S=S.toLowerCase(),S!==Z)return}if(z.prevent)V.preventDefault();if(z.stop)V.stopPropagation();let A=()=>{Y($,Q.clone(),B,{$event:V,$events:Q[D].buffer},{return:!1}),Q[D].buffer=[]};switch(Q[D].buffer.push(V),H){case g.BUFFER:if(Q[D].buffer.length<z.buffer)return;A();return;case g.DEBOUNCE:if(Q[D].timeout)clearTimeout(Q[D].timeout),Q[D].timeout=null;Q[D].timeout=setTimeout(A,z.debounce);return;case g.HELD:if(!(q in A3))return;let S=A3[q],R=window.performance.now();Q[D].cancel=(U)=>{if(window.performance.now()-R<z.held){Q[D].prevent=!1;return}if(S==="keyup"&&Z){for(let j of M)if(!U[j+"Key"]){Q[D].prevent=!1;return}let F=z.code?U.code:U.key;if(F===" ")F="space";if(F=F.toLowerCase(),F!==Z){Q[D].prevent=!1;return}}if(z.self&&U.target!==X){Q[D].prevent=!1;return}if(z.outside&&X.contains(U.target)){Q[D].prevent=!1;return}A()},Q[D].prevent=!0,L.addEventListener(S,Q[D].cancel,{once:!0});return;case g.HOLD:if(!(q in A3))return;let T=A3[q];Q[D].cancel=(U)=>{if(T==="keyup"&&Z){let F=!1;for(let P of M)if(!U[P+"Key"])F=!0;let j=z.code?U.code:U.key;if(j===" ")j="space";if(j=j.toLowerCase(),j===Z)F=!0;if(!F){Q[D].prevent=!1;return}}if(z.self&&U.target!==X){Q[D].prevent=!1;return}if(z.outside&&X.contains(U.target)){Q[D].prevent=!1;return}clearTimeout(Q[D].timeout)},L.addEventListener(T,Q[D].cancel,{once:!0}),Q[D].prevent=!0,Q[D].timeout=setTimeout(()=>{L.removeEventListener(T,Q[D].cancel),Q[D].prevent=!1,A()},z.hold);return;case g.THROTTLE:let G=window.performance.now();if(Q[D].lastExecution&&G-Q[D].lastExecution<z.throttle)return;A(),Q[D].lastExecution=G;return;case g.DELAY:Q[D].prevent=!0,Q[D].timeout=setTimeout(()=>{Q[D].prevent=!1,A()},z.delay);return}A()};L.addEventListener(q,_,K),Q[D]={buffer:[],eventName:q,handler:_,target:L,timeout:Q[D]?Q[D].timeout:void 0,value:B,prevent:!1}},destroy:($,Q)=>{if(!Q[D])return;if(Q[D].target.removeEventListener(Q[D].eventName,Q[D].handler),Q[D].cancel)Q[D].target.removeEventListener(A3[Q[D].eventName],Q[D].cancel);if(Q[D].timeout)clearTimeout(Q[D].timeout);delete Q[D]}});var v1=(J,$)=>{if(!J[v])return;let Q=$.getId();if(!J[v][Q])return;let Y=J.getLibrary(),W=J.getId(),q=J[v][Q].name;if(delete J[v][Q],delete J[Z3],Object.keys(J[v]).length===0)delete J[v];Y.update([{id:W,path:"$references."+q}])},g1=({referenceDirectiveName:J})=>({name:J,update:($,Q,Y)=>{let W=$.getLibrary(),q=$.getId(),Z=Q.getDirective(),X=Q.getElement(),B=Q.getId(),{referenceDirectiveEvaluate:z}=W.getOptions(),K=Q.getValue();if(K=z?Y($,Q,K):K.trim(),!K||typeof K!=="string"||!/^[_$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(K)){v1($,Q);return}if(!$[v])$[v]={};$[v][B]={element:X,name:K},delete $[Z3],W.update([{id:q,path:"$references."+K}])},destroy:v1});var x1="SELECT",N3="checked",b1="selected",u1="checkbox",p1=({selectDirectiveName:J})=>({name:J,update:($,Q,Y)=>{let W=Q.getElement(),q=Q.getDirective(),Z=W.getAttribute("type");if(W.tagName!==x1&&!(W.tagName==="INPUT"&&(Z===u1||Z==="radio")))return;let X=(z)=>{if(W.tagName===x1)for(let K of Array.from(W.options)){let H=Array.isArray(z)?z.includes(K.value):z===K.value;if(K.selected!==H)if(K.selected=H,H)K.setAttribute(b1,"");else K.removeAttribute(b1)}else if(Z===u1){let K=z.includes(W.value);if(W.checked!==K)if(K)W.setAttribute(N3,"");else W.removeAttribute(N3)}else{let K=z===W.value;if(W.checked!==K)if(K)W.setAttribute(N3,"");else W.removeAttribute(N3)}},B=Y($,Q,Q.getValue());if(Q.setData(B),N(B))Promise.resolve(B).then((z)=>{if(Q.getData()!==B)return;X(z)});else X(B)}});var d1=({showDirectiveName:J})=>({name:J,update:($,Q,Y)=>{let W=$.getLibrary().getOptions(),q=Q.getElement(),Z=()=>{let z=Q.getData();if(z.transition)z.transition();let K;if(z.result)q.style.display="",K=o(W,q);else K=J3(W,q,()=>{q.style.display="none"});Q.setData(Object.assign({},z,{transition:K}))},X=Y($,Q,Q.getValue()),B=Q.getData();if(N(X))Q.setData(Object.assign({},B,{result:X})),Promise.resolve(X).then((z)=>{if(Q.getData().result!==X)return;Z(z)});else if(!B||B.result!==X)Q.setData(Object.assign({},B,{result:X})),Z()}});var _3=Symbol("SYNC"),m1=({syncDirectiveName:J})=>({name:J,update:($,Q,Y)=>{let W=Q.getElement(),q=Q.getDirective(),Z=!Q[_3];if(Z){if(!(W.tagName==="DIV"&&W.hasAttribute("contenteditable"))&&W.tagName!=="INPUT"&&W.tagName!=="SELECT"&&W.tagName!=="TEXTAREA")return}let X=Q.getValue().trim(),B=Q.getKey();if(B)X="$"+B+"."+X;if(!/^[_$a-z]{1}[._$a-z0-9]{0,}$/i.test(X))return;let z=X.split(".");if(Z){let H;switch(W.tagName){case"DIV":H=()=>{let[M,L]=t($,Q.clone());d(M,z,X3(W.innerText)),L()};break;case"INPUT":H=()=>{let M=X3(W.value),[L,_]=t($,Q.clone());if(W.type==="checkbox"){let V=d3(L,z);if(W.checked){if(!V)d(L,z,[M]);if(!V.includes(W.value))V.push(M)}else if(V){let A=V.indexOf(W.value);if(A>=0)V.splice(A,1)}}else if(W.type==="radio"){let V=d3(L,z);if(W.checked){if(V!==W.value)d(L,z,M)}else if(V===W.value)d(L,z,null)}else d(L,z,M);_()};break;case"TEXTAREA":H=()=>{let[M,L]=t($,Q.clone());d(M,z,X3(W.innerText)),L()};break;case"SELECT":H=()=>{let[M,L]=t($,Q.clone());if(W.multiple){let _=[];for(let V of W.selectedOptions)_.push(X3(V.value));d(M,z,[_.join("','")])}else d(M,z,X3(W.selectedOptions[0].value));L()};break}W.addEventListener("input",H),Q[_3]=H}let K=Y($,Q.clone(),X);switch(W.tagName){case"DIV":case"TEXTAREA":if(K!==W.innerText)W.innerText=K;break;case"INPUT":if(W.type==="checkbox"){let H=K.includes(W.value);if(W.checked!==H)if(W.checked=H,H)W.setAttribute("checked","");else W.removeAttribute("checked")}else if(W.type==="radio"){let H=K===W.value;if(W.checked!==H)if(W.checked=H,H)W.setAttribute("checked","");else W.removeAttribute("checked")}else if(K!==W.value)W.setAttribute("value",K);break;case"SELECT":for(let H of Array.from(W.options)){let M=Array.isArray(K)?K.includes(H.value):K===H.value;if(H.selected!==M)if(H.selected=M,M)H.setAttribute("selected","");else H.removeAttribute("selected")}break}},destroy:($,Q)=>{if(!Q[_3])return;Q.getElement().removeEventListener("input",Q[_3]),delete Q[_3]}});var c1=({textDirectiveName:J})=>({name:J,update:($,Q,Y)=>{let W=Q.getElement(),q=Q.getModifiers(),Z=(B)=>{if(q.content){if(W.textContent!==B)W.textContent=B}else if(W.innerText!==B)W.innerText=B},X=Y($,Q,Q.getValue());if(Q.setData(X),N(X))Promise.resolve(X).then((B)=>{if(Q.getData()!==X)return;Z(B)});else Z(X)}});var l1=({watchDirectiveName:J})=>({name:J,update:($,Q,Y)=>Y($,Q.clone(),Q.getValue(),{},{return:!1})});class K3 extends l{constructor(J){super();let{prefix:$,processor:Q,root:Y}=J=Object.assign({prefix:"d",processor:"execute",root:document.body,allowInlineScript:!1,forContextDeconstruct:!0,stateContextDeconstruct:!0,storeContextDeconstruct:!1,storeContextInitial:{},indicatorDirectiveEvaluate:!0,referenceDirectiveEvaluate:!0,selectFromElementDirectiveEvaluate:!0,targetDirectiveEvaluate:!0,childrenContextName:"$children",componentContextName:"$component",dispatchContextName:"$dispatch",elementContextName:"$element",forContextName:"$for",inContextContextName:"$inContext",nextSiblingContextName:"$nextSibling",nextTickContextName:"$nextTick",parentContextName:"$parent",previousSiblingContextName:"$previousSibling",referencesContextName:"$references",siblingsContextName:"$siblings",stateContextName:"$state",storeContextName:"$store",watchContextName:"$watch",attributeDirectiveName:"attribute",cloakDirectiveName:"cloak",forDirectiveName:"for",htmlDirectiveName:"html",ifDirectiveName:"if",ignoreDirectiveName:"ignore",indicatorDirectiveName:"indicator",initializedDirectiveName:"initialized",onDirectiveName:"on",referenceDirectiveName:"reference",selectDirectiveName:"select",selectFromElementDirectiveName:"select",showDirectiveName:"show",stateDirectiveName:"state",syncDirectiveName:"sync",targetDirectiveName:"target",textDirectiveName:"text",transitionDirectiveName:"transition",watchDirectiveName:"watch",redirectHeaderName:"redirect",requestHeaderName:"request",titleHeaderName:"title"},J);if(typeof Y==="string")Y=J.root=document.querySelector(Y);if(J=Object.freeze(J),!$)return;if(typeof $!=="string")return;if(!Y)return;if(typeof Y!=="object")return;let W=Symbol("ID_DOARS"),q=!1,Z=!1,X,B,z,K=[],H={},M=[Z1(J),X1(J),z1(J),B1(J),K1(J),H1(J),F1(J),U1(J),L1(J),M1(J),V1(J),_1(J),A1(J),j1(J),G1(J)],L=[g1(J),D1(J),O1(J),C1(J),E1(J),c1(J),S1(J),h1(J),N1(J),p1(J),d1(J),m1(J),l1(J)],_,V,A,S=typeof Q,R;if(S==="function")R=Q;else if(S==="string"&&this.constructor[Q+"Expression"])R=this.constructor[Q+"Expression"];else R=this.constructor.executeExpression??this.constructor.interpretExpression??this.constructor.callExpression;this.getId=()=>{return W},this.getOptions=()=>{return Object.assign({},J)},this.getEnabled=()=>{return q},this.enable=()=>{if(q)return this;Z=!1,X=[],z={},this.dispatchEvent("enabling",[this]),q=!0,_=L.map((C)=>C.name),V={};for(let C of L)V[C.name]=C;A=new RegExp("^"+$+"-("+_.join("|")+")(?:[$-_.a-z0-9]{0,})?$","i"),B=new MutationObserver(U.bind(this)),B.observe(Y,{attributes:!0,childList:!0,subtree:!0});let{stateDirectiveName:F,ignoreDirectiveName:j}=this.getOptions(),P=$+"-"+F,w=$+"-"+j,O=[...Y.querySelectorAll("["+P+"]")];for(let C=O.length-1;C>=0;C--)if(O[C].closest("["+w+"]"))O.splice(C,1);return T(Y.hasAttribute(P)&&!Y.hasAttribute(w)?Y:null,...O),this.dispatchEvent("enabled",[this]),this.dispatchEvent("updated",[this]),this},this.disable=()=>{if(!q)return this;return B.disconnect(),B=null,Z=X=z=null,this.dispatchEvent("disabling",[this],{reverse:!0}),G(...K),_=V=A=null,q=!1,this.dispatchEvent("disabled",[this],{reverse:!0}),this};let T=(...F)=>{let j=[],P=[];for(let w of F){if(!w)continue;if(w[y])continue;let O=new j3(this,w);K.push(O),j.push(O),P.push(w)}if(P.length>0)this.dispatchEvent("components-added",[this,P]);for(let w of j)w.initialize();for(let w of j)w.updateAttributes(w.getAttributes());return j},G=(...F)=>{let j=[];for(let P of F){let w=K.indexOf(P);if(w<0)continue;j.push(P.getElement()),P.destroy(),K.splice(w,1)}if(j.length>0)this.dispatchEvent("components-removed",[this,j]);return j};this.getSimpleContexts=()=>Object.assign({},H),this.setSimpleContext=(F,j=null)=>{if(j===null)return delete H[F],this.dispatchEvent("simple-context-removed",[this,F]),!0;if(!F.match("^([a-zA-Z_$][a-zA-Z\\d_$]*)$"))return!1;return H[F]=j,this.dispatchEvent("simple-context-added",[this,F,j]),!0},this.setSimpleContexts=(F)=>{let j={};for(let P in F)if(Object.hasOwnProperty.call(F,P))j[P]=this.setSimpleContext(P,F[P]);return j},this.getContexts=()=>[...M],this.addContexts=(F,...j)=>{if(q)return;if(F<0)F=M.length+F%M.length;else if(F>M.length)F=M.length;let P=[];for(let w=0;w<j.length;w++){let O=j[w];if(M.includes(O))continue;M.splice(F+w,0,O),P.push(O)}if(P.length>0)this.dispatchEvent("contexts-added",[this,P]);return P},this.removeContexts=(...F)=>{if(q)return;let j=[];for(let P of F){let w=M.indexOf(P);if(w<0)continue;M.slice(w,1),j.push(P)}if(j.length>0)this.dispatchEvent("contexts-removed",[this,j]);return j},this.getDirectives=()=>[...L],this.getDirectivesNames=()=>[..._],this.getDirectivesObject=()=>Object.assign({},V),this.isDirectiveName=(F)=>A.test(F),this.addDirectives=(F,...j)=>{if(q)return;if(F<0)F=L.length+F%L.length;else if(F>L.length)F=L.length;let P=[];for(let w=0;w<j.length;w++){let O=j[w];if(L.includes(O))continue;L.splice(F+w,0,O),P.push(O)}if(P.length>0)_=V=A=null,this.dispatchEvent("directives-added",[this,P]);return P},this.removeDirectives=(...F)=>{if(q)return;let j=[];for(let P of F){let w=L.indexOf(P);if(w<0)continue;L.slice(w,1),j.push(P)}if(j.length>0)_=V=A=null,this.dispatchEvent("directives-removed",[this,j]);return j},this.getProcessor=()=>{return R},this.update=(F)=>{if(!q)return;if(F)for(let j of F){let{id:P,path:w}=j;if(!(P in z)){z[P]=[w];continue}if(!z[P].includes(w))z[P].push(w)}if(Z)return;if(Object.getOwnPropertySymbols(z).length===0)return;Z=!0,F=Object.freeze(z),z={},this.dispatchEvent("updating",[this,F]);for(let j of K)j.update(F);if(Z=!1,Object.getOwnPropertySymbols(z).length>0){Promise.resolve().then(this.update);return}if(X.length>0){U();return}this.dispatchEvent("updated",[this,F])};let U=(F)=>{if(X.push(...F),Z)return;if(X.length===0)return;Z=!0,F=[...X],X=[];let{stateDirectiveName:j,ignoreDirectiveName:P}=this.getOptions(),w=$+"-"+j,O=$+"-"+P,C=[],i=[],e3=(I)=>{if(I.nodeType!==1)return;if(I[y]){i.unshift(I[y]);let k=I.querySelectorAll(w);for(let E of k)if(E[y])i.unshift(E)}else{let k=s(I,(E)=>{if(E[y])return i.unshift(E[y]),!1;return!0});do{if(!I[x])continue;for(let E of I[x])E.getComponent().removeAttribute(E)}while(I=k())}},J1=(I)=>{if(I.nodeType!==1)return;if(I.closest("["+O+"]"))return;let E=I.querySelectorAll("["+w+"]");for(let c of E){if(c.closest("["+O+"]"))continue;C.push(c)}if(I.hasAttribute(w)){C.push(I);return}let m=n(I);if(m){let c=m.scanAttributes(I);m.updateAttributes(c)}};for(let I of F)if(I.type==="childList"){for(let k of I.removedNodes)e3(k);for(let k of I.addedNodes)J1(k)}else if(I.type==="attributes"){let k=I.target;if(I.attributeName===w){if(k[y])continue;let W3=n(k);if(W3){let Q1=k,$6=s(k,(u3)=>u3.hasAttribute(w));do for(let u3 of Q1[x])W3.removeAttribute(u3);while(Q1=$6())}T(k);continue}else if(I.attributeName===O){if(k.hasAttribute(O)){e3(k);continue}J1(k);continue}if(!A.test(I.attributeName))continue;let E=n(k);if(!E)continue;let m=null;for(let W3 of k[x])if(W3.getName()===I.attributeName){m=W3;break}let c=k.getAttribute(I.attributeName);if(!m){if(c)E.addAttribute(k,I.attributeName,c);continue}m.setValue(c),E.updateAttribute(m)}if(i.length>0)G(...i);if(C.length>0)T(...C);if(Z=!1,X.length>0){U();return}if(Object.getOwnPropertySymbols(z).length>0)this.update()}}}var H3=5,F3=6,U3=7,w3=8,D3=9,b=2,$3=3,a=10,R3=11,v3=4,S3=12,T3=13,L3=14;var H6=[9,10,13,32],r3=40,I3=41,g3=44,Y3=46,s1=58,a3=63,i3=91,n3=93,o1=125,r1=["=","||=","&&=","??=","*=","**=","/=","%=","+=","-="],O3={"=":1,"||=":1,"&&=":1,"??=":1,"*=":1,"**=":1,"/=":1,"%=":1,"+=":1,"-=":1,"||":2,"&&":3,"??":4,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,"*":11,"/":11,"%":11,"+":11,"-":11},F6=["-","!","+"],x3="--",b3="++",a1={true:!0,false:!1,null:null,undefined:void 0},M3=(J)=>J>=48&&J<=57,t3=(J)=>V3(J)||M3(J),V3=(J)=>J===36||J>=48&&J<=57||J===95||J>=65&&J<=90||J>=97&&J<=122,i1=(J)=>{let $=0,Q=()=>{return $++,{type:H3,elements:Y(n3)}},Y=(G)=>{let U=[],F=!1,j=0;while($<J.length){M();let P=J.charCodeAt($);if(P===G){if(F=!0,$++,G===I3&&j&&j>=U.length)throw Error("Unexpected token "+String.fromCharCode(G));break}else if(P===g3){if($++,j++,j!==U.length){if(G===I3)throw Error("Unexpected token ,");else if(G===n3)for(let w=U.length;w<j;w++)U.push(null)}}else if(U.length!==j&&j!==0)throw Error("Expected comma");else{let w=Z();if(!w)throw Error("Expected comma");U.push(w)}}if(!F)throw Error("Expected "+String.fromCharCode(G));return U},W=()=>{let G=V();if(!G)return G;let U=q();if(!U)return G;let F={value:U,precedence:O3[U]||0},j=V();if(!j)throw Error("Expected expression after "+U);let P=[G,F,j],w;while(U=q()){let C=O3[U]||0;if(C===0){$-=U.length;break}F={value:U,precedence:C};let i=U;while(P.length>2&&P[P.length-2]>C)j=P.pop(),U=P.pop().value,G=P.pop(),w={type:r1.indexOf(U)>=0?F3:U3,operator:U,left:G,right:j},P.push(w);if(w=V(),!w)throw Error("Expected expression after "+i);P.push(F,w)}let O=P.length-1;w=P[O];while(O>1)U=P[O-1].value,w={type:r1.indexOf(U)>=0?F3:U3,operator:U,left:P[O-2],right:w},O-=2;return w},q=()=>{M();let G=J.substring($,$+3),U=G.length;while(U>0){if(Object.prototype.hasOwnProperty.call(O3,G)&&(!V3(J.charCodeAt($))||$+G.length<J.length&&!t3(J.charCodeAt($+G.length))))return $+=U,G;G=G.substring(0,--U)}return!1},Z=()=>{let G=W();return M(),G=_(G),G},X=(G)=>{let U=[];while($<J.length){let F=J.charCodeAt($);if(F===59||F===g3)$++;else{let j=Z();if(j)U.push(j);else if($<J.length){if(F===G)break;throw Error('Unexpected "'+J.charAt($)+'"')}}}return U},B=()=>{let G=J.charCodeAt($),U=$;if(V3(G))$++;else throw Error("Unexpected "+J.charAt($));while($<J.length)if(G=J.charCodeAt($),t3(G))$++;else break;return{type:b,name:J.slice(U,$)}},z=()=>{let G="";while(M3(J.charCodeAt($)))G+=J.charAt($++);if(J.charCodeAt($)===Y3){G+=J.charAt($++);while(M3(J.charCodeAt($)))G+=J.charAt($++)}let U=J.charAt($);if(U==="e"||U==="E"){if(G+=J.charAt($++),U=J.charAt($),U==="+"||U==="-")G+=J.charAt($++);while(M3(J.charCodeAt($)))G+=J.charAt($++);if(!M3(J.charCodeAt($-1)))throw Error("Expected exponent ("+G+J.charAt($)+")")}let F=J.charCodeAt($);if(V3(F))throw Error("Variable names cannot start with a number ("+G+J.charAt($)+")");else if(F===Y3||G.length===1&&G.charCodeAt(0)===Y3)throw Error("Unexpected period");return{type:$3,value:parseFloat(G)}},K=()=>{if(J.charCodeAt($)!==123)return;$++;let G=[];while(!isNaN(J.charCodeAt($))){if(M(),J.charCodeAt($)===o1)return $++,A({type:R3,properties:G});let U=V();if(!U)throw Error("Missing }");if(M(),U.type===b&&(J.charCodeAt($)===g3||J.charCodeAt($)===o1))G.push({type:v3,computed:!1,key:U,value:U,shorthand:!0});else if(J.charCodeAt($)===s1){$++,M();let F=Z();if(!F)throw Error("Unexpected object property");let j=U.type===H3;G.push({computed:j,key:j?U.elements[0]:U,shorthand:!1,type:v3,value:F}),M()}else if(U)G.push(U);if(J.charCodeAt($)===g3)$++}throw Error("Missing }")},H=()=>{$++;let G=X(I3);if(J.charCodeAt($)===I3){if($++,G.length===1)return G[0];if(!G.length)return!1;return{type:S3,expressions:G}}throw Error("Unclosed (")},M=()=>{while(H6.indexOf(J.charCodeAt($))>=0)$++},L=()=>{let G="",U=J.charAt($++),F=!1;while($<J.length){let j=J.charAt($++);if(j===U){F=!0;break}if(j==="\\")switch(j=J.charAt($++),j){case"n":G+=`
`;break;case"r":G+="\r";break;case"t":G+="\t";break;case"b":G+="\b";break;case"f":G+="\f";break;case"v":G+="\v";break;default:G+=j}else G+=j}if(!F)throw Error('Unclosed quote after "'+G+'"');return{type:$3,value:G}},_=(G)=>{if(!G||J.charCodeAt($)!==a3)return G;$++;let U=Z();if(!U)throw Error("Expected expression");if(M(),!J.charCodeAt($)===s1)throw Error("Expected :");$++;let F=Z();if(!F)throw Error("Expected expression");let j={type:D3,condition:G,consequent:U,alternate:F};if(G.operator&&O3[G.operator]<=1){let P=G;while(P.right.operator&&O3[P.right.operator]<=1)P=P.right;j.condition=P.right,P.right=j,j=G}return j},V=()=>{let G=K()||S();if(G)return R(G);M();let U=J.charCodeAt($);if(M3(U)||U===Y3)return z();if(U===34||U===39)G=L();else if(U===i3)G=Q();else{let F=J.substring($,$+1),j=F.length;while(j>0){if(F6.indexOf(F)>=0&&(!V3(J.charCodeAt($))||$+F.length<J.length&&!t3(J.charCodeAt($+F.length)))){$+=j;let P=V();if(!P)throw Error("Missing unary operation parameter");return R({type:T3,operator:F,parameter:P})}F=F.substr(0,--j)}if(V3(U)){if(G=B(),Object.prototype.hasOwnProperty.call(a1,G.name))G={type:$3,value:a1[G.name]}}else if(U===r3)G=H()}return R(A(G))},A=(G)=>{M();let U=J.charCodeAt($);while(U===Y3||U===i3||U===r3||U===a3){let F;if(U===a3){if(J.charCodeAt($+1)!==Y3)break;F=!0,$+=2,M(),U=J.charCodeAt($)}if($++,U===i3){if(G={type:a,computed:!0,object:G,property:Z()},M(),U=J.charCodeAt($),U!==n3)throw Error("Unclosed [");$++}else if(U===r3)G={type:w3,parameters:Y(I3),callee:G};else if(U===Y3||F){if(F)$--;M(),G={type:a,computed:!1,object:G,property:B()}}if(F)G.optional=!0;M(),U=J.charCodeAt($)}return G},S=()=>{if($+1>=J.length)return;let G=J.substring($,$+2),U=null;if(G===x3)U=x3;else if(G===b3)U=b3;else return;$+=2;let F={type:L3,operator:U,parameter:A(B()),prefix:!0};if(!F.parameter||F.parameter.type!==b&&F.parameter.type!==a)throw Error("Unexpected "+F.operator);return F},R=(G)=>{if(!G||$+1>=J.length)return G;let U=J.substring($,$+2),F=null;if(U===x3)F=x3;else if(U===b3)F=b3;else return G;return $+=2,G={type:L3,operator:F,parameter:G,prefix:!1},G},T=X();return T.length===0?void 0:T};var n1=(J,$,Q={})=>{switch(J.type){case b:return Q[J.name]=$,$;case a:let Y=f(J.object,Q),W=J.computed||J.property.type!==b?f(J.property,Q):J.property.name;if(typeof $==="function")return $.bind(Y);return Y[W]=$,$}throw Error("Unsupported assignment method.")},f=(J,$={})=>{if(!J)return;if(Array.isArray(J))return J.map((Q)=>f(Q,$));switch(J.type){case b:return $[J.name];case $3:return J.value;case H3:let Q=[];for(let L of J.elements)Q.push(f(L,$));return Q;case F3:let Y=f(J.right,$);if(J.operator!=="="){let L=f(J.left,$);switch(J.operator){case"||=":if(L)return L;break;case"&&=":if(!L)return L;break;case"??=":if(L!==null&&L!==void 0)return L;break;case"*=":Y=L*Y;break;case"**=":Y=L**Y;break;case"/=":Y=L/Y;break;case"%=":Y=L%Y;break;case"+=":Y=L+Y;break;case"-=":Y=L-Y;break}}return n1(J.left,Y,$);case U3:let W=f(J.left,$),q=f(J.right,$);switch(J.operator){case"||":return W||q;case"&&":return W&&q;case"??":return W??q;case"==":return W==q;case"!=":return W!=q;case"===":return W===q;case"!==":return W!==q;case"<":return W<q;case">":return W>q;case"<=":return W<=q;case">=":return W>=q;case"-":return W-q;case"+":return W+q;case"*":return W*q;case"/":return W/q;case"%":return W%q}throw Error("Unsupported operator: "+J.operator);case w3:let Z=[];for(let L of J.parameters)Z.push(f(L,$));return f(J.callee,$)(...Z);case D3:return f(J.condition,$)?f(J.consequent,$):f(J.alternate,$);case a:let X=f(J.object,$),B=J.computed||J.property.type!==b?f(J.property,$):J.property.name;if(typeof X[B]==="function")return X[B].bind(X);return X[B];case R3:let z={};for(let L of J.properties)z[L.computed||L.key.type!==b?f(L.key,$):L.key.name]=f(L.value,$);return z;case S3:return J.expressions.map((L)=>f(L,$));case T3:let K=f(J.parameter,$);switch(J.operator){case"!":return!K;case"-":return-K;case"+":return+K}throw Error("Unsupported operator: "+J.operator);case L3:let H=f(J.parameter,$),M=J.operator==="--"?-1:1;return n1(J.parameter,H+M,$),J.prefix?H+M:H}throw Error('Unexpected node type "'+J.type+'".')},t1=f;var e1=i1,J6=t1;var Q6=(J,$,Q,Y=null,W=null)=>{W=Object.assign({return:!0},W);let[q,Z]=t(J,$,Y),X;try{let B=e1(Q);if(W.return&&B&&B.length>1)throw Error('Unable to return a single value from a compound expression of: "'+Q+'".');X=J6(B,q)}catch(B){X=null}if(Z(),W.return&&X)return X=X[0],X};K3.interpretExpression=Q6;var H9=K3;export{H9 as default};

//# debugId=AF44DF4EFE62662764756E2164756E21
