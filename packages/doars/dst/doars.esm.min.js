var M=Symbol("ATTRIBUTES"),R=Symbol("COMPONENT"),re=Symbol("FOR"),V=Symbol("REFERENCES"),se=Symbol("REFERENCES_CACHE");var _=class{constructor(){let t={};this.addEventListener=(e,n,s=null)=>{e in t||(t[e]=[]),t[e].push({callback:n,options:s})},this.removeEventListener=(e,n)=>{if(!Object.keys(t).includes(e))return;let s=t[e],c=-1;for(let a=0;a<s.length;a++)if(s[a].callback===n){c=a;break}c<0||(s.splice(c,1),Object.keys(s).length===0&&delete t[e])},this.removeEventListeners=e=>{e&&delete t[e]},this.removeAllEventListeners=()=>{t={}},this.dispatchEvent=(e,n,s=null)=>{if(!t[e])return;let c=t[e];for(let a=0;a<c.length;a++){let o=s&&s.reverse?c[c.length-(a+1)]:c[a];o.options&&o.options.once&&c.splice(a,1),o.callback(...n)}}}};var ne=r=>r.replace(/\\/g,"\\\\").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\n/g,"\\n"),Ct=r=>r.replace(/-(\w)/g,(t,e)=>e.toUpperCase()),ke=r=>{let t={};for(let e of r){let n=e.indexOf("-");if(n<0){t[e]=!0;continue}if(n===0){t[e.substring(1)]=!1;continue}let s=e.substring(0,n),c=e.substring(n+1),a=c,o;if(c.endsWith("ms")?a=c.substring(-2):c.endsWith("s")?(o="s",a=c.substring(-1)):c.endsWith("m")?(o="m",a=c.substring(-1)):c.endsWith("h")&&(o="h",a=c.substring(-1)),a=Number.parseInt(a),!isNaN(a))switch(c=a,o){case"h":c*=60;case"m":c*=60;case"s":c*=1e3;break}t[s]=c}return t},Ie=(r,t)=>{if(t=t.match(new RegExp("^"+r+"-([a-z][0-9a-z-]{1,}):?([a-z][0-9a-z-]*)?(\\..*]*)?$","i")),!t)return;let[e,n,s,c]=t;s=s!==""?s:null;let a=s?Ct(s):null;return c=c?c.substring(1).split("."):[],[n,s,a,c]},Re=r=>{let t=r.match(/^([$_a-z0-9,(){}\s]{1,}?)\s+(?:in|of)\s+([\s\S]{1,})$/i);if(!t)return;let e=t[1].replace(/^[\s({]*|[)}\s]*$/g,"");if(e=e.match(/^([$_a-z0-9]{1,})?(?:,\s+?)?([$_a-z0-9]{1,})?(?:,\s+)?([$_a-z0-9]{1,})?$/i),!!e)return e.shift(),{iterable:t[2].trim(),variables:[...e]}},oe=r=>{if(typeof r=="string"&&(r=r.split(/(?=\.)|(?=#)|(?=\[)/)),!Array.isArray(r))return;let t={};for(let e of r)switch(e=e.trim(),e[0]){case"#":t.id=e.substring(1);break;case".":e=e.substring(1),t.class||(t.class=[]),t.class.includes(e)||t.class.push(e);break;case"[":let[n,s,c]=e.match(/^(?:\[)?([-$_.a-z0-9]{1,})(?:[$*^])?(?:=)?([\s\S]{0,})(?:\])$/i);t[s]=c;break}return t};var ie=class r extends _{constructor(t,e,n,s,c=!1){super();let a=Symbol("ID_ATTRIBUTE");c||(e[M]||(e[M]=[]),e[M].push(this));let o={},l=null,i,f,u,p,v;if(n){let[d,h,m,y]=Ie(t.getLibrary().getOptions().prefix,n);i=d,f=m,u=h,p=y,y&&(v=ke(y))}this.getComponent=()=>t,this.getElement=()=>e,this.getId=()=>a,this.getDirective=()=>i,this.getKey=()=>f,this.getKeyRaw=()=>u,this.getModifiers=()=>Object.assign({},v),this.getModifiersRaw=()=>p,this.getName=()=>n,this.getValue=()=>s,this.setValue=d=>{s=d,this.dispatchEvent("changed",[this])},this.clearData=()=>{l=null},this.hasData=()=>l!==null,this.getData=()=>l,this.setData=d=>{l=d},this.destroy=()=>{this.setData(null),this.clearAccessed();let d=e[M].indexOf(this);d>=0&&e[M].splice(d,1),this.dispatchEvent("destroyed",[this]),this.removeAllEventListeners()},this.accessed=(d,h)=>{if(!o[d])o[d]=[];else if(o[d].includes(h))return;o[d].push(h),this.dispatchEvent("accessed",[this,d,h])},this.clearAccessed=()=>{o={}},this.hasAccessed=(d,h)=>{if(!(d in o))return!1;let m=o[d];for(let y of h)if(m.includes(y))return!0;return!1},this.clone=()=>new r(t,e,n,s,!0)}};var Ot=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],j=(r,t)=>{let e=!1,n={};for(let s of Ot)n[s]=(...c)=>{if(!e)return s in t?t[s](...c):Reflect[s](...c)};return{proxy:new Proxy(r,n),revoke:()=>{e=!0}}};var G=class extends _{constructor(t={}){super(),t=Object.assign({delete:!0,get:!0,set:!0},t);let e=new WeakMap;this.add=(n,s=[])=>{if(e.has(n))return e.get(n);for(let o in n)n[o]&&typeof n[o]=="object"&&(n[o]=this.add(n[o],[...s,o]));let c={};t.delete&&(c.deleteProperty=(o,l)=>{if(!Reflect.has(o,l))return!0;this.remove(o,l);let i=Reflect.deleteProperty(o,l);return i&&this.dispatchEvent("delete",[o,Array.isArray(o)?[...s]:[...s,l]]),i}),t.get&&(c.get=(o,l,i)=>(l!==Symbol.unscopables&&this.dispatchEvent("get",[o,[...s,l],i]),Reflect.get(o,l,i))),t.set&&(c.set=(o,l,i,f)=>(o[l]===i||(i&&typeof i=="object"&&(i=this.add(i,[...s,l])),o[l]=i,this.dispatchEvent("set",[o,Array.isArray(o)?[...s]:[...s,l],i,f])),!0));let a=j(n,c);return e.set(a,n),a.proxy},this.remove=n=>{if(!e.has(n))return;let s=e.get(n);e.delete(s);for(let c in s.proxy)typeof s.proxy[c]=="object"&&this.remove(s.proxy[c]);s.revoke()}}};var Z=r=>{if(r.parentElement)return r=r.parentElement,r[R]?r[R]:Z(r)};var je=r=>{let t=r.substring(0,15).toLowerCase();if(t.startsWith("<!doctype html>")||t.startsWith("<html>")){let n=document.createElement("html");return n.innerHTML=r,n}let e=document.createElement("template");return e.innerHTML=r,e.content.childNodes[0]},De=(r,t)=>r.isSameNode&&r.isSameNode(t)?!0:r.type===3?r.nodeValue===t.nodeValue:r.tagName===t.tagName;var W=(r,t)=>{let e=-1,n=null;return()=>{if(e>=0&&n){let c=n();if(c)return c}let s=null;do{if(e++,e>=r.childElementCount)return null;s=r.children[e]}while(!t(s));return s.childElementCount&&(n=W(s,t)),s}};var le=class{constructor(t,e){let n=Symbol("ID_COMPONENT"),{prefix:s,stateDirectiveName:c}=t.getOptions(),a=t.getProcessor(),o=[],l=!1,i=!1,f,u,p;if(!e.attributes[s+"-"+c])return;e[R]=this;let v=[],d=Z(e);d&&(d.getChildren().includes(this)||(d.getChildren().push(this),t.update([{id:d.getId(),path:"children"}])));let h=(m,y)=>{e.dispatchEvent(new CustomEvent(s+"-"+m,{detail:y,bubbles:!0}))};this.getAttributes=()=>o,this.getChildren=()=>v,this.getElement=()=>e,this.getId=()=>n,this.getLibrary=()=>t,this.getParent=()=>d,this.getProxy=()=>u,this.getState=()=>p,this.setParent=m=>{d=m},this.initialize=()=>{if(i)return;i=!0;let{stateDirectiveName:m}=this.getLibrary().getOptions(),y=s+"-"+m,E=e.attributes[y].value;if(f=E?a(this,new ie(this,e,null,E),E):{},f===null)f={};else if(typeof f!="object"||Array.isArray(f))return;u=new G,p=u.add(f),this.scanAttributes(e)},this.destroy=()=>{if(!i)return;if(o.length>0){let y=t.getDirectivesObject();for(let E in y)y[E].destroy||(y[E]=void 0);for(let E of o){let A=y[E.getKey()];A&&A.destroy(this,E,a),E.destroy()}}delete e[R],o=[],i=!1,u.remove(f),p=null,u=null,f=null;let m=[];if(v.length>0){for(let y of v)y.setParent(d),m.push({id:y.getId(),path:"parent"});m.push({id:n,path:"children"})}d&&(v.length>0&&(d.getChildren().push(...v),m.push({id:d.getId(),path:"children"})),m.push({id:n,path:"parent"})),m.length>0&&t.update(m),h("destroyed",{element:e,id:n})},this.addAttribute=(m,y,E)=>{let A=t.getDirectivesNames(),O=new ie(this,m,y,E),N=O.length,T=A.indexOf(O.getDirective());for(let L=o.length-1;L>=0;L--)if(A.indexOf(o[L].getDirective())<=T){N=L+1;break}return o.splice(N,0,O),O},this.removeAttribute=m=>{let y=o.indexOf(m);if(y<0)return;let A=t.getDirectivesObject[m.getKey()];A&&A.destroy&&A.destroy(this,m,a),o.splice(y,1),m.destroy()},this.scanAttributes=m=>{let{stateDirectiveName:y,ignoreDirectiveName:E}=this.getLibrary().getOptions(),A=s+"-"+y,O=s+"-"+E,N=[],T=W(m,L=>!L.hasAttribute(A)&&!L.hasAttribute(O));do for(let{name:L,value:K}of m.attributes)t.isDirectiveName(L)&&N.push(this.addAttribute(m,L,K));while(m=T());return N},this.updateAttribute=m=>{if(!m.getElement()||m.getValue()===null||m.getValue()===void 0){this.removeAttribute(m);return}let y=t.getDirectivesObject();m.clearAccessed();let E=y[m.getDirective()];E&&E.update(this,m,a)},this.updateAttributes=m=>{if(!i||m.length<=0){l||(l=!0,h("updated",{attributes:m,element:e,id:n}));return}for(let y of m)this.updateAttribute(y);l=!0,h("updated",{attributes:m,element:e,id:n})},this.update=m=>{if(!i)return;let y=Object.getOwnPropertySymbols(m),E=[];for(let A of o)for(let O of y)A.hasAccessed(O,m[O])&&(this.updateAttribute(A),E.push(A));(!l||E.length>0)&&(l=!0,h("updated",{attributes:E,element:e,id:n}))}}};var U=(r,t,e,n=null)=>{let s=r.getLibrary(),c=s.getSimpleContexts(),a=[],o="",l="",i=s.getContexts(),f=[];for(let u of i){if(!u||!u.name)continue;let p=u.create(r,t,e);!p||!p.value||(p.destroy&&typeof p.destroy=="function"&&f.push(p.destroy),u.deconstruct&&typeof p.value=="object"&&(a.push(u.name),l+="with("+u.name+") { ",o+=" }"),c[u.name]=p.value)}if(typeof n=="object")for(let u in n)c[u]=n[u];return{contexts:c,destroy:()=>{for(let u of f)u()},after:o,before:l,deconstructed:a}},H=(r,t,e,n=null)=>{let s=null,c=j({},{get:(a,o)=>{if(s||(s=U(r,t,e,n)),o in s.contexts)return t.accessed(r.getId(),o),s.contexts[o];if(s.contexts.$state&&o in s.contexts.$state)return t.accessed(r.getId(),"$state"),s.contexts.$state[o]}});return{contexts:c.proxy,destroy:()=>{s&&s.destroy&&s.destroy(r,t),c.revoke()}}},fe=(r,t,e=null)=>{let n=[],s=(o,l)=>{n.push({id:o,path:l})},{contexts:c,destroy:a}=U(r,t,s,e);return[c,()=>{a(),n.length>0&&r.getLibrary().update(n)}]};var $e=({childrenContextName:r})=>({name:r,create:(t,e,n)=>{let s,c=j(t.getChildren(),{get:(a,o,l)=>{if(s||(s=a.map(f=>H(f,e,n)),e.accessed(t.getId(),"children")),isNaN(o))return Reflect.get(s,o,l);let i=Reflect.get(s,o,l);if(i)return i.contexts}});return{value:c.proxy,destroy:()=>{s&&s.forEach(a=>a.destroy()),c.revoke()}}}});var Ve=({componentContextName:r})=>({name:r,create:t=>({value:t.getElement()})});var Fe=({elementContextName:r})=>({name:r,create:(t,e)=>({value:e.getElement()})});var Me=({dispatchContextName:r})=>({name:r,create:t=>({value:(e,n={})=>{t.getElement().dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0}))}})});var Ue=({forContextDeconstruct:r,forContextName:t})=>({deconstruct:r,name:t,create:(e,n)=>{if(e!==n.getComponent())return;let s=n.getElement(),c=e.getElement(),a=[],o={};for(;s&&!s.isSameNode(c);){let i=s[re];if(i){a.push(i);for(let f in i.variables)o[f]=i.variables[f]}s=s.parentNode}if(a.length===0)return;let l=j(o,{get:(i,f)=>{for(let u of a)if(f in u.variables)return n.accessed(u.id,"$for"),u.variables[f]}});return{value:l.proxy,destroy:()=>{l.revoke()}}}});var He=({inContextContextName:r})=>({name:r,create:(t,e)=>({value:n=>{let s=[],c=(i,f)=>{s.push({id:i,path:f})},{contexts:a,destroy:o}=U(t,e,c,{}),l=n(a);return o(),s.length>0&&t.getLibrary().update(s),l}})});var _e=({nextSiblingContextName:r})=>({name:r,create:(t,e,n)=>{let s=t.getParent();if(!s)return{value:null};let c=s.getChildren(),a=c.indexOf(t);if(a+1>=c.length)return{value:null};let{contexts:o,destroy:l}=H(c[a+1],e,n);return{value:o,destroy:l}}});var ze=({nextTickContextName:r})=>({name:r,create:(t,e,n)=>{let s,c=!1,a=()=>{if(c)return;c=!0;let o=t.getLibrary();s=[];let l=()=>{i();let{contexts:f,destroy:u}=U(t,e,n,{});for(let p of s)p(f);u()},i=()=>{o.removeEventListener("updated",l),e.removeEventListener("changed",i),e.removeEventListener("destroyed",i)};o.addEventListener("updated",l),e.addEventListener("changed",i),e.addEventListener("destroyed",i)};return{value:o=>{a(),s.push(o)}}}});var Ke=({parentContextName:r})=>({name:r,create:(t,e,n)=>{let s=t.getParent();if(!s)return{value:null};let{contexts:c,destroy:a}=H(s,e,n);return{value:c,destroy:a}}});var Be=({previousSiblingContextName:r})=>({name:r,create:(t,e,n)=>{let s=t.getParent();if(!s)return{value:null};let c=s.getChildren(),a=c.indexOf(t);if(a<=0)return{value:null};let{contexts:o,destroy:l}=H(c[a-1],e,n);return{value:o,destroy:l}}});var qe=({referencesContextName:r})=>({name:r,create:(t,e)=>{if(!t[V])return{value:[]};let n=t[se];if(!n){let c=t[V],a=Object.getOwnPropertySymbols(c);n={};for(let o of a){let{element:l,name:i}=c[o];n[i]=l}t[se]=n}let s=j(n,{get:(c,a,o)=>(e.accessed(t.getId(),"$references."+a),Reflect.get(c,a,o))});return{value:s.proxy,destroy:()=>{s.revoke()}}}});var We=({siblingsContextName:r})=>({name:r,create:(t,e,n)=>{let s=t.getParent();if(!s)return{value:[]};let c,a=j(s.getChildren().filter(o=>o!==t),{get:(o,l,i)=>{if(c||(c=o.map(u=>H(u,e,n)),e.accessed(t.getId(),"siblings")),isNaN(l))return Reflect.get(c,l,i);let f=Reflect.get(c,l,i);if(f)return f.contexts}});return{value:a.proxy,destroy:()=>{c&&c.forEach(o=>o.destroy()),a.revoke()}}}});var me=(r,t,e,n)=>(s,c,a)=>{let o=(u,p)=>a(t,r+"."+p.join(".")),l=(u,p)=>c.accessed(t,r+"."+p.join(".")),i=(u,p)=>a(t,r+"."+p.join("."));n.addEventListener("delete",o),n.addEventListener("get",l),n.addEventListener("set",i);let f=j(e,{});return{value:f.proxy,destroy:()=>{n.removeEventListener("delete",o),n.removeEventListener("get",l),n.removeEventListener("set",i),f.revoke()}}};var Xe=({stateContextDeconstruct:r,stateContextName:t})=>({deconstruct:r,name:t,create:(e,n,s,c)=>{let a=e.getProxy(),o=e.getState();if(!(!a||!o))return me(t,e.getId(),o,a)(e,n,s,c)}});var ue=(r,...t)=>{if(!t.length)return r;let e=t.shift();if(he(r)&&he(e))for(let n in e)he(e[n])?(r[n]||Object.assign(r,{[n]:{}}),ue(r[n],e[n])):Array.isArray(e[n])?r[n]=e[n].map(s=>he(s)?ue({},s):s):Object.assign(r,{[n]:e[n]});return ue(r,...t)},Ae=(r,t)=>{let e=r,n=0;for(;n<t.length-1;n++)e=e[t[n]];return e[t[n]]},he=r=>r&&typeof r=="object"&&!Array.isArray(r),z=(r,t,e)=>{if(typeof r!="object")return;let n=0;for(;n<t.length-1;n++)if(r=r[t[n]],typeof r!="object")return;r[t[n]]=e};var Ye=(r,t,e,n,s)=>({deconstruct:s,name:r,create:me(r,t,e,n)});var Ge=({storeContextDeconstruct:r,storeContextInitial:t,storeContextName:e})=>{let n=ue({},t),s=new G,c=s.add(n);return Ye(e,Symbol("ID_STORE"),c,s,r)};var Ze=({watchContextName:r})=>({name:r,create:(t,e)=>{let n=null,s=!1,c=!1,a=!1,o=null,l=()=>{a=!0,n=[];let i=t.getLibrary();o=i.getProcessor();let f=(p,v)=>{let d=Object.getOwnPropertySymbols(v);if(d.length>0){let h=[],m=(y,E)=>{h.push({id:y,path:E})};for(let y of d)for(let E of n)if(E.attribute||(E.attribute=e.clone(),o(t,E.attribute,E.path)),E.attribute.hasAccessed(y,v[y])){let{contexts:A,destroy:O}=U(t,e,m,{});E.callback(A),O();continue}h.length>0&&t.getLibrary().update(h)}},u=()=>{c||(c=!0,e.removeEventListener("changed",u),e.removeEventListener("destroyed",u),i.removeEventListener("updating",f))};e.addEventListener("changed",u),e.addEventListener("destroyed",u),i.addEventListener("updating",f)};return{value:(i,f)=>{if(!(s||c))return a||l(),n.push({path:i,callback:f}),()=>{let u=[],p=(h,m)=>{u.push({id:h,path:m})},{contexts:v,destroy:d}=U(t,e.clone(),p,{});f(v),d(),u.length>0&&t.getLibrary().update(u)}},destroy:()=>{s=!0}}}});var ve=(r,t)=>{for(let e in t){if(e==="class"){for(let n of t.class)r.classList.add(n);continue}r.setAttribute(e,t[e])}},Je=(r,t)=>{let e=r.attributes,n=t.attributes,s=null,c=null,a=null,o=null,l=null;for(let i=n.length-1;i>=0;--i)l=n[i],o=l.name,s=l.namespaceURI,c=l.value,s?(o=l.localName||o,a=r.getAttributeNS(s,o),a!==c&&r.setAttributeNS(s,o,c)):r.hasAttribute(o)?(a=r.getAttribute(o),a!==c&&(c==="null"||c==="undefined"?r.removeAttribute(o):r.setAttribute(o,c))):r.setAttribute(o,c);for(let i=e.length-1;i>=0;--i)l=e[i],l.specified!==!1&&(o=l.name,s=l.namespaceURI,s?(o=l.localName||o,t.hasAttributeNS(s,o)||r.removeAttributeNS(s,o)):t.hasAttributeNS(null,o)||r.removeAttribute(o))},J=(r,t)=>{for(let e in t){if(e==="class"){for(let n of t.class)r.classList.remove(n);continue}t[e]&&r.attributes[e]!==t[e]||r.removeAttribute(e)}},Ce=(r,t,e)=>{if(t==="value"&&r.tagName==="INPUT"){if(e||(e=""),r.getAttribute(t)===e)return;r.setAttribute(t,e);return}if(t==="checked"&&(r.type==="checkbox"||r.type==="radio")){r.checked=!!e;return}t==="class"&&(Array.isArray(e)?e=e.join(" "):typeof e=="object"&&(e=Object.entries(e).filter(([n,s])=>s).map(([n])=>n).join(" "))),t==="style"&&(Array.isArray(e)?e=e.join(" "):typeof e=="object"&&(e=Object.entries(e).map(([n,s])=>n+":"+s).join(";"))),e===!1||e===null||e===void 0?r.removeAttribute(t):r.setAttribute(t,e)},Oe=(r,t)=>{for(let e in t)Ce(r,e,t[e])};var Kr=Function.prototype.toString.call(Function).replace("Function","Promise").replace(/\(.*\)/,"()");var $=r=>r&&Object.prototype.toString.call(r)==="[object Promise]";var Qe=({attributeDirectiveName:r})=>({name:r,update:(t,e,n)=>{let s=e.getDirective(),c=e.getElement(),a=e.getModifiers(),o=i=>{if(a.selector){if(typeof i!="string")return;i=oe(i),Oe(c,i);return}let f=e.getKeyRaw();if(!f){typeof i=="object"&&!Array.isArray(i)&&Oe(c,i);return}Ce(c,f,i)},l=n(t,e,e.getValue());e.setData(l),$(l)?Promise.resolve(l).then(i=>{e.getData()===l&&o(i)}):o(l)}});var Nt="-transition:",et=(r,t,e,n=null)=>{if(e.nodeType!==1){n&&n();return}let s=t.prefix+Nt+r,c=p=>{e.dispatchEvent(new CustomEvent("transition-"+p)),e.dispatchEvent(new CustomEvent("transition-"+r+"-"+p))},a,o,l,i,f=!1,u={};return a=s,o=e.getAttribute(a),o&&(u.during=oe(o),ve(e,u.during)),a=s+".from",o=e.getAttribute(a),o&&(u.from=oe(o),ve(e,u.from)),c("start"),i=requestAnimationFrame(()=>{if(i=null,f)return;if(u.from&&(J(e,u.from),u.from=void 0),a=s+".to",o=e.getAttribute(a),o)u.to=oe(o),ve(e,u.to);else if(!u.during){c("end"),n&&n(),f=!0;return}let p=getComputedStyle(e),v=Number(p.transitionDuration.replace(/,.*/,"").replace("s",""))*1e3;v===0&&(v=Number(p.animationDuration.replace("s",""))*1e3),l=setTimeout(()=>{l=null,!f&&(u.during&&(J(e,u.during),u.during=void 0),u.to&&(J(e,u.to),u.to=void 0),c("end"),n&&n(),f=!0)},v)}),()=>{f&&(f=!0,u.during&&(J(e,u.during),u.during=void 0),u.from?(J(e,u.from),u.from=void 0):u.to&&(J(e,u.to),u.to=void 0),i?(cancelAnimationFrame(i),i=null):l&&(clearTimeout(l),l=null),c("end"),n&&n())}},X=(r,t,e)=>et("in",r,t,e),Q=(r,t,e)=>et("out",r,t,e);var tt=({cloakDirectiveName:r})=>({name:r,update:(t,e)=>{let n=e.getElement(),s=t.getLibrary().getOptions();n.removeAttribute(s.prefix+"-"+(void 0).name),X(s,n)}});var rt=r=>{if(r.tagName!=="SCRIPT"||r.hasAttribute("src"))return!1;let t=document.createElement("script");return t.innerText=r.innerText,r.parentNode.insertBefore(t,r),r.remove(),!0},ee=(...r)=>{for(let t of r)if(!rt(t)){let e=W(t),n=null;for(;n=e();)rt(n)}};var ge=(r,...t)=>{let e={};for(let n=0;n<t.length&&!(n>=r.length);n++)e[r[n]]=t[n];return e},st=(r,t,e=-1)=>(e++,e>=r.length?-1:r[e][re].value===t?e:st(r,t,e)),ye=(r,t,e,n,s,c,a,o)=>{let l=r.getLibrary().getOptions(),i=st(n,c,s);if(i>=0){if(i===s+1)return;let p=n[i];(n[s]?n[s]:e).insertAdjacentElement("afterend",p),t(p[re].id);return}let f=document.importNode(e.content,!0).firstElementChild;(s===-1?e:n[s]).insertAdjacentElement("afterend",f),o&&ee(f),X(l,f),f[re]={id:Symbol("ID_FOR"),value:c,variables:a},n.splice(s+1,0,f)},Ne=(r,t,e)=>{if(t.length<e)return;let n=r.getLibrary().getOptions();for(let s=t.length-1;s>=e;s--){let c=t[s];t.splice(s,1),Q(n,c,()=>{c.remove()})}},nt=({allowInlineScript:r,forDirectiveName:t})=>({name:t,update:(e,n,s)=>{let c=n.getDirective(),a=n.getElement(),o=n.getModifiers();if(a.tagName!=="TEMPLATE")return;let l=Re(n.getValue());if(!l)return;let i={},f=d=>{i[d]||(i[d]=["$for"])},u=d=>{let h=n.getData(),m=h.elements?h.elements:[],y=typeof d;if(d!=null)if(y==="number"){for(let E=0;E<d;E++){let A=ge(l.variables,E);ye(e,f,a,m,E-1,d,A,r||o.script)}Ne(e,m,d)}else if(y==="string"){for(let E=0;E<d.length;E++){let A=d[E],O=ge(l.variables,A,E);ye(e,f,a,m,E-1,A,O,r||o.script)}Ne(e,m,d.length)}else{let E,A;try{let O=[...d];E=!0,A=O.length}catch(O){}if(E)for(let O=0;O<A;O++){let N=d[O],T=ge(l.variables,N,O);ye(e,f,a,m,O-1,N,T,r||o.script)}else{let O=Object.keys(d);A=O.length;for(let N=0;N<A;N++){let T=O[N],L=d[T],K=ge(l.variables,T,L,N);ye(e,f,a,m,N-1,L,K,r||o.script)}}Ne(e,m,A)}Object.getOwnPropertySymbols(i).length>0&&e.update(i),n.setData(Object.assign({},h,{elements:m}))},p;isNaN(l.iterable)?p=s(e,n,l.iterable):p=Number(l.iterable);let v=n.getData();n.setData(Object.assign({},v,{result:p})),$(p)?Promise.resolve(p).then(d=>{n.getData().result===p&&u(d)}):u(p)},destroy:(e,n)=>{let s=n.getData();if(s.elements)for(let c of s.elements)Q(e.getLibrary().getOptions(),c,()=>{c.remove()})}});var St={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},Lt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;var ot=r=>typeof r!="string"?r:r.replaceAll(Lt,t=>St[t]);var Tt=(r,t)=>{let e=t.nodeType,n=t.nodeName;e===1&&Je(r,t),(e===3||e===8)&&r.nodeValue!==t.nodeValue&&(r.nodeValue=t.nodeValue),n==="INPUT"?Pt(r,t):n==="OPTION"?Se(r,t,"selected"):n==="TEXTAREA"&&wt(r,t)},Le=(r,t,e)=>{if(typeof r!="object")throw new Error("Existing tree should be an object.");if(typeof t=="string")t=je(t);else if(typeof t!="object")throw new Error("New tree should be an object.");return e&&e.childrenOnly||t.nodeType===11?(it(r,t),r):Ee(r,t)},Pt=(r,t)=>{let e=t.value,n=r.value;Se(r,t,"checked"),Se(r,t,"disabled"),r.indeterminate!==t.indeterminate&&(r.indeterminate=t.indeterminate),r.type!=="file"&&(n!==e&&(r.setAttribute("value",e),r.value=e),e==="null"&&(r.value="",r.removeAttribute("value")),t.hasAttributeNS(null,"value")?r.type==="range"&&(r.value=e):r.removeAttribute("value"))},wt=(r,t)=>{let e=t.value;r.value!==e&&(r.value=e),r.firstChild&&r.firstChild.nodeValue!==e&&(r.firstChild.nodeValue=e)},Se=(r,t,e)=>{r[e]!==t[e]&&(r[e]=t[e],t[e]?r.setAttribute(e,""):r.removeAttribute(e))},Ee=(r,t)=>r?t?r.isSameNode&&r.isSameNode(t)?r:r.tagName!==t.tagName?t:(Tt(r,t),it(r,t),r):null:t,it=(r,t)=>{let e,n,s,c,a=0;for(let o=0;e=r.childNodes[o],n=t.childNodes[o-a],!(!e&&!n);o++)if(!n)r.removeChild(e),o--;else if(!e)r.append(n),a++;else if(De(e,n))s=Ee(e,n),s!==e&&(r.replaceChild(s,e),a++);else{c=null;for(let l=o;l<r.childNodes.length;l++)if(De(r.childNodes[l],n)){c=r.childNodes[l];break}c?(s=Ee(c,n),s!==c&&a++,r.insertBefore(s,e)):!n.id&&!e.id?(s=Ee(e,n),s!==e&&(r.replaceChild(s,e),a++)):(r.insertBefore(n,e),a++)}};var ct=({allowInlineScript:r,htmlDirectiveName:t})=>({name:t,update:(e,n,s)=>{let c=n.getDirective(),a=n.getElement(),o=n.getModifiers(),l=f=>{if(o.decode&&(f=ot(f)),f instanceof HTMLElement){for(let u of a.children)u.remove();a.append(f.cloneNode(!0));return}if(typeof f=="string"){if(o.morph)if(o.outer)Le(a,f);else{if(a.children.length===0)a.append(document.createElement("div"));else if(a.children.length>1)for(let p=a.children.length-1;p>=1;p--)a.children[p].remove();let u=Le(a.children[0],f);a.children[0].isSameNode(u)||(a.children[0].remove(),a.append(u))}else o.outer?a.outerHTML!==f&&(a.outerHTML=f,(r||o.script)&&ee(a)):a.innerHTML!==f&&(a.innerHTML=f,(r||o.script)&&ee(...a.children));return}},i=s(e,n,n.getValue());n.setData(i),$(i)?Promise.resolve(i).then(f=>{n.getData()===i&&l(f)}):l(i)}});var at=({allowInlineScript:r,ifDirectiveName:t})=>({name:t,update:(e,n,s)=>{let c=e.getLibrary().getOptions(),a=n.getDirective(),o=n.getModifiers(),l=n.getElement();if(l.tagName!=="TEMPLATE"||l.childCount>1)return;let i=p=>{let v=n.getData(),d=v.element,h=v.transition;p?d||(h&&h(),d=document.importNode(l.content,!0).firstElementChild,l.insertAdjacentElement("afterend",d),(r||o.script)&&ee(d),h=X(c,d)):d&&(h&&h(),h=Q(c,d,()=>{d.remove()})),n.setData(Object.assign({},v,{element:d,transition:h}))},f=s(e,n,n.getValue()),u=n.getData();n.setData(Object.assign({},u,{result:f})),$(f)?Promise.resolve(f).then(p=>{n.getData().result===p&&i(p)}):i(f)},destroy:(e,n,{transitionOut:s})=>{let c=n.getData();c.element&&s(e.getLibrary().getOptions(),c.element,()=>{c.element.remove()})}});var Y=Symbol("INITIALIZED"),lt=(r,t)=>{if(!t[Y])return;let e=r.getElement(),n=r.getLibrary().getOptions().prefix+"-updated";e.removeEventListener(n,t[Y].handler),delete t[Y]},ft=({initializedDirectiveName:r})=>({name:r,update:(t,e,n)=>{let s=t.getElement(),c=e.getValue(),a=t.getLibrary().getOptions().prefix+"-updated";if(e[Y]){if(e[Y].value===c)return;s.removeEventListener(a,e[Y].handler),delete e[Y]}let o=({detail:l})=>{l.element===s&&(n(t,e.clone(),c,{},{return:!1}),lt(t,e))};s.addEventListener(a,o,{once:!0}),e[Y]={handler:o,value:c}},destroy:lt});var g=Symbol("ON"),de={keydown:"keyup",mousedown:"mouseup",pointerdown:"pointerup"},F={NONE:0,BUFFER:1,DEBOUNCE:2,HELD:3,HOLD:4,THROTTLE:5,DELAY:6},kt=["alt","ctrl","meta","shift"],ut=({onDirectiveName:r})=>({name:r,update:(t,e,n)=>{let s=e.getDirective(),c=e.getKeyRaw();if(!c)return;let a;c.startsWith("keydown-")?(a=c.substring(8).toLowerCase(),c="keydown"):c.startsWith("keyup-")&&(a=c.substring(6).toLowerCase(),c="keyup");let o=e.getElement(),l=e.getValue();if(e[g]){if(e[g].value===l)return;e[g].target.removeEventListener(e[g].eventName,e[g].handler),e[g].timeout&&clearTimeout(e[g].timeout),delete e[g]}let i=e.getModifiers(),f={};i.capture&&(f.capture=!0),i.once&&(f.once=!0),i.passive&&!i.prevent&&(f.passive=!0);let u=F.NONE;i.buffer?(u=F.BUFFER,i.buffer===!0&&(i.buffer=5)):i.debounce?(u=F.DEBOUNCE,i.debounce===!0&&(i.debounce=500)):i.held?(u=F.HELD,i.held===!0&&(i.held=500)):i.hold?(u=F.HOLD,i.hold===!0&&(i.hold=500)):i.throttle?(u=F.THROTTLE,i.throttle===!0&&(i.throttle=500)):i.delay&&(u=F.DELAY,i.delay===!0&&(i.delay=500));let p=[];if(a){i.meta=i.meta?!0:i.cmd||i.super;for(let h of kt)i[h]&&p.push(h)}let v=o;i.document||i.outside?v=document:i.window&&(v=window);let d=h=>{if(e[g].prevent||!i.repeat&&h.repeat||i.self&&h.target!==o||i.outside&&o.contains(h.target))return;if((c==="keydown"||c==="keyup")&&a){for(let E of p)if(!h[E+"Key"])return;let y=i.code?h.code:h.key;if(y===" "&&(y="space"),y=y.toLowerCase(),y!==a)return}i.prevent&&h.preventDefault(),i.stop&&h.stopPropagation();let m=()=>{n(t,e.clone(),l,{$event:h,$events:e[g].buffer},{return:!1}),e[g].buffer=[]};switch(e[g].buffer.push(h),u){case F.BUFFER:if(e[g].buffer.length<i.buffer)return;m();return;case F.DEBOUNCE:e[g].timeout&&(clearTimeout(e[g].timeout),e[g].timeout=null),e[g].timeout=setTimeout(m,i.debounce);return;case F.HELD:if(!(c in de))return;let y=de[c],E=window.performance.now();e[g].cancel=N=>{if(window.performance.now()-E<i.held){e[g].prevent=!1;return}if(y==="keyup"&&a){for(let L of p)if(!N[L+"Key"]){e[g].prevent=!1;return}let T=i.code?N.code:N.key;if(T===" "&&(T="space"),T=T.toLowerCase(),T!==a){e[g].prevent=!1;return}}if(i.self&&N.target!==o){e[g].prevent=!1;return}if(i.outside&&o.contains(N.target)){e[g].prevent=!1;return}m()},e[g].prevent=!0,v.addEventListener(y,e[g].cancel,{once:!0});return;case F.HOLD:if(!(c in de))return;let A=de[c];e[g].cancel=N=>{if(A==="keyup"&&a){let T=!1;for(let K of p)N[K+"Key"]||(T=!0);let L=i.code?N.code:N.key;if(L===" "&&(L="space"),L=L.toLowerCase(),L===a&&(T=!0),!T){e[g].prevent=!1;return}}if(i.self&&N.target!==o){e[g].prevent=!1;return}if(i.outside&&o.contains(N.target)){e[g].prevent=!1;return}clearTimeout(e[g].timeout)},v.addEventListener(A,e[g].cancel,{once:!0}),e[g].prevent=!0,e[g].timeout=setTimeout(()=>{v.removeEventListener(A,e[g].cancel),e[g].prevent=!1,m()},i.hold);return;case F.THROTTLE:let O=window.performance.now();if(e[g].lastExecution&&O-e[g].lastExecution<i.throttle)return;m(),e[g].lastExecution=O;return;case F.DELAY:e[g].prevent=!0,e[g].timeout=setTimeout(()=>{e[g].prevent=!1,m()},i.delay);return}m()};v.addEventListener(c,d,f),e[g]={buffer:[],eventName:c,handler:d,target:v,timeout:e[g]?e[g].timeout:void 0,value:l,prevent:!1}},destroy:(t,e)=>{e[g]&&(e[g].target.removeEventListener(e[g].eventName,e[g].handler),e[g].cancel&&e[g].target.removeEventListener(de[e[g].eventName],e[g].cancel),e[g].timeout&&clearTimeout(e[g].timeout),delete e[g])}});var dt=(r,t)=>{if(!r[V])return;let e=t.getId();if(!r[V][e])return;let n=r.getLibrary(),s=r.getId(),c=r[V][e].name;delete r[V][e],delete r[se],Object.keys(r[V]).length===0&&delete r[V],n.update([{id:s,path:"$references."+c}])},pt=({referenceDirectiveName:r})=>({name:r,update:(t,e,n)=>{let s=t.getLibrary(),c=t.getId(),a=e.getDirective(),o=e.getElement(),l=e.getId(),{referenceDirectiveEvaluate:i}=s.getOptions(),f=e.getValue();if(f=i?n(t,e,f):f.trim(),!f||typeof f!="string"||!/^[_$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(f)){dt(t,e);return}t[V]||(t[V]={}),t[V][l]={element:o,name:f},delete t[se],s.update([{id:c,path:"$references."+f}])},destroy:dt});var mt="SELECT",xe="checked",ht="selected",vt="checkbox",gt=({selectDirectiveName:r})=>({name:r,update:(t,e,n)=>{let s=e.getElement(),c=e.getDirective(),a=s.getAttribute("type");if(s.tagName!==mt&&!(s.tagName==="INPUT"&&(a===vt||a==="radio")))return;let o=i=>{if(s.tagName===mt)for(let f of Array.from(s.options)){let u=Array.isArray(i)?i.includes(f.value):i===f.value;f.selected!==u&&(f.selected=u,u?f.setAttribute(ht,""):f.removeAttribute(ht))}else if(a===vt){let f=i.includes(s.value);s.checked!==f&&(f?s.setAttribute(xe,""):s.removeAttribute(xe))}else{let f=i===s.value;s.checked!==f&&(f?s.setAttribute(xe,""):s.removeAttribute(xe))}},l=n(t,e,e.getValue());e.setData(l),$(l)?Promise.resolve(l).then(i=>{e.getData()===l&&o(i)}):o(l)}});var yt=({showDirectiveName:r})=>({name:r,update:(t,e,n)=>{let s=t.getLibrary().getOptions(),c=e.getElement(),a=()=>{let i=e.getData();i.transition&&i.transition();let f;i.result?(c.style.display=null,f=X(s,c)):f=Q(s,c,()=>{c.style.display="none"}),e.setData(Object.assign({},i,{transition:f}))},o=n(t,e,e.getValue()),l=e.getData();$(o)?(e.setData(Object.assign({},l,{result:o})),Promise.resolve(o).then(i=>{e.getData().result===o&&a(i)})):(!l||l.result!==o)&&(e.setData(Object.assign({},l,{result:o})),a())}});var pe=Symbol("SYNC"),Et=({syncDirectiveName:r})=>({name:r,update:(t,e,n)=>{let s=e.getElement(),c=e.getDirective(),a=!e[pe];if(a&&!(s.tagName==="DIV"&&s.hasAttribute("contenteditable"))&&s.tagName!=="INPUT"&&s.tagName!=="SELECT"&&s.tagName!=="TEXTAREA")return;let o=e.getValue().trim(),l=e.getKey();if(l&&(o="$"+l+"."+o),!/^[_$a-z]{1}[._$a-z0-9]{0,}$/i.test(o))return;let i=o.split(".");if(a){let u;switch(s.tagName){case"DIV":u=()=>{let[p,v]=fe(t,e.clone());z(p,i,ne(s.innerText)),v()};break;case"INPUT":u=()=>{let p=ne(s.value),[v,d]=fe(t,e.clone());if(s.type==="checkbox"){let h=Ae(v,i);if(s.checked)h||z(v,i,[p]),h.includes(s.value)||h.push(p);else if(h){let m=h.indexOf(s.value);m>=0&&h.splice(m,1)}}else if(s.type==="radio"){let h=Ae(v,i);s.checked?h!==s.value&&z(v,i,p):h===s.value&&z(v,i,null)}else z(v,i,p);d()};break;case"TEXTAREA":u=()=>{let[p,v]=fe(t,e.clone());z(p,i,ne(s.innerText)),v()};break;case"SELECT":u=()=>{let[p,v]=fe(t,e.clone());if(s.multiple){let d=[];for(let h of s.selectedOptions)d.push(ne(h.value));z(p,i,[d.join("','")])}else z(p,i,ne(s.selectedOptions[0].value));v()};break}s.addEventListener("input",u),e[pe]=u}let f=n(t,e.clone(),o);switch(s.tagName){case"DIV":case"TEXTAREA":f!==s.innerText&&(s.innerText=f);break;case"INPUT":if(s.type==="checkbox"){let u=f.includes(s.value);s.checked!==u&&(s.checked=u,u?s.setAttribute("checked",""):s.removeAttribute("checked"))}else if(s.type==="radio"){let u=f===s.value;s.checked!==u&&(s.checked=u,u?s.setAttribute("checked",""):s.removeAttribute("checked"))}else f!==s.value&&s.setAttribute("value",f);break;case"SELECT":for(let u of Array.from(s.options)){let p=Array.isArray(f)?f.includes(u.value):f===u.value;u.selected!==p&&(u.selected=p,p?u.setAttribute("selected",""):u.removeAttribute("selected"))}break}},destroy:(t,e)=>{if(!e[pe])return;e.getElement().removeEventListener("input",e[pe]),delete e[pe]}});var xt=({textDirectiveName:r})=>({name:r,update:(t,e,n)=>{let s=e.getElement(),c=e.getModifiers(),a=l=>{c.content?s.textContent!==l&&(s.textContent=l):s.innerText!==l&&(s.innerText=l)},o=n(t,e,e.getValue());e.setData(o),$(o)?Promise.resolve(o).then(l=>{e.getData()===o&&a(l)}):a(o)}});var bt=({watchDirectiveName:r})=>({name:r,update:(t,e,n)=>n(t,e.clone(),e.getValue(),{},{return:!1})});var ce=class extends _{constructor(t){var L,K;super();let{prefix:e,processor:n,root:s}=t=Object.assign({prefix:"d",processor:"execute",root:document.body,allowInlineScript:!1,forContextDeconstruct:!0,stateContextDeconstruct:!0,storeContextDeconstruct:!1,storeContextInitial:{},indicatorDirectiveEvaluate:!0,referenceDirectiveEvaluate:!0,selectFromElementDirectiveEvaluate:!0,targetDirectiveEvaluate:!0,childrenContextName:"$children",componentContextName:"$component",dispatchContextName:"$dispatch",elementContextName:"$element",forContextName:"$for",inContextContextName:"$inContext",nextSiblingContextName:"$nextSibling",nextTickContextName:"$nextTick",parentContextName:"$parent",previousSiblingContextName:"$previousSibling",referencesContextName:"$references",siblingsContextName:"$siblings",stateContextName:"$state",storeContextName:"$store",watchContextName:"$watch",attributeDirectiveName:"attribute",cloakDirectiveName:"cloak",forDirectiveName:"for",htmlDirectiveName:"html",ifDirectiveName:"if",ignoreDirectiveName:"ignore",indicatorDirectiveName:"indicator",initializedDirectiveName:"initialized",onDirectiveName:"on",referenceDirectiveName:"reference",selectDirectiveName:"select",selectFromElementDirectiveName:"select",showDirectiveName:"show",stateDirectiveName:"state",syncDirectiveName:"sync",targetDirectiveName:"target",textDirectiveName:"text",transitionDirectiveName:"transition",watchDirectiveName:"watch",redirectHeaderName:"redirect",requestHeaderName:"request",titleHeaderName:"title"},t);if(typeof s=="string"&&(s=t.root=document.querySelector(s)),t=Object.freeze(t),!e||typeof e!="string"||!s||typeof s!="object")return;let c=Symbol("ID_DOARS"),a=!1,o=!1,l,i,f,u=[],p={},v=[$e(t),Ve(t),Fe(t),Me(t),He(t),_e(t),ze(t),Ke(t),Be(t),qe(t),We(t),Ze(t),Ge(t),Xe(t),Ue(t)],d=[pt(t),Qe(t),nt(t),ct(t),at(t),xt(t),tt(t),ft(t),ut(t),gt(t),yt(t),Et(t),bt(t)],h,m,y,E=typeof n,A;E==="function"?A=n:E==="string"&&this.constructor[n+"Expression"]?A=this.constructor[n+"Expression"]:A=(K=(L=this.constructor.executeExpression)!=null?L:this.constructor.interpretExpression)!=null?K:this.constructor.callExpression,this.getId=()=>c,this.getOptions=()=>Object.assign({},t),this.getEnabled=()=>a,this.enable=()=>{if(a)return this;o=!1,l=[],f={},this.dispatchEvent("enabling",[this]),a=!0,h=d.map(k=>k.name),m={};for(let k of d)m[k.name]=k;y=new RegExp("^"+e+"-("+h.join("|")+")(?:[$-_.a-z0-9]{0,})?$","i"),i=new MutationObserver(T.bind(this)),i.observe(s,{attributes:!0,childList:!0,subtree:!0});let{stateDirectiveName:x,ignoreDirectiveName:D}=this.getOptions(),C=e+"-"+x,b=e+"-"+D,w=[...s.querySelectorAll("["+C+"]")];for(let k=w.length-1;k>=0;k--)w[k].closest("["+b+"]")&&w.splice(k,1);return O(s.hasAttribute(C)&&!s.hasAttribute(b)?s:null,...w),this.dispatchEvent("enabled",[this]),this.dispatchEvent("updated",[this]),this},this.disable=()=>a?(i.disconnect(),i=null,o=l=f=null,this.dispatchEvent("disabling",[this],{reverse:!0}),N(...u),h=m=y=null,a=!1,this.dispatchEvent("disabled",[this],{reverse:!0}),this):this;let O=(...x)=>{let D=[],C=[];for(let b of x){if(!b||b[R])continue;let w=new le(this,b);u.push(w),D.push(w),C.push(b)}C.length>0&&this.dispatchEvent("components-added",[this,C]);for(let b of D)b.initialize();for(let b of D)b.updateAttributes(b.getAttributes());return D},N=(...x)=>{let D=[];for(let C of x){let b=u.indexOf(C);b<0||(D.push(C.getElement()),C.destroy(),u.splice(b,1))}return D.length>0&&this.dispatchEvent("components-removed",[this,D]),D};this.getSimpleContexts=()=>Object.assign({},p),this.setSimpleContext=(x,D=null)=>D===null?(delete p[x],this.dispatchEvent("simple-context-removed",[this,x]),!0):x.match("^([a-zA-Z_$][a-zA-Z\\d_$]*)$")?(p[x]=D,this.dispatchEvent("simple-context-added",[this,x,D]),!0):!1,this.setSimpleContexts=x=>{let D={};for(let C in x)Object.hasOwnProperty.call(x,C)&&(D[C]=this.setSimpleContext(C,x[C]));return D},this.getContexts=()=>[...v],this.addContexts=(x,...D)=>{if(a)return;x<0?x=v.length+x%v.length:x>v.length&&(x=v.length);let C=[];for(let b=0;b<D.length;b++){let w=D[b];v.includes(w)||(v.splice(x+b,0,w),C.push(w))}return C.length>0&&this.dispatchEvent("contexts-added",[this,C]),C},this.removeContexts=(...x)=>{if(a)return;let D=[];for(let C of x){let b=v.indexOf(C);b<0||(v.slice(b,1),D.push(C))}return D.length>0&&this.dispatchEvent("contexts-removed",[this,D]),D},this.getDirectives=()=>[...d],this.getDirectivesNames=()=>[...h],this.getDirectivesObject=()=>Object.assign({},m),this.isDirectiveName=x=>y.test(x),this.addDirectives=(x,...D)=>{if(a)return;x<0?x=d.length+x%d.length:x>d.length&&(x=d.length);let C=[];for(let b=0;b<D.length;b++){let w=D[b];d.includes(w)||(d.splice(x+b,0,w),C.push(w))}return C.length>0&&(h=m=y=null,this.dispatchEvent("directives-added",[this,C])),C},this.removeDirectives=(...x)=>{if(a)return;let D=[];for(let C of x){let b=d.indexOf(C);b<0||(d.slice(b,1),D.push(C))}return D.length>0&&(h=m=y=null,this.dispatchEvent("directives-removed",[this,D])),D},this.getProcessor=()=>A,this.update=x=>{if(a){if(x)for(let D of x){let{id:C,path:b}=D;if(!(C in f)){f[C]=[b];continue}f[C].includes(b)||f[C].push(b)}if(!o&&Object.getOwnPropertySymbols(f).length!==0){o=!0,x=Object.freeze(f),f={},this.dispatchEvent("updating",[this,x]);for(let D of u)D.update(x);if(o=!1,Object.getOwnPropertySymbols(f).length>0){window.requestAnimationFrame(()=>this.update());return}if(l.length>0){T();return}this.dispatchEvent("updated",[this,x])}}};let T=x=>{if(l.push(...x),o||l.length===0)return;o=!0,x=[...l],l=[];let{stateDirectiveName:D,ignoreDirectiveName:C}=this.getOptions(),b=e+"-"+D,w=e+"-"+C,k=[],ae=[],Te=S=>{if(S.nodeType===1)if(S[R]){ae.unshift(S[R]);let P=S.querySelectorAll(b);for(let I of P)I[R]&&ae.unshift(I)}else{let P=W(S,I=>I[R]?(ae.unshift(I[R]),!1):!0);do if(S[M])for(let I of S[M])I.getComponent().removeAttribute(I);while(S=P())}},Pe=S=>{if(S.nodeType!==1||S.closest("["+w+"]"))return;let I=S.querySelectorAll("["+b+"]");for(let q of I)q.closest("["+w+"]")||k.push(q);if(S.hasAttribute(b)){k.push(S);return}let B=Z(S);if(B){let q=B.scanAttributes(S);B.updateAttributes(q)}};for(let S of x)if(S.type==="childList"){for(let P of S.removedNodes)Te(P);for(let P of S.addedNodes)Pe(P)}else if(S.type==="attributes"){let P=S.target;if(S.attributeName===b){if(P[R])continue;let te=Z(P);if(te){let we=P,At=W(P,be=>be.hasAttribute(b));do for(let be of we[M])te.removeAttribute(be);while(we=At())}O(P);continue}else if(S.attributeName===w){if(P.hasAttribute(w)){Te(P);continue}Pe(P);continue}if(!y.test(S.attributeName))continue;let I=Z(P);if(!I)continue;let B=null;for(let te of P[M])if(te.getName()===S.attributeName){B=te;break}let q=P.getAttribute(S.attributeName);if(!B){q&&I.addAttribute(P,S.attributeName,q);continue}B.setValue(q),I.updateAttribute(B)}if(ae.length>0&&N(...ae),k.length>0&&O(...k),o=!1,l.length>0){T();return}Object.getOwnPropertySymbols(f).length>0&&this.update()}}};var Dt=(r,t,e,n=null,s=null)=>{s=Object.assign({return:!0},s);let c=[],a=(p,v)=>{c.push({id:p,path:v})},{after:o,before:l,contexts:i,destroy:f}=U(r,t,a,n);s.return&&(l+="return ");let u;try{u=new Function(...Object.keys(i),l+e+o)(...Object.values(i))}catch(p){u=null}return f(),c.length>0&&r.getLibrary().update(c),u};ce.executeExpression=Dt;var An=ce;export{An as default};
//# sourceMappingURL=doars.esm.min.js.map
