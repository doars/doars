(()=>{var _=Symbol("ATTRIBUTES"),R=Symbol("COMPONENT"),se=Symbol("FOR"),V=Symbol("REFERENCES"),oe=Symbol("REFERENCES_CACHE");var F=class{constructor(){let t={};this.addEventListener=(e,o,s=null)=>{e in t||(t[e]=[]),t[e].push({callback:o,options:s})},this.removeEventListener=(e,o)=>{if(!Object.keys(t).includes(e))return;let s=t[e],i=-1;for(let a=0;a<s.length;a++)if(s[a].callback===o){i=a;break}i<0||(s.splice(i,1),Object.keys(s).length===0&&delete t[e])},this.removeEventListeners=e=>{e&&delete t[e]},this.removeAllEventListeners=()=>{t={}},this.dispatchEvent=(e,o,s=null)=>{if(!t[e])return;let i=t[e];for(let a=0;a<i.length;a++){let n=s&&s.reverse?i[i.length-(a+1)]:i[a];n.options&&n.options.once&&i.splice(a,1),n.callback(...o)}}}};var ne=r=>r.replace(/\\/g,"\\\\").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\n/g,"\\n"),Nt=r=>r.replace(/-(\w)/g,(t,e)=>e.toUpperCase()),Ie=r=>{let t={};for(let e of r){let o=e.indexOf("-");if(o<0){t[e]=!0;continue}if(o===0){t[e.substring(1)]=!1;continue}let s=e.substring(0,o),i=e.substring(o+1),a=i,n;if(i.endsWith("ms")?a=i.substring(-2):i.endsWith("s")?(n="s",a=i.substring(-1)):i.endsWith("m")?(n="m",a=i.substring(-1)):i.endsWith("h")&&(n="h",a=i.substring(-1)),a=Number.parseInt(a),!isNaN(a))switch(i=a,n){case"h":i*=60;case"m":i*=60;case"s":i*=1e3;break}t[s]=i}return t},Re=(r,t)=>{if(t=t.match(new RegExp("^"+r+"-([a-z][0-9a-z-]{1,}):?([a-z][0-9a-z-]*)?(\\..*]*)?$","i")),!t)return;let[e,o,s,i]=t;s=s!==""?s:null;let a=s?Nt(s):null;return i=i?i.substring(1).split("."):[],[o,s,a,i]},je=r=>{let t=r.match(/^([$_a-z0-9,(){}\s]{1,}?)\s+(?:in|of)\s+([\s\S]{1,})$/i);if(!t)return;let e=t[1].replace(/^[\s({]*|[)}\s]*$/g,"");if(e=e.match(/^([$_a-z0-9]{1,})?(?:,\s+?)?([$_a-z0-9]{1,})?(?:,\s+)?([$_a-z0-9]{1,})?$/i),!!e)return e.shift(),{iterable:t[2].trim(),variables:[...e]}},ie=r=>{if(typeof r=="string"&&(r=r.split(/(?=\.)|(?=#)|(?=\[)/)),!Array.isArray(r))return;let t={};for(let e of r)switch(e=e.trim(),e[0]){case"#":t.id=e.substring(1);break;case".":e=e.substring(1),t.class||(t.class=[]),t.class.includes(e)||t.class.push(e);break;case"[":let[o,s,i]=e.match(/^(?:\[)?([-$_.a-z0-9]{1,})(?:[$*^])?(?:=)?([\s\S]{0,})(?:\])$/i);t[s]=i;break}return t};var ce=class r extends F{constructor(t,e,o,s,i=!1){super();let a=Symbol("ID_ATTRIBUTE");i||(e[_]||(e[_]=[]),e[_].push(this));let n={},l=null,c,f,u,p,v;if(o){let[d,h,m,g]=Re(t.getLibrary().getOptions().prefix,o);c=d,f=m,u=h,p=g,g&&(v=Ie(g))}this.getComponent=()=>t,this.getElement=()=>e,this.getId=()=>a,this.getDirective=()=>c,this.getKey=()=>f,this.getKeyRaw=()=>u,this.getModifiers=()=>Object.assign({},v),this.getModifiersRaw=()=>p,this.getName=()=>o,this.getValue=()=>s,this.setValue=d=>{s=d,this.dispatchEvent("changed",[this])},this.clearData=()=>{l=null},this.hasData=()=>l!==null,this.getData=()=>l,this.setData=d=>{l=d},this.destroy=()=>{this.setData(null),this.clearAccessed();let d=e[_].indexOf(this);d>=0&&e[_].splice(d,1),this.dispatchEvent("destroyed",[this]),this.removeAllEventListeners()},this.accessed=(d,h)=>{if(!n[d])n[d]=[];else if(n[d].includes(h))return;n[d].push(h),this.dispatchEvent("accessed",[this,d,h])},this.clearAccessed=()=>{n={}},this.hasAccessed=(d,h)=>{if(!(d in n))return!1;let m=n[d];for(let g of h)if(m.includes(g))return!0;return!1},this.clone=()=>new r(t,e,o,s,!0)}};var St=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],j=(r,t)=>{let e=!1,o={};for(let s of St)o[s]=(...i)=>{if(!e)return s in t?t[s](...i):Reflect[s](...i)};return{proxy:new Proxy(r,o),revoke:()=>{e=!0}}};var Y=class extends F{constructor(t={}){super(),t=Object.assign({delete:!0,get:!0,set:!0},t);let e=new WeakMap;this.add=(o,s=[])=>{if(e.has(o))return e.get(o);for(let n in o)o[n]&&typeof o[n]=="object"&&(o[n]=this.add(o[n],[...s,n]));let i={};t.delete&&(i.deleteProperty=(n,l)=>{if(!Reflect.has(n,l))return!0;this.remove(n,l);let c=Reflect.deleteProperty(n,l);return c&&this.dispatchEvent("delete",[n,Array.isArray(n)?[...s]:[...s,l]]),c}),t.get&&(i.get=(n,l,c)=>(l!==Symbol.unscopables&&this.dispatchEvent("get",[n,[...s,l],c]),Reflect.get(n,l,c))),t.set&&(i.set=(n,l,c,f)=>(n[l]===c||(c&&typeof c=="object"&&(c=this.add(c,[...s,l])),n[l]=c,this.dispatchEvent("set",[n,Array.isArray(n)?[...s]:[...s,l],c,f])),!0));let a=j(o,i);return e.set(a,o),a.proxy},this.remove=o=>{if(!e.has(o))return;let s=e.get(o);e.delete(s);for(let i in s.proxy)typeof s.proxy[i]=="object"&&this.remove(s.proxy[i]);s.revoke()}}};var Z=r=>{if(r.parentElement)return r=r.parentElement,r[R]?r[R]:Z(r)};var $e=r=>{let t=r.substring(0,15).toLowerCase();if(t.startsWith("<!doctype html>")||t.startsWith("<html>")){let s=document.createElement("html");return s.innerHTML=r,s}let o=document.createElement("template");return o.innerHTML=r,o.content.childNodes[0]},fe=(r,t)=>{r.nextSibling?r.parentNode.insertBefore(t,r.nextSibling):r.parentNode.appendChild(t)};var Ce=(r,t)=>r.isSameNode&&r.isSameNode(t)?!0:r.type===3?r.nodeValue===t.nodeValue:r.tagName===t.tagName,W=(r,t)=>{let e=-1,o=null;return()=>{if(e>=0&&o){let i=o();if(i)return i}let s=null;do{if(e++,e>=r.childElementCount)return null;s=r.children[e]}while(!t(s));return s.childElementCount&&(o=W(s,t)),s}};var ue=class{constructor(t,e){let o=Symbol("ID_COMPONENT"),{prefix:s,stateDirectiveName:i}=t.getOptions(),a=t.getProcessor(),n=[],l=!1,c=!1,f,u,p;if(!e.attributes[s+"-"+i])return;e[R]=this;let v=[],d=Z(e);d&&(d.getChildren().includes(this)||(d.getChildren().push(this),t.update([{id:d.getId(),path:"children"}])));let h=(m,g)=>{e.dispatchEvent(new CustomEvent(s+"-"+m,{detail:g,bubbles:!0}))};this.getAttributes=()=>n,this.getChildren=()=>v,this.getElement=()=>e,this.getId=()=>o,this.getLibrary=()=>t,this.getParent=()=>d,this.getProxy=()=>u,this.getState=()=>p,this.setParent=m=>{d=m},this.initialize=()=>{if(c)return;c=!0;let{stateDirectiveName:m}=this.getLibrary().getOptions(),g=s+"-"+m,y=e.attributes[g].value;if(f=y?a(this,new ce(this,e,null,y),y):{},f===null)f={};else if(typeof f!="object"||Array.isArray(f))return;u=new Y,p=u.add(f),this.scanAttributes(e)},this.destroy=()=>{if(!c)return;if(n.length>0){let g=t.getDirectivesObject();for(let y in g)g[y].destroy||(g[y]=void 0);for(let y of n){let A=g[y.getKey()];A&&A.destroy(this,y,a),y.destroy()}}delete e[R],n=[],c=!1,u.remove(f),p=null,u=null,f=null;let m=[];if(v.length>0){for(let g of v)g.setParent(d),m.push({id:g.getId(),path:"parent"});m.push({id:o,path:"children"})}d&&(v.length>0&&(d.getChildren().push(...v),m.push({id:d.getId(),path:"children"})),m.push({id:o,path:"parent"})),m.length>0&&t.update(m),h("destroyed",{element:e,id:o})},this.addAttribute=(m,g,y)=>{let A=t.getDirectivesNames(),O=new ce(this,m,g,y),N=O.length,T=A.indexOf(O.getDirective());for(let L=n.length-1;L>=0;L--)if(A.indexOf(n[L].getDirective())<=T){N=L+1;break}return n.splice(N,0,O),O},this.removeAttribute=m=>{let g=n.indexOf(m);if(g<0)return;let A=t.getDirectivesObject[m.getKey()];A&&A.destroy&&A.destroy(this,m,a),n.splice(g,1),m.destroy()},this.scanAttributes=m=>{let{stateDirectiveName:g,ignoreDirectiveName:y}=this.getLibrary().getOptions(),A=s+"-"+g,O=s+"-"+y,N=[],T=W(m,L=>!L.hasAttribute(A)&&!L.hasAttribute(O));do for(let{name:L,value:B}of m.attributes)t.isDirectiveName(L)&&N.push(this.addAttribute(m,L,B));while(m=T());return N},this.updateAttribute=m=>{if(!m.getElement()||m.getValue()===null||m.getValue()===void 0){this.removeAttribute(m);return}let g=t.getDirectivesObject();m.clearAccessed();let y=g[m.getDirective()];y&&y.update(this,m,a)},this.updateAttributes=m=>{if(!c||m.length<=0){l||(l=!0,h("updated",{attributes:m,element:e,id:o}));return}for(let g of m)this.updateAttribute(g);l=!0,h("updated",{attributes:m,element:e,id:o})},this.update=m=>{if(!c)return;let g=Object.getOwnPropertySymbols(m),y=[];for(let A of n)for(let O of g)A.hasAccessed(O,m[O])&&(this.updateAttribute(A),y.push(A));(!l||y.length>0)&&(l=!0,h("updated",{attributes:y,element:e,id:o}))}}};var H=(r,t,e,o=null)=>{let s=r.getLibrary(),i=s.getSimpleContexts(),a=[],n="",l="",c=s.getContexts(),f=[];for(let u of c){if(!u||!u.name)continue;let p=u.create(r,t,e);!p||!p.value||(p.destroy&&typeof p.destroy=="function"&&f.push(p.destroy),u.deconstruct&&typeof p.value=="object"&&(a.push(u.name),l+="with("+u.name+") { ",n+=" }"),i[u.name]=p.value)}if(typeof o=="object")for(let u in o)i[u]=o[u];return{contexts:i,destroy:()=>{for(let u of f)u()},after:n,before:l,deconstructed:a}},U=(r,t,e,o=null)=>{let s=null,i=j({},{get:(a,n)=>{if(s||(s=H(r,t,e,o)),n in s.contexts)return t.accessed(r.getId(),n),s.contexts[n];if(s.contexts.$state&&n in s.contexts.$state)return t.accessed(r.getId(),"$state"),s.contexts.$state[n]}});return{contexts:i.proxy,destroy:()=>{s&&s.destroy&&s.destroy(r,t),i.revoke()}}},J=(r,t,e=null)=>{let o=[],s=(n,l)=>{o.push({id:n,path:l})},{contexts:i,destroy:a}=H(r,t,s,e);return[i,()=>{a(),o.length>0&&r.getLibrary().update(o)}]};var Ve=({childrenContextName:r})=>({name:r,create:(t,e,o)=>{let s,i=j(t.getChildren(),{get:(a,n,l)=>{if(s||(s=a.map(f=>U(f,e,o)),e.accessed(t.getId(),"children")),isNaN(n))return Reflect.get(s,n,l);let c=Reflect.get(s,n,l);if(c)return c.contexts}});return{value:i.proxy,destroy:()=>{s&&s.forEach(a=>a.destroy()),i.revoke()}}}});var _e=({componentContextName:r})=>({name:r,create:t=>({value:t.getElement()})});var Me=({elementContextName:r})=>({name:r,create:(t,e)=>({value:e.getElement()})});var Ue=({dispatchContextName:r})=>({name:r,create:t=>({value:(e,o={})=>{t.getElement().dispatchEvent(new CustomEvent(e,{detail:o,bubbles:!0}))}})});var Fe=({forContextDeconstruct:r,forContextName:t})=>({deconstruct:r,name:t,create:(e,o)=>{if(e!==o.getComponent())return;let s=o.getElement(),i=e.getElement(),a=[],n={};for(;s&&!s.isSameNode(i);){let c=s[se];if(c){a.push(c);for(let f in c.variables)n[f]=c.variables[f]}s=s.parentNode}if(a.length===0)return;let l=j(n,{get:(c,f)=>{for(let u of a)if(f in u.variables)return o.accessed(u.id,"$for"),u.variables[f]}});return{value:l.proxy,destroy:()=>{l.revoke()}}}});var He=({inContextContextName:r})=>({name:r,create:(t,e)=>({value:o=>{let s=[],i=(c,f)=>{s.push({id:c,path:f})},{contexts:a,destroy:n}=H(t,e,i,{}),l=o(a);return n(),s.length>0&&t.getLibrary().update(s),l}})});var ze=({nextSiblingContextName:r})=>({name:r,create:(t,e,o)=>{let s=t.getParent();if(!s)return{value:null};let i=s.getChildren(),a=i.indexOf(t);if(a+1>=i.length)return{value:null};let{contexts:n,destroy:l}=U(i[a+1],e,o);return{value:n,destroy:l}}});var Be=({nextTickContextName:r})=>({name:r,create:(t,e,o)=>{let s,i=!1,a=()=>{if(i)return;i=!0;let n=t.getLibrary();s=[];let l=()=>{c();let{contexts:f,destroy:u}=H(t,e,o,{});for(let p of s)p(f);u()},c=()=>{n.removeEventListener("updated",l),e.removeEventListener("changed",c),e.removeEventListener("destroyed",c)};n.addEventListener("updated",l),e.addEventListener("changed",c),e.addEventListener("destroyed",c)};return{value:n=>{a(),s.push(n)}}}});var Ke=({parentContextName:r})=>({name:r,create:(t,e,o)=>{let s=t.getParent();if(!s)return{value:null};let{contexts:i,destroy:a}=U(s,e,o);return{value:i,destroy:a}}});var qe=({previousSiblingContextName:r})=>({name:r,create:(t,e,o)=>{let s=t.getParent();if(!s)return{value:null};let i=s.getChildren(),a=i.indexOf(t);if(a<=0)return{value:null};let{contexts:n,destroy:l}=U(i[a-1],e,o);return{value:n,destroy:l}}});var We=({referencesContextName:r})=>({name:r,create:(t,e)=>{if(!t[V])return{value:[]};let o=t[oe];if(!o){let i=t[V],a=Object.getOwnPropertySymbols(i);o={};for(let n of a){let{element:l,name:c}=i[n];o[c]=l}t[oe]=o}let s=j(o,{get:(i,a,n)=>(e.accessed(t.getId(),"$references."+a),Reflect.get(i,a,n))});return{value:s.proxy,destroy:()=>{s.revoke()}}}});var Xe=({siblingsContextName:r})=>({name:r,create:(t,e,o)=>{let s=t.getParent();if(!s)return{value:[]};let i,a=j(s.getChildren().filter(n=>n!==t),{get:(n,l,c)=>{if(i||(i=n.map(u=>U(u,e,o)),e.accessed(t.getId(),"siblings")),isNaN(l))return Reflect.get(i,l,c);let f=Reflect.get(i,l,c);if(f)return f.contexts}});return{value:a.proxy,destroy:()=>{i&&i.forEach(n=>n.destroy()),a.revoke()}}}});var ve=(r,t,e,o)=>(s,i,a)=>{let n=(u,p)=>a(t,r+"."+p.join(".")),l=(u,p)=>i.accessed(t,r+"."+p.join(".")),c=(u,p)=>a(t,r+"."+p.join("."));o.addEventListener("delete",n),o.addEventListener("get",l),o.addEventListener("set",c);let f=j(e,{});return{value:f.proxy,destroy:()=>{o.removeEventListener("delete",n),o.removeEventListener("get",l),o.removeEventListener("set",c),f.revoke()}}};var Ge=({stateContextDeconstruct:r,stateContextName:t})=>({deconstruct:r,name:t,create:(e,o,s,i)=>{let a=e.getProxy(),n=e.getState();if(!(!a||!n))return ve(t,e.getId(),n,a)(e,o,s,i)}});var de=(r,...t)=>{if(!t.length)return r;let e=t.shift();if(ge(r)&&ge(e))for(let o in e)ge(e[o])?(r[o]||Object.assign(r,{[o]:{}}),de(r[o],e[o])):Array.isArray(e[o])?r[o]=e[o].map(s=>ge(s)?de({},s):s):Object.assign(r,{[o]:e[o]});return de(r,...t)},pe=(r,t)=>{let e=r,o=0;for(;o<t.length-1;o++)e=e[t[o]];return e[t[o]]},ge=r=>r&&typeof r=="object"&&!Array.isArray(r),z=(r,t,e)=>{if(typeof r!="object")return;let o=0;for(;o<t.length-1;o++)if(r=r[t[o]],typeof r!="object")return;r[t[o]]=e};var Ye=(r,t,e,o,s)=>({deconstruct:s,name:r,create:ve(r,t,e,o)});var Ze=({storeContextDeconstruct:r,storeContextInitial:t,storeContextName:e})=>{let o=de({},t),s=new Y,i=s.add(o);return Ye(e,Symbol("ID_STORE"),i,s,r)};var Je=({watchContextName:r})=>({name:r,create:(t,e)=>{let o=null,s=!1,i=!1,a=!1,n=null,l=()=>{a=!0,o=[];let c=t.getLibrary();n=c.getProcessor();let f=(p,v)=>{let d=Object.getOwnPropertySymbols(v);if(d.length>0){let h=[],m=(g,y)=>{h.push({id:g,path:y})};for(let g of d)for(let y of o)if(y.attribute||(y.attribute=e.clone(),n(t,y.attribute,y.path)),y.attribute.hasAccessed(g,v[g])){let{contexts:A,destroy:O}=H(t,e,m,{});y.callback(A),O();continue}h.length>0&&t.getLibrary().update(h)}},u=()=>{i||(i=!0,e.removeEventListener("changed",u),e.removeEventListener("destroyed",u),c.removeEventListener("updating",f))};e.addEventListener("changed",u),e.addEventListener("destroyed",u),c.addEventListener("updating",f)};return{value:(c,f)=>{if(!(s||i))return a||l(),o.push({path:c,callback:f}),()=>{let u=[],p=(h,m)=>{u.push({id:h,path:m})},{contexts:v,destroy:d}=H(t,e.clone(),p,{});f(v),d(),u.length>0&&t.getLibrary().update(u)}},destroy:()=>{s=!0}}}});var ye=(r,t)=>{for(let e in t){if(e==="class"){for(let o of t.class)r.classList.add(o);continue}r.setAttribute(e,t[e])}},Qe=(r,t)=>{let e=r.attributes,o=t.attributes,s=null,i=null,a=null,n=null,l=null;for(let c=o.length-1;c>=0;--c)l=o[c],n=l.name,s=l.namespaceURI,i=l.value,s?(n=l.localName||n,a=r.getAttributeNS(s,n),a!==i&&r.setAttributeNS(s,n,i)):r.hasAttribute(n)?(a=r.getAttribute(n),a!==i&&(i==="null"||i==="undefined"?r.removeAttribute(n):r.setAttribute(n,i))):r.setAttribute(n,i);for(let c=e.length-1;c>=0;--c)l=e[c],l.specified!==!1&&(n=l.name,s=l.namespaceURI,s?(n=l.localName||n,t.hasAttributeNS(s,n)||r.removeAttributeNS(s,n)):t.hasAttributeNS(null,n)||r.removeAttribute(n))},Q=(r,t)=>{for(let e in t){if(e==="class"){for(let o of t.class)r.classList.remove(o);continue}t[e]&&r.attributes[e]!==t[e]||r.removeAttribute(e)}},Oe=(r,t,e)=>{if(t==="value"&&r.tagName==="INPUT"){if(e||(e=""),r.getAttribute(t)===e)return;r.setAttribute(t,e);return}if(t==="checked"&&(r.type==="checkbox"||r.type==="radio")){r.checked=!!e;return}t==="class"&&(Array.isArray(e)?e=e.join(" "):typeof e=="object"&&(e=Object.entries(e).filter(([o,s])=>s).map(([o])=>o).join(" "))),t==="style"&&(Array.isArray(e)?e=e.join(" "):typeof e=="object"&&(e=Object.entries(e).map(([o,s])=>o+":"+s).join(";"))),e===!1||e===null||e===void 0?r.removeAttribute(t):r.setAttribute(t,e)},Ne=(r,t)=>{for(let e in t)Oe(r,e,t[e])};var Wr=Function.prototype.toString.call(Function).replace("Function","Promise").replace(/\(.*\)/,"()");var $=r=>r&&Object.prototype.toString.call(r)==="[object Promise]";var et=({attributeDirectiveName:r})=>({name:r,update:(t,e,o)=>{let s=e.getDirective(),i=e.getElement(),a=e.getModifiers(),n=c=>{if(a.selector){if(typeof c!="string")return;c=ie(c),Ne(i,c);return}let f=e.getKeyRaw();if(!f){typeof c=="object"&&!Array.isArray(c)&&Ne(i,c);return}Oe(i,f,c)},l=o(t,e,e.getValue());e.setData(l),$(l)?Promise.resolve(l).then(c=>{e.getData()===l&&n(c)}):n(l)}});var Lt="-transition:",tt=(r,t,e,o=null)=>{if(e.nodeType!==1){o&&o();return}let s=t.prefix+Lt+r,i=p=>{e.dispatchEvent(new CustomEvent("transition-"+p)),e.dispatchEvent(new CustomEvent("transition-"+r+"-"+p))},a,n,l,c,f=!1,u={};return a=s,n=e.getAttribute(a),n&&(u.during=ie(n),ye(e,u.during)),a=s+".from",n=e.getAttribute(a),n&&(u.from=ie(n),ye(e,u.from)),i("start"),c=requestAnimationFrame(()=>{if(c=null,f)return;if(u.from&&(Q(e,u.from),u.from=void 0),a=s+".to",n=e.getAttribute(a),n)u.to=ie(n),ye(e,u.to);else if(!u.during){i("end"),o&&o(),f=!0;return}let p=getComputedStyle(e),v=Number(p.transitionDuration.replace(/,.*/,"").replace("s",""))*1e3;v===0&&(v=Number(p.animationDuration.replace("s",""))*1e3),l=setTimeout(()=>{l=null,!f&&(u.during&&(Q(e,u.during),u.during=void 0),u.to&&(Q(e,u.to),u.to=void 0),i("end"),o&&o(),f=!0)},v)}),()=>{f&&(f=!0,u.during&&(Q(e,u.during),u.during=void 0),u.from?(Q(e,u.from),u.from=void 0):u.to&&(Q(e,u.to),u.to=void 0),c?(cancelAnimationFrame(c),c=null):l&&(clearTimeout(l),l=null),i("end"),o&&o())}},X=(r,t,e)=>tt("in",r,t,e),ee=(r,t,e)=>tt("out",r,t,e);var rt=({cloakDirectiveName:r})=>({name:r,update:(t,e)=>{let o=e.getElement(),s=t.getLibrary().getOptions();o.removeAttribute(s.prefix+"-"+(void 0).name),X(s,o)}});var st=r=>{if(r.tagName!=="SCRIPT"||r.hasAttribute("src"))return!1;let t=document.createElement("script");return t.innerText=r.innerText,r.parentNode.insertBefore(t,r),r.remove(),!0},te=(...r)=>{for(let t of r)if(!st(t)){let e=W(t),o=null;for(;o=e();)st(o)}};var Ee=(r,...t)=>{let e={};for(let o=0;o<t.length&&!(o>=r.length);o++)e[r[o]]=t[o];return e},ot=(r,t,e=-1)=>(e++,e>=r.length?-1:r[e][se].value===t?e:ot(r,t,e)),xe=(r,t,e,o,s,i,a,n)=>{let l=r.getLibrary().getOptions(),c=ot(o,i,s);if(c>=0){if(c===s+1)return;let p=o[c];fe(o[s]?o[s]:e,p),t(p[se].id);return}let f=document.importNode(e.content,!0),u=s===-1?e:o[s];fe(u,f),f=u.nextElementSibling,n&&te(f),X(l,f),f[se]={id:Symbol("ID_FOR"),value:i,variables:a},o.splice(s+1,0,f)},Se=(r,t,e)=>{if(t.length<e)return;let o=r.getLibrary().getOptions();for(let s=t.length-1;s>=e;s--){let i=t[s];t.splice(s,1),ee(o,i,()=>{i.remove()})}},nt=({allowInlineScript:r,forDirectiveName:t})=>({name:t,update:(e,o,s)=>{let i=o.getDirective(),a=o.getElement(),n=o.getModifiers();if(a.tagName!=="TEMPLATE")return;let l=je(o.getValue());if(!l)return;let c={},f=d=>{c[d]||(c[d]=["$for"])},u=d=>{let h=o.getData(),m=h.elements?h.elements:[],g=typeof d;if(d!=null)if(g==="number"){for(let y=0;y<d;y++){let A=Ee(l.variables,y);xe(e,f,a,m,y-1,d,A,r||n.script)}Se(e,m,d)}else if(g==="string"){for(let y=0;y<d.length;y++){let A=d[y],O=Ee(l.variables,A,y);xe(e,f,a,m,y-1,A,O,r||n.script)}Se(e,m,d.length)}else{let y,A;try{let O=[...d];y=!0,A=O.length}catch(O){}if(y)for(let O=0;O<A;O++){let N=d[O],T=Ee(l.variables,N,O);xe(e,f,a,m,O-1,N,T,r||n.script)}else{let O=Object.keys(d);A=O.length;for(let N=0;N<A;N++){let T=O[N],L=d[T],B=Ee(l.variables,T,L,N);xe(e,f,a,m,N-1,L,B,r||n.script)}}Se(e,m,A)}Object.getOwnPropertySymbols(c).length>0&&e.update(c),o.setData(Object.assign({},h,{elements:m}))},p;isNaN(l.iterable)?p=s(e,o,l.iterable):p=Number(l.iterable);let v=o.getData();o.setData(Object.assign({},v,{result:p})),$(p)?Promise.resolve(p).then(d=>{o.getData().result===p&&u(d)}):u(p)},destroy:(e,o)=>{let s=o.getData();if(s.elements)for(let i of s.elements)ee(e.getLibrary().getOptions(),i,()=>{i.remove()})}});var Tt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},Pt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;var it=r=>typeof r!="string"?r:r.replaceAll(Pt,t=>Tt[t]);var wt=(r,t)=>{let e=t.nodeType,o=t.nodeName;e===1&&Qe(r,t),(e===3||e===8)&&r.nodeValue!==t.nodeValue&&(r.nodeValue=t.nodeValue),o==="INPUT"?kt(r,t):o==="OPTION"?Le(r,t,"selected"):o==="TEXTAREA"&&It(r,t)},Te=(r,t,e)=>{if(typeof r!="object")throw new Error("Existing tree should be an object.");if(typeof t=="string")t=$e(t);else if(typeof t!="object")throw new Error("New tree should be an object.");return e&&e.childrenOnly||t.nodeType===11?(ct(r,t),r):be(r,t)},kt=(r,t)=>{let e=t.value,o=r.value;Le(r,t,"checked"),Le(r,t,"disabled"),r.indeterminate!==t.indeterminate&&(r.indeterminate=t.indeterminate),r.type!=="file"&&(o!==e&&(r.setAttribute("value",e),r.value=e),e==="null"&&(r.value="",r.removeAttribute("value")),t.hasAttributeNS(null,"value")?r.type==="range"&&(r.value=e):r.removeAttribute("value"))},It=(r,t)=>{let e=t.value;r.value!==e&&(r.value=e),r.firstChild&&r.firstChild.nodeValue!==e&&(r.firstChild.nodeValue=e)},Le=(r,t,e)=>{r[e]!==t[e]&&(r[e]=t[e],t[e]?r.setAttribute(e,""):r.removeAttribute(e))},be=(r,t)=>r?t?r.isSameNode&&r.isSameNode(t)?r:r.tagName!==t.tagName?t:(wt(r,t),ct(r,t),r):null:t,ct=(r,t)=>{let e,o,s,i,a=0;for(let n=0;e=r.childNodes[n],o=t.childNodes[n-a],!(!e&&!o);n++)if(!o)r.removeChild(e),n--;else if(!e)r.appendChild(o),a++;else if(Ce(e,o))s=be(e,o),s!==e&&(r.replaceChild(s,e),a++);else{i=null;for(let l=n;l<r.childNodes.length;l++)if(Ce(r.childNodes[l],o)){i=r.childNodes[l];break}i?(s=be(i,o),s!==i&&a++,r.insertBefore(s,e)):!o.id&&!e.id?(s=be(e,o),s!==e&&(r.replaceChild(s,e),a++)):(r.insertBefore(o,e),a++)}};var at=({allowInlineScript:r,htmlDirectiveName:t})=>({name:t,update:(e,o,s)=>{let i=o.getDirective(),a=o.getElement(),n=o.getModifiers(),l=f=>{if(n.decode&&(f=it(f)),f instanceof HTMLElement){for(let u of a.children)u.remove();a.appendChild(f.cloneNode(!0));return}if(typeof f=="string"){if(n.morph)if(n.outer)Te(a,f);else{if(a.children.length===0)a.appendChild(document.createElement("div"));else if(a.children.length>1)for(let p=a.children.length-1;p>=1;p--)a.children[p].remove();let u=Te(a.children[0],f);a.children[0].isSameNode(u)||(a.children[0].remove(),a.appendChild(u))}else n.outer?a.outerHTML!==f&&(a.outerHTML=f,(r||n.script)&&te(a)):a.innerHTML!==f&&(a.innerHTML=f,(r||n.script)&&te(...a.children));return}},c=s(e,o,o.getValue());o.setData(c),$(c)?Promise.resolve(c).then(f=>{o.getData()===c&&l(f)}):l(c)}});var lt=({allowInlineScript:r,ifDirectiveName:t})=>({name:t,update:(e,o,s)=>{let i=e.getLibrary().getOptions(),a=o.getDirective(),n=o.getModifiers(),l=o.getElement();if(l.tagName!=="TEMPLATE"||l.childCount>1)return;let c=p=>{let v=o.getData(),d=v.element,h=v.transition;p?d||(h&&h(),d=document.importNode(l.content,!0),fe(l,d),d=l.nextElementSibling,(r||n.script)&&te(d),h=X(i,d)):d&&(h&&h(),h=ee(i,d,()=>{d.remove()})),o.setData(Object.assign({},v,{element:d,transition:h}))},f=s(e,o,o.getValue()),u=o.getData();o.setData(Object.assign({},u,{result:f})),$(f)?Promise.resolve(f).then(p=>{o.getData().result===p&&c(p)}):c(f)},destroy:(e,o,{transitionOut:s})=>{let i=o.getData();i.element&&s(e.getLibrary().getOptions(),i.element,()=>{i.element.remove()})}});var G=Symbol("INITIALIZED"),ft=(r,t)=>{if(!t[G])return;let e=r.getElement(),o=r.getLibrary().getOptions().prefix+"-updated";e.removeEventListener(o,t[G].handler),delete t[G]},ut=({initializedDirectiveName:r})=>({name:r,update:(t,e,o)=>{let s=t.getElement(),i=e.getValue(),a=t.getLibrary().getOptions().prefix+"-updated";if(e[G]){if(e[G].value===i)return;s.removeEventListener(a,e[G].handler),delete e[G]}let n=({detail:l})=>{l.element===s&&(o(t,e.clone(),i,{},{return:!1}),ft(t,e))};s.addEventListener(a,n,{once:!0}),e[G]={handler:n,value:i}},destroy:ft});var E=Symbol("ON"),me={keydown:"keyup",mousedown:"mouseup",pointerdown:"pointerup"},M={NONE:0,BUFFER:1,DEBOUNCE:2,HELD:3,HOLD:4,THROTTLE:5},Rt=["alt","ctrl","meta","shift"],dt=({onDirectiveName:r})=>({name:r,update:(t,e,o)=>{let s=e.getDirective(),i=e.getKeyRaw();if(!i)return;let a;i.startsWith("keydown-")?(a=i.substring(8).toLowerCase(),i="keydown"):i.startsWith("keyup-")&&(a=i.substring(6).toLowerCase(),i="keyup");let n=e.getElement(),l=e.getValue();if(e[E]){if(e[E].value===l)return;e[E].target.removeEventListener(e[E].eventName,e[E].handler),e[E].timeout&&clearTimeout(e[E].timeout),delete e[E]}let c=e.getModifiers(),f={};c.capture&&(f.capture=!0),c.once&&(f.once=!0),c.passive&&!c.prevent&&(f.passive=!0);let u=M.NONE;c.buffer?(u=M.BUFFER,c.buffer===!0&&(c.buffer=5)):c.debounce?(u=M.DEBOUNCE,c.debounce===!0&&(c.debounce=500)):c.held?(u=M.HELD,c.held===!0&&(c.held=500)):c.hold?(u=M.HOLD,c.hold===!0&&(c.hold=500)):c.throttle&&(u=M.THROTTLE,c.throttle===!0&&(c.throttle=500));let p=[];if(a){c.meta=c.meta?!0:c.cmd||c.super;for(let h of Rt)c[h]&&p.push(h)}let v=n;c.document||c.outside?v=document:c.window&&(v=window);let d=h=>{if(e[E].prevent||!c.repeat&&h.repeat||c.self&&h.target!==n||c.outside&&n.contains(h.target))return;if((i==="keydown"||i==="keyup")&&a){for(let y of p)if(!h[y+"Key"])return;let g=c.code?h.code:h.key;if(g===" "&&(g="space"),g=g.toLowerCase(),g!==a)return}c.prevent&&h.preventDefault(),c.stop&&h.stopPropagation();let m=()=>{o(t,e.clone(),l,{$event:h,$events:e[E].buffer},{return:!1}),e[E].buffer=[]};switch(e[E].buffer.push(h),u){case M.BUFFER:if(e[E].buffer.length<c.buffer)return;m();return;case M.DEBOUNCE:e[E].timeout&&(clearTimeout(e[E].timeout),e[E].timeout=null),e[E].timeout=setTimeout(m,c.debounce);return;case M.HELD:if(!(i in me))return;let g=me[i],y=window.performance.now();e[E].cancel=N=>{if(window.performance.now()-y<c.held){e[E].prevent=!1;return}if(g==="keyup"&&a){for(let L of p)if(!N[L+"Key"]){e[E].prevent=!1;return}let T=c.code?N.code:N.key;if(T===" "&&(T="space"),T=T.toLowerCase(),T!==a){e[E].prevent=!1;return}}if(c.self&&N.target!==n){e[E].prevent=!1;return}if(c.outside&&n.contains(N.target)){e[E].prevent=!1;return}m()},e[E].prevent=!0,v.addEventListener(g,e[E].cancel,{once:!0});return;case M.HOLD:if(!(i in me))return;let A=me[i];e[E].cancel=N=>{if(A==="keyup"&&a){let T=!1;for(let B of p)N[B+"Key"]||(T=!0);let L=c.code?N.code:N.key;if(L===" "&&(L="space"),L=L.toLowerCase(),L===a&&(T=!0),!T){e[E].prevent=!1;return}}if(c.self&&N.target!==n){e[E].prevent=!1;return}if(c.outside&&n.contains(N.target)){e[E].prevent=!1;return}clearTimeout(e[E].timeout)},v.addEventListener(A,e[E].cancel,{once:!0}),e[E].prevent=!0,e[E].timeout=setTimeout(()=>{v.removeEventListener(A,e[E].cancel),e[E].prevent=!1,m()},c.hold);return;case M.THROTTLE:let O=window.performance.now();if(e[E].lastExecution&&O-e[E].lastExecution<c.throttle)return;m(),e[E].lastExecution=O;return}m()};v.addEventListener(i,d,f),e[E]={buffer:[],eventName:i,handler:d,target:v,timeout:e[E]?e[E].timeout:void 0,value:l,prevent:!1}},destroy:(t,e)=>{e[E]&&(e[E].target.removeEventListener(e[E].eventName,e[E].handler),e[E].cancel&&e[E].target.removeEventListener(me[e[E].eventName],e[E].cancel),e[E].timeout&&clearTimeout(e[E].timeout),delete e[E])}});var pt=(r,t)=>{if(!r[V])return;let e=t.getId();if(!r[V][e])return;let o=r.getLibrary(),s=r.getId(),i=r[V][e].name;delete r[V][e],delete r[oe],Object.keys(r[V]).length===0&&delete r[V],o.update([{id:s,path:"$references."+i}])},mt=({referenceDirectiveName:r})=>({name:r,update:(t,e,o)=>{let s=t.getLibrary(),i=t.getId(),a=e.getDirective(),n=e.getElement(),l=e.getId(),{referenceDirectiveEvaluate:c}=s.getOptions(),f=e.getValue();if(f=c?o(t,e,f):f.trim(),!f||typeof f!="string"||!/^[_$a-z]{1}[_\-$a-z0-9]{0,}$/i.test(f)){pt(t,e);return}t[V]||(t[V]={}),t[V][l]={element:n,name:f},delete t[oe],s.update([{id:i,path:"$references."+f}])},destroy:pt});var ht="SELECT",De="checked",vt="selected",gt="checkbox",yt=({selectDirectiveName:r})=>({name:r,update:(t,e,o)=>{let s=e.getElement(),i=e.getDirective(),a=s.getAttribute("type");if(s.tagName!==ht&&!(s.tagName==="INPUT"&&(a===gt||a==="radio")))return;let n=c=>{if(s.tagName===ht)for(let f of Array.from(s.options)){let u=Array.isArray(c)?c.includes(f.value):c===f.value;f.selected!==u&&(f.selected=u,u?f.setAttribute(vt,""):f.removeAttribute(vt))}else if(a===gt){let f=c.includes(s.value);s.checked!==f&&(f?s.setAttribute(De,""):s.removeAttribute(De))}else{let f=c===s.value;s.checked!==f&&(f?s.setAttribute(De,""):s.removeAttribute(De))}},l=o(t,e,e.getValue());e.setData(l),$(l)?Promise.resolve(l).then(c=>{e.getData()===l&&n(c)}):n(l)}});var Et=({showDirectiveName:r})=>({name:r,update:(t,e,o)=>{let s=t.getLibrary().getOptions(),i=e.getElement(),a=()=>{let c=e.getData();c.transition&&c.transition();let f;c.result?(i.style.display=null,f=X(s,i)):f=ee(s,i,()=>{i.style.display="none"}),e.setData(Object.assign({},c,{transition:f}))},n=o(t,e,e.getValue()),l=e.getData();$(n)?(e.setData(Object.assign({},l,{result:n})),Promise.resolve(n).then(c=>{e.getData().result===n&&a(c)})):(!l||l.result!==n)&&(e.setData(Object.assign({},l,{result:n})),a())}});var he=Symbol("SYNC"),xt=({syncDirectiveName:r})=>({name:r,update:(t,e,o)=>{let s=e.getElement(),i=e.getDirective(),a=!e[he];if(a&&!(s.tagName==="DIV"&&s.hasAttribute("contenteditable"))&&s.tagName!=="INPUT"&&s.tagName!=="SELECT"&&s.tagName!=="TEXTAREA")return;let n=e.getValue().trim(),l=e.getKey();if(l&&(n="$"+l+"."+n),!/^[_$a-z]{1}[._$a-z0-9]{0,}$/i.test(n))return;let c=n.split(".");if(a){let u;switch(s.tagName){case"DIV":u=()=>{let[p,v]=J(t,e.clone());z(p,c,ne(s.innerText)),v()};break;case"INPUT":u=()=>{let p=ne(s.value),[v,d]=J(t,e.clone());if(s.type==="checkbox"){let h=pe(v,c);if(s.checked)h||z(v,c,[p]),h.includes(s.value)||h.push(p);else if(h){let m=h.indexOf(s.value);m>=0&&h.splice(m,1)}}else if(s.type==="radio"){let h=pe(v,c);s.checked?h!==s.value&&z(v,c,p):h===s.value&&z(v,c,null)}else z(v,c,p);d()};break;case"TEXTAREA":u=()=>{let[p,v]=J(t,e.clone());z(p,c,ne(s.innerText)),v()};break;case"SELECT":u=()=>{let[p,v]=J(t,e.clone());if(s.multiple){let d=[];for(let h of s.selectedOptions)d.push(ne(h.value));z(p,c,[d.join("','")])}else z(p,c,ne(s.selectedOptions[0].value));v()};break}s.addEventListener("input",u),e[he]=u}let f=o(t,e.clone(),n);switch(s.tagName){case"DIV":case"TEXTAREA":f!==s.innerText&&(s.innerText=f);break;case"INPUT":if(s.type==="checkbox"){let u=f.includes(s.value);s.checked!==u&&(s.checked=u,u?s.setAttribute("checked",""):s.removeAttribute("checked"))}else if(s.type==="radio"){let u=f===s.value;s.checked!==u&&(s.checked=u,u?s.setAttribute("checked",""):s.removeAttribute("checked"))}else f!==s.value&&s.setAttribute("value",f);break;case"SELECT":for(let u of Array.from(s.options)){let p=Array.isArray(f)?f.includes(u.value):f===u.value;u.selected!==p&&(u.selected=p,p?u.setAttribute("selected",""):u.removeAttribute("selected"))}break}},destroy:(t,e)=>{if(!e[he])return;e.getElement().removeEventListener("input",e[he]),delete e[he]}});var bt=({textDirectiveName:r})=>({name:r,update:(t,e,o)=>{let s=e.getElement(),i=e.getModifiers(),a=l=>{i.content?s.textContent!==l&&(s.textContent=l):s.innerText!==l&&(s.innerText=l)},n=o(t,e,e.getValue());e.setData(n),$(n)?Promise.resolve(n).then(l=>{e.getData()===n&&a(l)}):a(n)}});var Dt=({watchDirectiveName:r})=>({name:r,update:(t,e,o)=>o(t,e.clone(),e.getValue(),{},{return:!1})});var ae=class extends F{constructor(t){var L,B;super();let{prefix:e,processor:o,root:s}=t=Object.freeze(Object.assign({prefix:"d",processor:"execute",root:document.body,allowInlineScript:!1,forContextDeconstruct:!0,stateContextDeconstruct:!0,storeContextDeconstruct:!1,storeContextInitial:{},indicatorDirectiveEvaluate:!0,referenceDirectiveEvaluate:!0,targetDirectiveEvaluate:!0,childrenContextName:"$children",componentContextName:"$component",dispatchContextName:"$dispatch",elementContextName:"$element",forContextName:"$for",inContextContextName:"$inContext",nextSiblingContextName:"$nextSibling",nextTickContextName:"$nextTick",parentContextName:"$parent",previousSiblingContextName:"$previousSibling",referencesContextName:"$references",siblingsContextName:"$siblings",stateContextName:"$state",storeContextName:"$store",watchContextName:"$watch",attributeDirectiveName:"attribute",cloakDirectiveName:"cloak",forDirectiveName:"for",htmlDirectiveName:"html",ifDirectiveName:"if",ignoreDirectiveName:"ignore",indicatorDirectiveName:"indicator",initializedDirectiveName:"initialized",onDirectiveName:"on",referenceDirectiveName:"reference",selectDirectiveName:"select",showDirectiveName:"show",stateDirectiveName:"state",syncDirectiveName:"sync",targetDirectiveName:"target",textDirectiveName:"text",transitionDirectiveName:"transition",watchDirectiveName:"watch",redirectHeaderName:"redirect",requestHeaderName:"request",titleHeaderName:"title"},t));if(typeof s=="string"&&(s=t.root=document.querySelector(s)),!e||typeof e!="string"||!s||typeof s!="object")return;let i=Symbol("ID_DOARS"),a=!1,n=!1,l,c,f,u=[],p={},v=[Ve(t),_e(t),Me(t),Ue(t),He(t),ze(t),Be(t),Ke(t),qe(t),We(t),Xe(t),Je(t),Ze(t),Ge(t),Fe(t)],d=[mt(t),et(t),nt(t),at(t),lt(t),bt(t),rt(t),ut(t),dt(t),yt(t),Et(t),xt(t),Dt(t)],h,m,g,y=typeof o,A;y==="function"?A=o:y==="string"&&this.constructor[o+"Expression"]?A=this.constructor[o+"Expression"]:A=(B=(L=this.constructor.executeExpression)!=null?L:this.constructor.interpretExpression)!=null?B:this.constructor.callExpression,this.getId=()=>i,this.getOptions=()=>Object.assign({},t),this.getEnabled=()=>a,this.enable=()=>{if(a)return this;n=!1,l=[],f={},this.dispatchEvent("enabling",[this]),a=!0,h=d.map(k=>k.name),m={};for(let k of d)m[k.name]=k;g=new RegExp("^"+e+"-("+h.join("|")+")(?:[$-_.a-z0-9]{0,})?$","i"),c=new MutationObserver(T.bind(this)),c.observe(s,{attributes:!0,childList:!0,subtree:!0});let{stateDirectiveName:x,ignoreDirectiveName:D}=this.getOptions(),C=e+"-"+x,b=e+"-"+D,w=[...s.querySelectorAll("["+C+"]")];for(let k=w.length-1;k>=0;k--)w[k].closest("["+b+"]")&&w.splice(k,1);return O(s.hasAttribute(C)&&!s.hasAttribute(b)?s:null,...w),this.dispatchEvent("enabled",[this]),this.dispatchEvent("updated",[this]),this},this.disable=()=>a?(c.disconnect(),c=null,n=l=f=null,this.dispatchEvent("disabling",[this],{reverse:!0}),N(...u),h=m=g=null,a=!1,this.dispatchEvent("disabled",[this],{reverse:!0}),this):this;let O=(...x)=>{let D=[],C=[];for(let b of x){if(!b||b[R])continue;let w=new ue(this,b);u.push(w),D.push(w),C.push(b)}C.length>0&&this.dispatchEvent("components-added",[this,C]);for(let b of D)b.initialize();for(let b of D)b.updateAttributes(b.getAttributes());return D},N=(...x)=>{let D=[];for(let C of x){let b=u.indexOf(C);b<0||(D.push(C.getElement()),C.destroy(),u.splice(b,1))}return D.length>0&&this.dispatchEvent("components-removed",[this,D]),D};this.getSimpleContexts=()=>Object.assign({},p),this.setSimpleContext=(x,D=null)=>D===null?(delete p[x],this.dispatchEvent("simple-context-removed",[this,x]),!0):x.match("^([a-zA-Z_$][a-zA-Z\\d_$]*)$")?(p[x]=D,this.dispatchEvent("simple-context-added",[this,x,D]),!0):!1,this.setSimpleContexts=x=>{let D={};for(let C in x)Object.hasOwnProperty.call(x,C)&&(D[C]=this.setSimpleContext(C,x[C]));return D},this.getContexts=()=>[...v],this.addContexts=(x,...D)=>{if(a)return;x<0?x=v.length+x%v.length:x>v.length&&(x=v.length);let C=[];for(let b=0;b<D.length;b++){let w=D[b];v.includes(w)||(v.splice(x+b,0,w),C.push(w))}return C.length>0&&this.dispatchEvent("contexts-added",[this,C]),C},this.removeContexts=(...x)=>{if(a)return;let D=[];for(let C of x){let b=v.indexOf(C);b<0||(v.slice(b,1),D.push(C))}return D.length>0&&this.dispatchEvent("contexts-removed",[this,D]),D},this.getDirectives=()=>[...d],this.getDirectivesNames=()=>[...h],this.getDirectivesObject=()=>Object.assign({},m),this.isDirectiveName=x=>g.test(x),this.addDirectives=(x,...D)=>{if(a)return;x<0?x=d.length+x%d.length:x>d.length&&(x=d.length);let C=[];for(let b=0;b<D.length;b++){let w=D[b];d.includes(w)||(d.splice(x+b,0,w),C.push(w))}return C.length>0&&(h=m=g=null,this.dispatchEvent("directives-added",[this,C])),C},this.removeDirectives=(...x)=>{if(a)return;let D=[];for(let C of x){let b=d.indexOf(C);b<0||(d.slice(b,1),D.push(C))}return D.length>0&&(h=m=g=null,this.dispatchEvent("directives-removed",[this,D])),D},this.getProcessor=()=>A,this.update=x=>{if(a){if(x)for(let D of x){let{id:C,path:b}=D;if(!(C in f)){f[C]=[b];continue}f[C].includes(b)||f[C].push(b)}if(!n&&Object.getOwnPropertySymbols(f).length!==0){n=!0,x=Object.freeze(f),f={},this.dispatchEvent("updating",[this,x]);for(let D of u)D.update(x);if(n=!1,Object.getOwnPropertySymbols(f).length>0){window.requestAnimationFrame(()=>this.update());return}if(l.length>0){T();return}this.dispatchEvent("updated",[this,x])}}};let T=x=>{if(l.push(...x),n||l.length===0)return;n=!0,x=[...l],l=[];let{stateDirectiveName:D,ignoreDirectiveName:C}=this.getOptions(),b=e+"-"+D,w=e+"-"+C,k=[],le=[],Pe=S=>{if(S.nodeType===1)if(S[R]){le.unshift(S[R]);let P=S.querySelectorAll(b);for(let I of P)I[R]&&le.unshift(I)}else{let P=W(S,I=>I[R]?(le.unshift(I[R]),!1):!0);do if(S[_])for(let I of S[_])I.getComponent().removeAttribute(I);while(S=P())}},we=S=>{if(S.nodeType!==1||S.closest("["+w+"]"))return;let I=S.querySelectorAll("["+b+"]");for(let q of I)q.closest("["+w+"]")||k.push(q);if(S.hasAttribute(b)){k.push(S);return}let K=Z(S);if(K){let q=K.scanAttributes(S);K.updateAttributes(q)}};for(let S of x)if(S.type==="childList"){for(let P of S.removedNodes)Pe(P);for(let P of S.addedNodes)we(P)}else if(S.type==="attributes"){let P=S.target;if(S.attributeName===b){if(P[R])continue;let re=Z(P);if(re){let ke=P,Ot=W(P,Ae=>Ae.hasAttribute(b));do for(let Ae of ke[_])re.removeAttribute(Ae);while(ke=Ot())}O(P);continue}else if(S.attributeName===w){if(P.hasAttribute(w)){Pe(P);continue}we(P);continue}if(!g.test(S.attributeName))continue;let I=Z(P);if(!I)continue;let K=null;for(let re of P[_])if(re.getName()===S.attributeName){K=re;break}let q=P.getAttribute(S.attributeName);if(!K){q&&I.addAttribute(P,S.attributeName,q);continue}K.setValue(q),I.updateAttribute(K)}if(le.length>0&&N(...le),k.length>0&&O(...k),n=!1,l.length>0){T();return}Object.getOwnPropertySymbols(f).length>0&&this.update()}}};var jt=new RegExp("^[a-z$_]+[0-9a-z$_]*(?:\\.[a-z$_]+[0-9a-z$_]*)*$","is"),At=(r,t,e,o=null,s=null)=>{s=Object.assign({return:!0},s);let[i,a]=J(r,t,o);e=e.trim();let n;if(!jt.test(e))n=null;else if(n=pe(i,e.split(".")),typeof n=="function")try{n=n(i)}catch(l){n=null}if(a(),s.return)return n};ae.callExpression=At;var Ct=ae;window.Doars=Ct;})();
//# sourceMappingURL=doars-call.iife.min.js.map
