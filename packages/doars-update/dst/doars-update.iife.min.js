var DoarsUpdate=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}var f=function(e){var t=e.getId(),r=e.getProxy(),n=e.getTime();return{name:"$update",create:function(e,o){var i=function(e,r){return o.accessed(t,r.join("."))};return r.addEventListener("get",i),{value:n,destroy:function(){r.removeEventListener("get",i)}}}}},d=function(e){e=Object.assign({defaultOrder:500},e);var t=[],r=[],n={name:"update",update:function(n,o,i){var a=i.processExpression;this._execute||(this._execute=a);var u=o.getId();if(!(t.indexOf(u)>=0)){var c=o.getModifiers().order;c||(c=e.defaultOrder);for(var l=0,s=0;s<r.length;s++)if(r[s].order>=c){l=s;break}r.splice(l,0,{attribute:o,component:n,order:c})}},destroy:function(e,n){var o=n.getId(),i=t.indexOf(o);if(!(i>=0)){t.splice(i,1);for(var a=0;a<r.length;a++)if(r[a].attribute===n){r.splice(a,1);break}}}};return[n,function(){var e,t=s(r);try{for(t.s();!(e=t.n()).done;){var o=e.value;n._execute(o.component,o.attribute.clone(),o.attribute.getValue(),{},{return:!1})}}catch(e){t.e(e)}finally{t.f()}}]},p=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],y=function(e,t){var r,n=!1,o={},i=s(p);try{var a=function(){var e=r.value;o[e]=function(){if(!n)return e in t?t[e].apply(t,arguments):Reflect[e].apply(Reflect,arguments);console.error("illegal operation attempted on a revoked proxy")}};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return{proxy:new Proxy(e,o),revoke:function(){n=!0}}},v=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(s,t);var a,c,l=(a=s,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=n(a);if(c){var r=n(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return i(this,e)});function s(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,s),t=l.call(this),r=Object.assign({delete:!0,get:!0,set:!0},r);var n=new WeakMap;return t.add=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(n.has(e))return n.get(e);for(var i in e)e[i]&&"object"==typeof e[i]&&(e[i]=t.add(e[i],[].concat(u(o),[i])));var a={};r.delete&&(a.deleteProperty=function(e,r){if(!Reflect.has(e,r))return!0;t.remove(e,r);var n=Reflect.deleteProperty(e,r);return n&&t.dispatchEvent("delete",[e,Array.isArray(e)?u(o):[].concat(u(o),[r])]),n}),r.get&&(a.get=function(e,r,n){return r!==Symbol.unscopables&&t.dispatchEvent("get",[e,[].concat(u(o),[r]),n]),Reflect.get(e,r,n)}),r.set&&(a.set=function(e,r,n,i){return e[r]===n||("object"==typeof n&&(n=t.add(n,[].concat(u(o),[r]))),e[r]=n,t.dispatchEvent("set",[e,Array.isArray(e)?u(o):[].concat(u(o),[r]),n,i])),!0});var c=y(e,a);return n.set(c,e),c.proxy},t.remove=function(e){if(n.has(e)){var r=n.get(e);for(var o in n.delete(r),r.proxy)"object"==typeof r.proxy[o]&&t.remove(r.proxy[o]);r.revoke()}},t}return r(s)}(r((function t(){e(this,t);var r={};this.addEventListener=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e in r||(r[e]=[]),r[e].push({callback:t,options:n})},this.removeEventListener=function(e,t){if(Object.keys(r).includes(e)){for(var n=r[e],o=-1,i=0;i<n.length;i++)if(n[i].callback===t){o=i;break}o<0||(n.splice(o,1),0===Object.keys(n).length&&delete r[e])}},this.removeEventListeners=function(e){e&&delete r[e]},this.removeAllEventListeners=function(){r={}},this.dispatchEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r[e])for(var o=r[e],i=0;i<o.length;i++){var a=n&&n.reverse?o[o.length-(i+1)]:o[i];a.options&&a.options.once&&o.splice(i,1),a.callback.apply(a,u(t))}}}))),b=r((function t(r,n){e(this,t),r=Object.assign({stepMinimum:0},r);var o,i=Symbol(),a=!1,u=new v({delete:!1,set:!1}),c=u.add({}),l=function e(t){if(a){if(o=window.requestAnimationFrame(e),!c.startMs)return c.currentMs=c.lastMs=c.startMs=t,c.current=c.last=c.start=t/1e3,void(c.delta=c.passed=c.deltaMs=c.passedMs=0);var i=t-c.lastMs;i<=r.stepMinimum||(c.lastMs=c.currentMs,c.last=c.current,c.currentMs=t,c.current=t/1e3,c.deltaMs=i,c.delta=i/1e3,c.passedMs+=i,c.passed=c.passedMs/1e3,n())}};this.isEnabled=function(){return a},this.getId=function(){return i},this.getProxy=function(){return u},this.getTime=function(){return c},this.enable=function(){a||(a=!0,o=window.requestAnimationFrame(l))},this.disable=function(){a&&(a=!1,o&&(cancelAnimationFrame(o),o=null))}}));return r((function t(r){var n,o,i,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e(this,t),u=Object.assign({},u),r.addEventListener("enabling",(function(){var e=a(d(u),2),t=e[0],c=e[1];o=t,r.addDirectives(-1,o),i=new b(u,(function(){c(),r.update([{id:i.getId(),path:"current"},{id:i.getId(),path:"delta"},{id:i.getId(),path:"last"},{id:i.getId(),path:"passed"}])})),n=f(i),r.addContexts(0,n),i.enable()})),r.addEventListener("disabling",(function(){r.removeContexts(n),r.removeDirectives(o),i.disable(),n=null,o=null,i=null}))}))}();
