(()=>{var s=(r,...n)=>{if(!n.length)return r;let t=n.shift();if(c(r)&&c(t))for(let e in t)c(t[e])?(r[e]||Object.assign(r,{[e]:{}}),s(r[e],t[e])):Array.isArray(t[e])?r[e]=t[e].map(a=>c(a)?s({},a):a):Object.assign(r,{[e]:t[e]});return s(r,...n)};var c=r=>r&&typeof r=="object"&&!Array.isArray(r);var l=(r,n)=>{let t;switch(String.prototype.toLowerCase.call(n)){default:console.warn('Unknown response type "'+n+'" used when using the $fetch context.');break;case"arraybuffer":t=r.arrayBuffer();break;case"blob":t=r.blob();break;case"formdata":t=r.formData();break;case"json":t=r.json();break;case"element":case"html":case"svg":case"text":case"xml":t=r.text();break}return t?t.then(e=>{switch(n){case"element":let a=document.createElement("template");a.innerHTML=e,e=a.content.childNodes[0];break;case"html":e=new DOMParser().parseFromString(e,"text/html");break;case"svg":e=new DOMParser().parseFromString(e,"image/svg+xml");break;case"xml":e=new DOMParser().parseFromString(e,"application/xml");break}return e}):null},i=r=>{switch(String.prototype.toLowerCase(r.headers.get("content-type"))){case"text/html":return"html";case"application/json":case"application/ld+json":case"application/vnd.api+json":return"json";case"image/svg+xml":return"svg";case"text/plain":return"text";case"application/xml":case"text/xml":return"xml"}return null};var p=({defaultInit:r})=>({name:"$fetch",create:()=>({value:(n,t=null)=>{r&&(t=s({},r,t));let e=t.returnType?t.returnType:null;return delete t.returnType,fetch(n,t).then(a=>(e==="auto"&&a.headers.get("content-type")&&(e=i(a)),e&&(a=l(a,e)),a))}})});var o=class{constructor(n,t=null){t=Object.assign({defaultInit:{}},t);let e=p(t);n.addEventListener("enabling",()=>{n.addContexts(0,e)}),n.addEventListener("disabling",()=>{n.removeContexts(e)})}};})();
//# sourceMappingURL=doars-fetch.iife.min.js.map
