(()=>{var M3=(z,K)=>{let G;switch(String.prototype.toLowerCase.call(K)){default:break;case"arraybuffer":G=z.arrayBuffer();break;case"blob":G=z.blob();break;case"formdata":G=z.formData();break;case"json":G=z.json();break;case"element":case"html-partial":case"html":case"svg":case"text":case"xml":G=z.text();break}if(!G)return null;return G.then((Q)=>{switch(K){case"element":case"html-partial":let W=document.createElement("template");W.innerHTML=Q,Q=W.content.childNodes[0];break;case"html":Q=new DOMParser().parseFromString(Q,"text/html");break;case"svg":Q=new DOMParser().parseFromString(Q,"image/svg+xml");break;case"xml":Q=new DOMParser().parseFromString(Q,"application/xml");break}return Q})},R3=(z,K=null)=>{let G=z.headers.get("Content-Type");if(G){G=String.prototype.toLowerCase.call(G).split(";")[0];let W=t(G.trim());if(W)return W}let Q=z.url.split(".");if(Q)switch(Q=Q[Q.length-1],Q){case"htm":case"html":return"html";case"json":return"json";case"svg":return"svg";case"txt":return"text";case"xml":return"xml"}if(K){let W=K.headers.Accept;if(W){W=String.prototype.toLowerCase.call(W).split(",");for(let Y of W){Y=Y.split(";")[0].trim();let Z=t(Y);if(Z)return Z}}}return null},t=(z)=>{switch(z){case"text/html":return"html";case"text/html-partial":return"html-partial";case"text/json":case"application/json":case"application/ld+json":case"application/vnd.api+json":return"json";case"image/svg+xml":return"svg";case"text/plain":return"text";case"application/xml":case"text/xml":return"xml"}},x=(z,K,G)=>new Promise((Q,W)=>{fetch(z,K).then((Y)=>{if(Y.status<200||Y.status>=500){W(Y);return}if(!G||G==="auto")G=R3(Y,K);let Z=M3(Y,G);if(!Z)throw Error("No valid response returned.");Z.then((J)=>{Y.value=J,Q(Y)})}).catch((Y)=>{W(Y)})});var y=(z,...K)=>{if(!K.length)return z;let G=K.shift();if(N(z)&&N(G))for(let Q in G)if(N(G[Q])){if(!z[Q])Object.assign(z,{[Q]:{}});y(z[Q],G[Q])}else if(Array.isArray(G[Q]))z[Q]=G[Q].map((W)=>{if(N(W))return y({},W);return W});else Object.assign(z,{[Q]:G[Q]});return y(z,...K)};var N=(z)=>{return z&&typeof z==="object"&&!Array.isArray(z)};var e=({fetchContextName:z,fetchOptions:K})=>({name:z,create:()=>{return{value:(G,Q=null)=>{if(K)Q=y({},K,Q);let W=Q.returnType?Q.returnType:null;return delete Q.returnType,x(G,Q,W).then((Y)=>{if(Y&&Y.value)return Y.value})}}}});var _=(z)=>{let K=z.substring(0,15).toLowerCase();if(K.startsWith("<!doctype html>")||K.startsWith("<html>")){let Q=document.createElement("html");return Q.innerHTML=z,Q}let G=document.createElement("template");return G.innerHTML=z,G.content.childNodes[0]},l=(z,K)=>{if(z.isSameNode&&z.isSameNode(K))return!0;if(z.type===3)return z.nodeValue===K.nodeValue;if(z.tagName===K.tagName)return!0;return!1},S=(z,K,G,Q)=>{let W=K.getLibrary().getOptions(),Y=G.getElement(),Z=G.getDirective(),J=W.prefix+"-"+Z+"-"+W.selectFromElementDirectiveName;if(!Y.hasAttribute(J))return z;let L=null;if(W.selectFromElementDirectiveEvaluate){if(L=Q(K,G,Y.getAttribute(J)),typeof L!=="string")return null}else L=Y.getAttribute(J);if(L){let D=typeof z==="string";if(D)z=_(z);if(z=z.querySelector(L),D&&z)return z.outerHTML}return z},o=(z,K)=>{let G=-1,Q=null;return()=>{if(G>=0&&Q){let Y=Q();if(Y)return Y}let W=null;do{if(G++,G>=z.childElementCount)return null;W=z.children[G]}while(!K(W));if(W.childElementCount)Q=o(W,K);return W}};var V3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},D3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;var z3=(z)=>{if(typeof z!=="string")return z;return z.replaceAll(D3,(K)=>{return V3[K]})};var g=(z)=>{if(typeof z==="string")z=z.split(/(?=\.)|(?=#)|(?=\[)/);if(!Array.isArray(z))return;let K={};for(let G of z)switch(G=G.trim(),G[0]){case"#":K.id=G.substring(1);break;case".":if(G=G.substring(1),!K.class)K.class=[];if(!K.class.includes(G))K.class.push(G);break;case"[":let[Q,W,Y]=G.match(/^(?:\[)?([-$_.a-z0-9]{1,})(?:[$*^])?(?:=)?([\s\S]{0,})(?:\])$/i);K[W]=Y;break}return K};var b=(z,K)=>{for(let G in K){if(G==="class"){for(let Q of K.class)z.classList.add(Q);continue}z.setAttribute(G,K[G])}},K3=(z,K)=>{let G=z.attributes,Q=K.attributes,W=null,Y=null,Z=null,J=null,L=null;for(let D=Q.length-1;D>=0;--D)if(L=Q[D],J=L.name,W=L.namespaceURI,Y=L.value,W){if(J=L.localName||J,Z=z.getAttributeNS(W,J),Z!==Y)z.setAttributeNS(W,J,Y)}else if(!z.hasAttribute(J))z.setAttribute(J,Y);else if(Z=z.getAttribute(J),Z!==Y)if(Y==="null"||Y==="undefined")z.removeAttribute(J);else z.setAttribute(J,Y);for(let D=G.length-1;D>=0;--D)if(L=G[D],L.specified!==!1){if(J=L.name,W=L.namespaceURI,W){if(J=L.localName||J,!K.hasAttributeNS(W,J))z.removeAttributeNS(W,J)}else if(!K.hasAttributeNS(null,J))z.removeAttribute(J)}},F=(z,K)=>{for(let G in K){if(G==="class"){for(let Q of K.class)z.classList.remove(Q);continue}if(K[G]&&z.attributes[G]!==K[G])continue;z.removeAttribute(G)}};var A3="-transition:",G3=(z,K,G,Q=null)=>{if(G.nodeType!==1){if(Q)Q();return}let W=K.prefix+A3+z,Y=(j)=>{G.dispatchEvent(new CustomEvent("transition-"+j)),G.dispatchEvent(new CustomEvent("transition-"+z+"-"+j))},Z,J,L,D,P=!1,B={};if(Z=W,J=G.getAttribute(Z),J)B.during=g(J),b(G,B.during);if(Z=W+".from",J=G.getAttribute(Z),J)B.from=g(J),b(G,B.from);return Y("start"),D=requestAnimationFrame(()=>{if(D=null,P)return;if(B.from)F(G,B.from),B.from=void 0;if(Z=W+".to",J=G.getAttribute(Z),J)B.to=g(J),b(G,B.to);else if(!B.during){if(Y("end"),Q)Q();P=!0;return}let j=getComputedStyle(G),$=Number(j.transitionDuration.replace(/,.*/,"").replace("s",""))*1000;if($===0)$=Number(j.animationDuration.replace("s",""))*1000;L=setTimeout(()=>{if(L=null,P)return;if(B.during)F(G,B.during),B.during=void 0;if(B.to)F(G,B.to),B.to=void 0;if(Y("end"),Q)Q();P=!0},$)}),()=>{if(!P)return;if(P=!0,B.during)F(G,B.during),B.during=void 0;if(B.from)F(G,B.from),B.from=void 0;else if(B.to)F(G,B.to),B.to=void 0;if(D)cancelAnimationFrame(D),D=null;else if(L)clearTimeout(L),L=null;if(Y("end"),Q)Q()}},J3=(z,K,G)=>{return G3("in",z,K,G)},Q3=(z,K,G)=>{return G3("out",z,K,G)};var c=(z,K)=>{if(!K.indicator)return;if(K.indicator.indicatorTransitionOut)return;if(!K.indicator.indicatorElement)return;let G=z.getLibrary().getOptions(),Q=K.indicator.indicatorElement;K.indicator.indicatorTransitionIn=Q3(G,Q,()=>{if(Q)Q.remove()})},W3=(z,K,G)=>{let Q=z.getLibrary().getOptions(),W=K.getElement(),Y=K.getDirective(),Z=Q.prefix+"-"+Y+"-"+Q.indicatorDirectiveName;if(!W.hasAttribute(Z))return;let J=null;if(Q.indicatorDirectiveEvaluate)J=G(z,K,W.getAttribute(Z));else J=W.getAttribute(Z);if(!J)return;if(typeof J==="string"){if(J=W.querySelector(J),!J)return}if(J.tagName!=="TEMPLATE")return;if(J.childCount>1)return;if(K.indicator){if(K.indicator.indicatorTransitionOut)K.indicator.indicatorTransitionOut(),K.indicator.indicatorTransitionOut=null;else if(K.indicator.indicatorElement)return}let L=document.importNode(J.content,!0).firstElementChild;J.insertAdjacentElement("afterend",L),K.indicator={indicatorElement:L,indicatorTransitionIn:J3(Q,L)}};var H3=(z,K)=>{let{nodeType:G,nodeName:Q}=K;if(G===1)K3(z,K);if(G===3||G===8){if(z.nodeValue!==K.nodeValue)z.nodeValue=K.nodeValue}if(Q==="INPUT")_3(z,K);else if(Q==="OPTION")s(z,K,"selected");else if(Q==="TEXTAREA")j3(z,K)},a=(z,K,G)=>{if(typeof z!=="object")throw Error("Existing tree should be an object.");if(typeof K==="string")K=_(K);else if(typeof K!=="object")throw Error("New tree should be an object.");if(G&&G.childrenOnly||K.nodeType===11)return Y3(z,K),z;return u(z,K)},_3=(z,K)=>{let G=K.value,Q=z.value;if(s(z,K,"checked"),s(z,K,"disabled"),z.indeterminate!==K.indeterminate)z.indeterminate=K.indeterminate;if(z.type==="file")return;if(Q!==G)z.setAttribute("value",G),z.value=G;if(G==="null")z.value="",z.removeAttribute("value");if(!K.hasAttributeNS(null,"value"))z.removeAttribute("value");else if(z.type==="range")z.value=G},j3=(z,K)=>{let G=K.value;if(z.value!==G)z.value=G;if(z.firstChild&&z.firstChild.nodeValue!==G)z.firstChild.nodeValue=G},s=(z,K,G)=>{if(z[G]!==K[G])if(z[G]=K[G],K[G])z.setAttribute(G,"");else z.removeAttribute(G)},u=(z,K)=>{if(!z)return K;if(!K)return null;if(z.isSameNode&&z.isSameNode(K))return z;if(z.tagName!==K.tagName)return K;return H3(z,K),Y3(z,K),z},Y3=(z,K)=>{let G,Q,W,Y,Z=0;for(let J=0;;J++)if(G=z.childNodes[J],Q=K.childNodes[J-Z],!G&&!Q)break;else if(!Q)z.removeChild(G),J--;else if(!G)z.append(Q),Z++;else if(l(G,Q)){if(W=u(G,Q),W!==G)z.replaceChild(W,G),Z++}else{Y=null;for(let L=J;L<z.childNodes.length;L++)if(l(z.childNodes[L],Q)){Y=z.childNodes[L];break}if(Y){if(W=u(Y,Q),W!==Y)Z++;z.insertBefore(W,G)}else if(!Q.id&&!G.id){if(W=u(G,Q),W!==G)z.replaceChild(W,G),Z++}else z.insertBefore(Q,G),Z++}};var c3=Function.prototype.toString.call(Function).replace("Function","Promise").replace(/\(.*\)/,"()");var Z3=(z)=>{return z&&Object.prototype.toString.call(z)==="[object Promise]"};var $3=(z)=>{if(z.tagName!=="SCRIPT"||z.hasAttribute("src"))return!1;let K=document.createElement("script");return K.innerText=z.innerText,z.parentNode.insertBefore(K,z),z.remove(),!0},O=(...z)=>{for(let K of z)if(!$3(K)){let G=o(K),Q=null;while(Q=G())$3(Q)}};var B3=(z)=>{let K=document.createElement("xml");return K.append(...z.map((Q,W)=>{let Y=document.createElement(W);return Y.textContent=Q,Y})),new XMLSerializer().serializeToString(K)};var X=Symbol("FETCH"),C={NONE:0,BUFFER:1,DEBOUNCE:2,THROTTLE:5,DELAY:6},L3=({fetchOptions:z,fetchDirectiveEvaluate:K,fetchDirectiveName:G,intersectionEvent:Q,loadedEvent:W},Y)=>({name:G,update:(Z,J,L)=>{let P=Z.getLibrary().getOptions(),B=J.getElement(),j=J.getDirective(),$=J.getModifiers(),T=J.getValue(),w=B.tagName==="FORM",X3=B.tagName==="BUTTON",q3=B.tagName==="INPUT"||B.tagName==="SELECT";if(J[X]){if(J[X].value===T)return;if(J[X].target.removeEventListener(J[X].eventName,J[X].handler),J[X].timeout)clearTimeout(J[X].timeout);delete J[X]}let P3=$.encoding?$.encoding.toLowerCase():null,r=$.method?$.method.toUpperCase():null,E=$.position?$.position.toLowerCase():null,f={};if($.capture)f.capture=!0;if($.once)f.once=!0;if($.passive&&!$.prevent)f.passive=!0;let v=C.NONE;if($.buffer){if(v=C.BUFFER,$.buffer===!0)$.buffer=5}else if($.debounce){if(v=C.DEBOUNCE,$.debounce===!0)$.debounce=500}else if($.throttle){if(v=C.THROTTLE,$.throttle===!0)$.throttle=500}else if($.delay){if(v=C.DELAY,$.delay===!0)$.delay=500}if($.poll===!0)$.poll=60000;let H="click";if($.on)H=$.on;else if(w)H="submit";else if(q3)H="change";else if($.poll)H=W;let U3={[P.prefix+"-"+P.requestHeaderName]:j,Vary:P.prefix+"-"+P.requestHeaderName},h=(M="",R={})=>{B.dispatchEvent(new CustomEvent(P.prefix+"-"+j+M,{detail:Object.assign({attribute:J,component:Z},R)}))},i=(M)=>{let R={headers:{}};if(r)R.method=r;else if(w&&B.hasAttribute("method"))R.method=B.getAttribute("method").toUpperCase();else R.method="GET";if(w){let A=new FormData(B),U=P3;if(!U&&B.hasAttribute("enctype"))U=B.getAttribute("enctype").toLowerCase();else U="urlencoded";if(R.method==="HEAD"||R.method==="GET")U="parameters";switch(U){case"json":R.headers["Content-Type"]="application/json; charset=UTF-8",R.body=JSON.stringify(Object.fromEntries(A));break;case"multipart":case"multipart/form-data":R.headers["Content-Type"]="multipart/form-data",R.body=A;break;case"parameters":M=new URL(M,window.location.href);let q=new URLSearchParams(A);for(let[k,V]of q)M.searchParams.set(k,V);M=M.toString();break;case"urlencoded":case"application/x-www-form-urlencoded":R.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",R.body=new URLSearchParams(A).toString();break;case"xml":R.headers["Content-Type"]="application/xml; charset=UTF-8",R.body=B3(A);break;default:break}}return h("-started",{url:M}),x(M,Object.assign({},z,R,{headers:Object.assign({},R.headers,U3)}),"text").then((A)=>{d=!1;let U=A.value;if($.decode)U=z3(U);let q=null;if($.document)q=document.documentElement;else{let V=P.prefix+"-"+j+"-"+P.targetDirectiveName;if(B.getAttribute(V)){if(P.targetDirectiveEvaluate)q=L(Z,J,B.getAttribute(V));else q=B.getAttribute(V);if(q&&typeof q==="string")q=B.querySelector(q)}if(!q)q=B}if(E==="append"){let V=S(_(U),Z,J,L);if(q.append(V),P.allowInlineScript||$.script)O(V)}else if(E==="prepend"){let V=S(_(U),Z,J,L);if(q.prepend(V),P.allowInlineScript||$.script)O(V)}else if(E==="after"){let V=S(_(U),Z,J,L);if(q.insertAdjacentElement("afterend",V),P.allowInlineScript||$.script)O(V)}else if(E==="before"){let V=S(_(U),Z,J,L);if(q.insertAdjacentElement("beforebegin",V),P.allowInlineScript||$.script)O(V)}else if(E==="outer"){if($.morph)a(q,S(_(U),Z,J,L));else if(q.outerHTML!==U){if(q.outerHTML=S(U,Z,J,L),P.allowInlineScript||$.script)O(q)}}else if($.morph){if(q.children.length===0)q.append(document.createElement("div"));else if(q.children.length>1)for(let m=q.children.length-1;m>=1;m--)q.children[m].remove();let V=a(q.children[0],S(_(U),Z,J,L));if(!q.children[0].isSameNode(V))q.children[0].remove(),q.append(V)}else if(q.innerHTML!==U){if(q.innerHTML=S(U,Z,J,L),P.allowInlineScript||$.script)O(...q.children)}if(P.redirectHeaderName&&A.headers.has(P.prefix+"-"+P.redirectHeaderName)){window.location.href=A.headers.get(P.prefix+"-"+P.redirectHeaderName);return}let k="";if(P.titleHeaderName&&A.headers.has(P.prefix+"-"+P.titleHeaderName))k=A.headers.get(P.prefix+"-"+P.titleHeaderName);if($.history)history.pushState({},k,M);if(k&&document.title!==k)document.title=k;c(Z,J),h("-succeeded",{url:M})}).catch(()=>{c(Z,J),h("-failed",{url:M})})},d=!1,I=(M)=>new Promise((R)=>{if($.self&&M&&M.target!==B){R();return}if(w&&!B.reportValidity()){h("-invalid"),R();return}if((w&&H==="submit"||X3&&B.getAttribute("type","button")&&H==="click"||$.prevent)&&M)M.preventDefault();if($.stop&&M)M.stopPropagation();let A=()=>{let U=null;if(T&&K)U=L(Z,J,T,{$event:M,$events:J[X].buffer});else if(w&&B.hasAttribute("action"))U=B.getAttribute("action");else U=window.location.href;if(J[X].buffer=[],!U){R();return}d=!0,W3(Z,J,L),(Z3(U)?U.then((q)=>i(q)):i(U)).finally(()=>R())};if(d){R();return}switch(J[X].buffer.push(M),v){case C.BUFFER:if(J[X].buffer.length<$.buffer){R();return}A();return;case C.DEBOUNCE:if(J[X].timeout)clearTimeout(J[X].timeout),J[X].timeout=null;J[X].timeout=setTimeout(A,$.debounce);return;case C.THROTTLE:let U=window.performance.now();if(J[X].lastExecution&&U-J[X].lastExecution<$.throttle){R();return}A(),J[X].lastExecution=U;return;case C.DELAY:J[X].timeout=setTimeout(A,$.delay);return}A()});if($.poll){let M=I;I=()=>{J[X].timeout=setTimeout(()=>{M(null).finally(()=>{if(J[X])I()})},$.poll)}}if(Q&&H===Q){let M=I;I=()=>{if(f.once)Y.remove(B,I);M()},Y.add(B,Y)}else if(H===W)I();else B.addEventListener(H,I,f);J[X]={buffer:[],eventName:H,handler:I,target:B,timeout:J[X]?J[X].timeout:void 0,value:T}},destroy:(Z,J)=>{if(!J[X])return;if(J[X].target.removeEventListener(J[X].eventName,J[X].handler),Q&&Y)Y.remove(J[X].target,J[X].handler);if(J[X].timeout)clearTimeout(J[X].timeout);c(Z,J),delete J[X]}});class p{constructor(z=null){let K=new WeakMap,G=(W)=>{for(let Y of W)for(let Z of K.get(Y.target))Z(Y)},Q=new window.IntersectionObserver(G,z);this.add=(W,Y)=>{if(!K.has(W))K.set(W,[]);K.get(W).push(Y),Q.observe(W)},this.remove=(W,Y)=>{if(!K.has(W))return;let Z=K.get(W),J=Z.indexOf(Y);if(J>=0)Z.splice(J,1);if(Z.length===0)K.delete(W),Q.unobserve(W)}}}function n(z,K=null){if(K=Object.assign({fetchContextName:"$fetch",fetchDirectiveEvaluate:!0,fetchDirectiveName:"fetch",fetchOptions:{},intersectionEvent:"intersect",intersectionRoot:null,intersectionMargin:"0px",intersectionThreshold:0,loadedEvent:"load"},K),K.defaultInit)Object.assign(K.fetchOptions,K.defaultInit);let G=!1,Q=K.intersectionEvent?new p({root:K.intersectionRoot?K.intersectionRoot:z.getOptions().root,rootMargin:K.intersectionMargin,threshold:K.intersectionThreshold}):null,W=e(K),Y=L3(K,Q),Z=()=>{z.addContexts(0,W),z.addDirectives(-1,Y)},J=()=>{z.removeContexts(W),z.removeDirective(Y)};this.disable=()=>{if(!z.getEnabled()&&G)G=!1,z.removeEventListener("enabling",Z),z.removeEventListener("disabling",J)},this.enable=()=>{if(!G)G=!0,z.addEventListener("enabling",Z),z.addEventListener("disabling",J)},this.enable()}window.DoarsFetch=n;})();

//# debugId=2CD4E8A58937731E64756E2164756E21
