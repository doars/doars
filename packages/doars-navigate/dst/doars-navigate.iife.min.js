(()=>{var D=(e,r)=>{let t;switch(String.prototype.toLowerCase.call(r)){default:break;case"arraybuffer":t=e.arrayBuffer();break;case"blob":t=e.blob();break;case"formdata":t=e.formData();break;case"json":t=e.json();break;case"element":case"html":case"svg":case"text":case"xml":t=e.text();break}return t?t.then(o=>{switch(r){case"element":let s=document.createElement("template");s.innerHTML=o,o=s.content.childNodes[0];break;case"html":o=new DOMParser().parseFromString(o,"text/html");break;case"svg":o=new DOMParser().parseFromString(o,"image/svg+xml");break;case"xml":o=new DOMParser().parseFromString(o,"application/xml");break}return o}):null},O=(e,r=null)=>{let t=e.headers.get("Content-Type");if(t){t=String.prototype.toLowerCase.call(t).split(";")[0];let s=z(t.trim());if(s)return s}let o=e.url.split(".");if(o)switch(o=o[o.length-1],o){case"htm":case"html":return"html";case"json":return"json";case"svg":return"svg";case"txt":return"text";case"xml":return"xml"}if(r){let s=r.headers.Accept;if(s){s=String.prototype.toLowerCase.call(s).split(",");for(let n of s){n=n.split(";")[0].trim();let a=z(n);if(a)return a}}}return null},z=e=>{switch(e){case"text/html":return"html";case"text/json":case"application/json":case"application/ld+json":case"application/vnd.api+json":return"json";case"image/svg+xml":return"svg";case"text/plain":return"text";case"application/xml":case"text/xml":return"xml"}};var B="Date",L="Cache-Control",ce=5*60*1e3,fe=["no-cache","must-revalidate","no-store"],G="doars",w=0,V=null,v={},K=e=>{if(!e.has(B)||!e.has(L))return!1;let r=new Date(e.get(B)),t=new Date;if(r>t)return!1;let o=e.get(L).split(","),s=0;for(let a of o)if(a.trim().startsWith("max-age=")&&(s=parseInt(a.split("=")[1].trim(),10)),a.trim().startsWith("s-maxage=")){s=parseInt(a.split("=")[1].trim(),10);break}return s<=0?!1:new Date(r.getTime()+s*1e3)>=t},I=(e,r,t)=>new Promise((o,s)=>{if(!r.method||String.prototype.toUpperCase.call(r.method)==="GET"){caches.open(G).then(n=>{n.match(e).then(a=>{if(a){if(K(a.headers)){t==="auto"&&(t=O(a,r)),t&&(a=D(a,t)),a.then(i=>{o({headers:a.headers,value:i})});return}n.delete(e)}if(Object.prototype.hasOwnProperty.call(v,e.location)){v[e.location].push({resolve:o,reject:s});return}else v[e.location]=[];fetch(e,r).then(i=>{if(i.status<200||i.status>=500){let c=v[e.location];delete v[e.location],s(i);for(let d of c)d.reject(i);return}let f=!0;if(i.headers.has(L)){let c=i.headers.get(L).split(","),d=0;for(let l of c){let b=l.trim();if(fe.indexOf(b)>=0){f=!1;break}if(b.startsWith("s-maxage=")&&(d=parseInt(b.split("=")[1].trim(),10),d<=0)){f=!1;break}if(b.startsWith("max-age=")&&d<=0&&(d=parseInt(b.split("=")[1].trim(),10),d<=0)){f=!1;break}}}f?n.put(e,i.clone()):n.delete(e),t==="auto"&&(t=O(i,r)),t&&(i=D(i,t)),i.then(c=>{let d={headers:i.headers,value:c},l=v[e.location];if(delete v[e.location],o(d),l)for(let b of l)b.resolve(d)}).catch(c=>{let d=v[e.location];if(delete v[e.location],s(c),d)for(let l of d)l.reject(c)})}).catch(i=>{let f=v[e.location];if(delete v[e.location],s(i),f)for(let c of f)c.reject(i)})}).catch(s)}).catch(s);return}fetch(e,r).then(n=>{if(n.status<200||n.status>=500){let a=v[e.location];delete v[e.location],s(n);for(let i of a)i.reject(n);return}t==="auto"&&(t=O(n,r)),t&&(n=D(n,t)),n.then(a=>{let i={headers:n.headers,value:a},f=v[e.location];if(delete v[e.location],o(i),f)for(let c of f)c.resolve(i)}).catch(a=>{let i=v[e.location];if(delete v[e.location],s(a),i)for(let f of i)f.reject(a)})}).catch(n=>{let a=v[e.location];if(delete v[e.location],s(n),a)for(let i of a)i.reject(n)})});var X=()=>{if(w>0){w++;return}V=setInterval(()=>{caches.open(G).then(e=>{e.keys().then(r=>{for(let t of r)e.match(t).then(o=>{K(o.headers)||e.delete(t)})})})},ce)},J=()=>{w--,w<=0&&V&&clearInterval(V)};var ue={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},de=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g;var Q=e=>typeof e!="string"?e:e.replaceAll(de,r=>ue[r]);var Y=e=>{let r=e.substring(0,15).toLowerCase();if(r.startsWith("<!doctype html>")||r.startsWith("<html>")){let s=document.createElement("html");return s.innerHTML=e,s}let o=document.createElement("template");return o.innerHTML=e,o.content.childNodes[0]},Z=(e,r)=>{e.nextSibling?e.parentNode.insertBefore(r,e.nextSibling):e.parentNode.appendChild(r)};var P=(e,r)=>e.isSameNode&&e.isSameNode(r)?!0:e.type===3?e.nodeValue===r.nodeValue:e.tagName===r.tagName,U=(e,r)=>{let t=-1,o=null;return()=>{if(t>=0&&o){let n=o();if(n)return n}let s=null;do{if(t++,t>=e.childElementCount)return null;s=e.children[t]}while(!r(s));return s.childElementCount&&(o=U(s,r)),s}};var H=e=>{if(typeof e=="string"&&(e=e.split(/(?=\.)|(?=#)|(?=\[)/)),!Array.isArray(e))return;let r={};for(let t of e)switch(t=t.trim(),t[0]){case"#":r.id=t.substring(1);break;case".":t=t.substring(1),r.class||(r.class=[]),r.class.includes(t)||r.class.push(t);break;case"[":let[o,s,n]=t.match(/^(?:\[)?([-$_.a-z0-9]{1,})(?:[$*^])?(?:=)?([\s\S]{0,})(?:\])$/i);r[s]=n;break}return r};var j=(e,r)=>{for(let t in r){if(t==="class"){for(let o of r.class)e.classList.add(o);continue}e.setAttribute(t,r[t])}},ee=(e,r)=>{let t=e.attributes,o=r.attributes,s=null,n=null,a=null,i=null,f=null;for(let c=o.length-1;c>=0;--c)f=o[c],i=f.name,s=f.namespaceURI,n=f.value,s?(i=f.localName||i,a=e.getAttributeNS(s,i),a!==n&&e.setAttributeNS(s,i,n)):e.hasAttribute(i)?(a=e.getAttribute(i),a!==n&&(n==="null"||n==="undefined"?e.removeAttribute(i):e.setAttribute(i,n))):e.setAttribute(i,n);for(let c=t.length-1;c>=0;--c)f=t[c],f.specified!==!1&&(i=f.name,s=f.namespaceURI,s?(i=f.localName||i,r.hasAttributeNS(s,i)||e.removeAttributeNS(s,i)):r.hasAttributeNS(null,i)||e.removeAttribute(i))},y=(e,r)=>{for(let t in r){if(t==="class"){for(let o of r.class)e.classList.remove(o);continue}r[t]&&e.attributes[t]!==r[t]||e.removeAttribute(t)}};var me="-transition:",te=(e,r,t,o=null)=>{if(t.nodeType!==1){o&&o();return}let s=r.prefix+me+e,n=b=>{t.dispatchEvent(new CustomEvent("transition-"+b)),t.dispatchEvent(new CustomEvent("transition-"+e+"-"+b))},a,i,f,c,d=!1,l={};return a=s,i=t.getAttribute(a),i&&(l.during=H(i),j(t,l.during)),a=s+".from",i=t.getAttribute(a),i&&(l.from=H(i),j(t,l.from)),n("start"),c=requestAnimationFrame(()=>{if(c=null,d)return;if(l.from&&(y(t,l.from),l.from=void 0),a=s+".to",i=t.getAttribute(a),i)l.to=H(i),j(t,l.to);else if(!l.during){n("end"),o&&o(),d=!0;return}let b=getComputedStyle(t),C=Number(b.transitionDuration.replace(/,.*/,"").replace("s",""))*1e3;C===0&&(C=Number(b.animationDuration.replace("s",""))*1e3),f=setTimeout(()=>{f=null,!d&&(l.during&&(y(t,l.during),l.during=void 0),l.to&&(y(t,l.to),l.to=void 0),n("end"),o&&o(),d=!0)},C)}),()=>{d&&(d=!0,l.during&&(y(t,l.during),l.during=void 0),l.from?(y(t,l.from),l.from=void 0):l.to&&(y(t,l.to),l.to=void 0),c?(cancelAnimationFrame(c),c=null):f&&(clearTimeout(f),f=null),n("end"),o&&o())}},re=(e,r,t)=>te("in",e,r,t),ie=(e,r,t)=>te("out",e,r,t);var N=(e,r)=>{if(!r.indicator||r.indicator.indicatorTransitionOut||!r.indicator.indicatorElement)return;let t=e.getLibrary().getOptions(),o=r.indicator.indicatorElement;r.indicator.indicatorTransitionIn=ie(t,o,()=>{o&&o.remove()})},ne=(e,r,t)=>{let o=e.getLibrary().getOptions(),s=r.getElement(),n=r.getDirective(),a=o.prefix+"-"+n+"-"+o.indicatorDirectiveName;if(!s.hasAttribute(a))return;let i=null;if(o.indicatorDirectiveEvaluate?i=t(e,r,s.getAttribute(a)):i=s.getAttribute(a),!i||typeof i=="string"&&(i=s.querySelector(i),!i)||i.tagName!=="TEMPLATE"||i.childCount>1)return;if(r.indicator){if(r.indicator.indicatorTransitionOut)r.indicator.indicatorTransitionOut(),r.indicator.indicatorTransitionOut=null;else if(r.indicator.indicatorElement)return}let f=document.importNode(i.content,!0);Z(i,f),f=i.nextElementSibling,r.indicator={indicatorElement:f,indicatorTransitionIn:re(o,f)}};var oe=e=>{if(e.tagName!=="SCRIPT"||e.hasAttribute("src"))return!1;let r=document.createElement("script");return r.innerText=e.innerText,e.parentNode.insertBefore(r,e),e.remove(),!0},R=(...e)=>{for(let r of e)if(!oe(r)){let t=U(r),o=null;for(;o=t();)oe(o)}};var he=(e,r)=>{let t=r.nodeType,o=r.nodeName;t===1&&ee(e,r),(t===3||t===8)&&e.nodeValue!==r.nodeValue&&(e.nodeValue=r.nodeValue),o==="INPUT"?pe(e,r):o==="OPTION"?F(e,r,"selected"):o==="TEXTAREA"&&ve(e,r)},$=(e,r,t)=>{if(typeof e!="object")throw new Error("Existing tree should be an object.");if(typeof r=="string")r=Y(r);else if(typeof r!="object")throw new Error("New tree should be an object.");return t&&t.childrenOnly||r.nodeType===11?(se(e,r),e):T(e,r)},pe=(e,r)=>{let t=r.value,o=e.value;F(e,r,"checked"),F(e,r,"disabled"),e.indeterminate!==r.indeterminate&&(e.indeterminate=r.indeterminate),e.type!=="file"&&(o!==t&&(e.setAttribute("value",t),e.value=t),t==="null"&&(e.value="",e.removeAttribute("value")),r.hasAttributeNS(null,"value")?e.type==="range"&&(e.value=t):e.removeAttribute("value"))},ve=(e,r)=>{let t=r.value;e.value!==t&&(e.value=t),e.firstChild&&e.firstChild.nodeValue!==t&&(e.firstChild.nodeValue=t)},F=(e,r,t)=>{e[t]!==r[t]&&(e[t]=r[t],r[t]?e.setAttribute(t,""):e.removeAttribute(t))},T=(e,r)=>e?r?e.isSameNode&&e.isSameNode(r)?e:e.tagName!==r.tagName?r:(he(e,r),se(e,r),e):null:r,se=(e,r)=>{let t,o,s,n,a=0;for(let i=0;t=e.childNodes[i],o=r.childNodes[i-a],!(!t&&!o);i++)if(!o)e.removeChild(t),i--;else if(!t)e.appendChild(o),a++;else if(P(t,o))s=T(t,o),s!==t&&(e.replaceChild(s,t),a++);else{n=null;for(let f=i;f<e.childNodes.length;f++)if(P(e.childNodes[f],o)){n=e.childNodes[f];break}n?(s=T(n,o),s!==n&&a++,e.insertBefore(s,t)):!o.id&&!t.id?(s=T(t,o),s!==t&&(e.replaceChild(s,t),a++)):(e.insertBefore(o,t),a++)}};var h=Symbol("NAVIGATE"),ae=({fetchOptions:e,intersectionMargin:r,intersectionThreshold:t,navigateDirectiveName:o})=>({name:o,update:(s,n,a)=>{let i=n.getElement();if(i[h])return;X();let c=s.getLibrary().getOptions(),d=n.getDirective(),l=n.getModifiers(),b={};l.capture&&(b.capture=!0);let C={[c.prefix+"-"+c.requestHeaderName]:d,Vary:c.prefix+"-"+c.requestHeaderName},S=(m="",A={})=>{i.dispatchEvent(new CustomEvent(c.prefix+"-"+d+m,{detail:Object.assign({attribute:n,component:s},A)}))},W=m=>{n[h].url=m;let A=new Date().toISOString();n[h].identifier=A,ne(s,n,a),S("-started",{url:m}),I(m,Object.assign({},e,{headers:Object.assign({},e.headers,C)})).then(E=>{if(!n[h].identifier||n[h].identifier!==A)return;if(!E){N(s,n),delete n[h].url,delete n[h].identifier;return}let p=E.value;l.decode&&(p=Q(E.value));let u=null;if(l.document)u=document.documentElement;else{let x=c.prefix+"-"+d+"-"+c.targetDirectiveName;i.getAttribute(x)&&(c.targetDirectiveEvaluate?u=a(s,n,i.getAttribute(x)):u=i.getAttribute(x),u&&typeof u=="string"&&(u=i.querySelector(u))),u||(u=i)}if(l.morph)if(l.outer)$(u,p);else{if(u.children.length===0)u.appendChild(document.createElement("div"));else if(u.children.length>1)for(let k=u.children.length-1;k>=1;k--)u.children[k].remove();let x=$(u.children[0],p);u.children[0].isSameNode(x)||(u.children[0].remove(),u.appendChild(x))}else l.outer?u.outerHTML!==p&&(u.outerHTML=p,(c.allowInlineScript||l.script)&&R(u)):u.innerHTML!==p&&(u.innerHTML=p,(c.allowInlineScript||l.script)&&R(...u.children));if(c.redirectHeaderName&&E.headers.has(c.prefix+"-"+c.titleHeaderName)){window.location.href=E.headers.get(c.prefix+"-"+c.titleHeaderName);return}let g="";c.titleHeaderName&&E.headers.has(c.prefix+"-"+c.titleHeaderName)&&(g=E.headers.get(c.prefix+"-"+c.titleHeaderName)),l.document&&l.history&&history.pushState({},g,m),g&&document.title!==g&&(document.title=g),N(s,n),delete n[h].url,delete n[h].identifier,S("-succeeded",{url:m})}).catch(()=>S("-failed",{url:m}))},q=m=>{let A=m.target.closest("a");if(!A||!A.hasAttribute("href"))return;let E=A.getAttribute("href"),p=new URL(E,window.location);window.location.hostname===p.hostname&&(n[h].url&&n[h].url.href===p.href||(m.preventDefault(),l.stop&&m.stopPropagation(),W(p)))};i.addEventListener("click",q,b);let _;l.document&&l.history&&(_=m=>{let A=new URL(m.target.location);n[h].url&&n[h].url.href===A.href||W(A)},window.addEventListener("popstate",_,{passive:!0}));let M;if(l.preload==="interact"){let m=A=>{let E=A.target.closest("a");if(!E||!E.hasAttribute("href"))return;let p=new URL(E.getAttribute("href"),window.location);S("-started",{url:p}),I(p,Object.assign({},e,{headers:Object.assign({},e.headers,C)}))};i.addEventListener("focusin",m,Object.assign({passive:!0},b)),i.addEventListener("pointerenter",m,Object.assign({passive:!0},b)),M=()=>{i.removeEventListener("focusin",n[h].preloadHandler),i.removeEventListener("pointerenter",n[h].preloadHandler)}}else if(l.preload==="intersect"){let m=new IntersectionObserver(p=>{for(let u of p)if(u.isIntersecting){let g=new URL(u.target.getAttribute("href"),window.location);S("-started",{url:g}),I(g,Object.assign({},e,{headers:Object.assign({},e.headers,C)}))}},{root:null,rootMargin:r,threshold:t}),A=new MutationObserver(p=>{for(let u of p)if(u.type==="attributes")u.attributeName==="href"&&u.target instanceof HTMLElement&&u.target.tagName==="A"&&(u.target.hasAttribute("href")?m.observe(u.target):m.unobserve(u.target));else if(u.type==="childList"){for(let g of u.addedNodes)g instanceof HTMLElement&&g.tagName==="A"&&g.hasAttribute("href")&&m.observe(g);for(let g of u.removedNodes)g instanceof HTMLElement&&g.tagName==="A"&&g.hasAttribute("href")&&m.unobserve(g)}});M=()=>{A.disconnect(),m.disconnect()};let E=i.querySelectorAll("a[href]");for(let p of E)m.observe(p);A.observe(i,{attributes:!0,childList:!0,subtree:!0})}n[h]={element:i,historyHandler:_,loadHandler:q,destroyPreloader:M}},destroy:(s,n)=>{n[h]&&(J(),n[h].element.removeEventListener("click",n[h].loadHandler),n[h].historyHandler&&window.removeEventListener("popstate",n[h].historyHandler),n[h].destroyPreloader&&n[h].destroyPreloader(),N(s,n),delete n[h])}});var be=function(e,r=null){r=Object.assign({fetchOptions:{},intersectionMargin:"0px",intersectionThreshold:0,navigateDirectiveName:"navigate"},r);let t=!1,o=ae(r),s=()=>{e.addDirectives(-1,o)},n=()=>{e.removeDirective(o)};this.disable=()=>{!e.getEnabled()&&t&&(t=!1,e.removeEventListener("enabling",s),e.removeEventListener("disabling",n))},this.enable=()=>{t||(t=!0,e.addEventListener("enabling",s),e.addEventListener("disabling",n))},this.enable()},le=be;window.DoarsNavigate=le;})();
//# sourceMappingURL=doars-navigate.iife.min.js.map
