(()=>{var g=(B,...J)=>{if(!J.length)return B;let z=J.shift();if(h(B)&&h(z))for(let Q in z)if(h(z[Q])){if(!B[Q])Object.assign(B,{[Q]:{}});g(B[Q],z[Q])}else if(Array.isArray(z[Q]))B[Q]=z[Q].map((Z)=>{if(h(Z))return g({},Z);return Z});else Object.assign(B,{[Q]:z[Q]});return g(B,...J)};var h=(B)=>{return B&&typeof B==="object"&&!Array.isArray(B)};var Bz=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],s=(B,J)=>{let z=!1,Q={};for(let Z of Bz)Q[Z]=(...$)=>{if(z)return;if(Z in J)return J[Z](...$);return Reflect[Z](...$)};return{proxy:new Proxy(B,Q),revoke:()=>{z=!0}}};var V=Symbol("ROUTER");function Jz(B){var J=[],z=0;while(z<B.length){var Q=B[z];if(Q==="*"||Q==="+"||Q==="?"){J.push({type:"MODIFIER",index:z,value:B[z++]});continue}if(Q==="\\"){J.push({type:"ESCAPED_CHAR",index:z++,value:B[z++]});continue}if(Q==="{"){J.push({type:"OPEN",index:z,value:B[z++]});continue}if(Q==="}"){J.push({type:"CLOSE",index:z,value:B[z++]});continue}if(Q===":"){var Z="",$=z+1;while($<B.length){var Y=B.charCodeAt($);if(Y>=48&&Y<=57||Y>=65&&Y<=90||Y>=97&&Y<=122||Y===95){Z+=B[$++];continue}break}if(!Z)throw TypeError("Missing parameter name at ".concat(z));J.push({type:"NAME",index:z,value:Z}),z=$;continue}if(Q==="("){var G=1,W="",$=z+1;if(B[$]==="?")throw TypeError('Pattern cannot start with "?" at '.concat($));while($<B.length){if(B[$]==="\\"){W+=B[$++]+B[$++];continue}if(B[$]===")"){if(G--,G===0){$++;break}}else if(B[$]==="("){if(G++,B[$+1]!=="?")throw TypeError("Capturing groups are not allowed at ".concat($))}W+=B[$++]}if(G)throw TypeError("Unbalanced pattern at ".concat(z));if(!W)throw TypeError("Missing pattern at ".concat(z));J.push({type:"PATTERN",index:z,value:W}),z=$;continue}J.push({type:"CHAR",index:z,value:B[z++]})}return J.push({type:"END",index:z,value:""}),J}function Qz(B,J){if(J===void 0)J={};var z=Jz(B),Q=J.prefixes,Z=Q===void 0?"./":Q,$=J.delimiter,Y=$===void 0?"/#?":$,G=[],W=0,H=0,q="",X=function(P){if(H<z.length&&z[H].type===P)return z[H++].value},w=function(P){var M=X(P);if(M!==void 0)return M;var S=z[H],b=S.type,zz=S.index;throw TypeError("Unexpected ".concat(b," at ").concat(zz,", expected ").concat(P))},A=function(){var P="",M;while(M=X("CHAR")||X("ESCAPED_CHAR"))P+=M;return P},d=function(P){for(var M=0,S=Y;M<S.length;M++){var b=S[M];if(P.indexOf(b)>-1)return!0}return!1},T=function(P){var M=G[G.length-1],S=P||(M&&typeof M==="string"?M:"");if(M&&!S)throw TypeError('Must have text between two parameters, missing text after "'.concat(M.name,'"'));if(!S||d(S))return"[^".concat(D(Y),"]+?");return"(?:(?!".concat(D(S),")[^").concat(D(Y),"])+?")};while(H<z.length){var N=X("CHAR"),F=X("NAME"),f=X("PATTERN");if(F||f){var I=N||"";if(Z.indexOf(I)===-1)q+=I,I="";if(q)G.push(q),q="";G.push({name:F||W++,prefix:I,suffix:"",pattern:f||T(I),modifier:X("MODIFIER")||""});continue}var K=N||X("ESCAPED_CHAR");if(K){q+=K;continue}if(q)G.push(q),q="";var E=X("OPEN");if(E){var I=A(),C=X("NAME")||"",R=X("PATTERN")||"",_=A();w("CLOSE"),G.push({name:C||(R?W++:""),pattern:C&&!R?T(I):R,prefix:I,suffix:_,modifier:X("MODIFIER")||""});continue}w("END")}return G}function D(B){return B.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function i(B){return B&&B.sensitive?"":"i"}function Zz(B,J){if(!J)return B;var z=/\((?:\?<(.*?)>)?(?!\?)/g,Q=0,Z=z.exec(B.source);while(Z)J.push({name:Z[1]||Q++,prefix:"",suffix:"",modifier:"",pattern:""}),Z=z.exec(B.source);return B}function $z(B,J,z){var Q=B.map(function(Z){return c(Z,J,z).source});return new RegExp("(?:".concat(Q.join("|"),")"),i(z))}function Gz(B,J,z){return Xz(Qz(B,z),J,z)}function Xz(B,J,z){if(z===void 0)z={};var Q=z.strict,Z=Q===void 0?!1:Q,$=z.start,Y=$===void 0?!0:$,G=z.end,W=G===void 0?!0:G,H=z.encode,q=H===void 0?function(M){return M}:H,X=z.delimiter,w=X===void 0?"/#?":X,A=z.endsWith,d=A===void 0?"":A,T="[".concat(D(d),"]|$"),N="[".concat(D(w),"]"),F=Y?"^":"";for(var f=0,I=B;f<I.length;f++){var K=I[f];if(typeof K==="string")F+=D(q(K));else{var E=D(q(K.prefix)),C=D(q(K.suffix));if(K.pattern){if(J)J.push(K);if(E||C)if(K.modifier==="+"||K.modifier==="*"){var R=K.modifier==="*"?"?":"";F+="(?:".concat(E,"((?:").concat(K.pattern,")(?:").concat(C).concat(E,"(?:").concat(K.pattern,"))*)").concat(C,")").concat(R)}else F+="(?:".concat(E,"(").concat(K.pattern,")").concat(C,")").concat(K.modifier);else{if(K.modifier==="+"||K.modifier==="*")throw TypeError('Can not repeat "'.concat(K.name,'" without a prefix and suffix'));F+="(".concat(K.pattern,")").concat(K.modifier)}}else F+="(?:".concat(E).concat(C,")").concat(K.modifier)}}if(W){if(!Z)F+="".concat(N,"?");F+=!z.endsWith?"$":"(?=".concat(T,")")}else{var _=B[B.length-1],P=typeof _==="string"?N.indexOf(_[_.length-1])>-1:_===void 0;if(!Z)F+="(?:".concat(N,"(?=").concat(T,"))?");if(!P)F+="(?=".concat(N,"|").concat(T,")")}return new RegExp(F,i(z))}function c(B,J,z){if(B instanceof RegExp)return Zz(B,J);if(Array.isArray(B))return $z(B,J,z);return Gz(B,J,z)}class y{constructor(){let B={};this.addEventListener=(J,z,Q=null)=>{if(!(J in B))B[J]=[];B[J].push({callback:z,options:Q})},this.removeEventListener=(J,z)=>{if(!Object.keys(B).includes(J))return;let Q=B[J],Z=-1;for(let $=0;$<Q.length;$++)if(Q[$].callback===z){Z=$;break}if(Z<0)return;if(Q.splice(Z,1),Object.keys(Q).length===0)delete B[J]},this.removeEventListeners=(J)=>{if(!J)return;delete B[J]},this.removeAllEventListeners=()=>{B={}},this.dispatchEvent=(J,z,Q=null)=>{if(!B[J])return;let Z=B[J];for(let $=0;$<Z.length;$++){let Y=Q&&Q.reverse?Z[Z.length-($+1)]:Z[$];if(Y.options&&Y.options.once)Z.splice($,1);Y.callback(...z)}}}}class x extends y{constructor(B={}){super();let J=Symbol("ID_ROUTER");B=Object.assign({basePath:"",path:null,pathToRegexp:{},updateHistory:!1},B);let z=B.path,Q=null,Z={},$=()=>{this.setPath(window.location.pathname)};if(B.updateHistory)window.addEventListener("popstate",$);let Y=(G,W,H)=>{if(z=W,Q=H,B.updateHistory){let q=G.includes(B.basePath)?G:B.basePath+G;if(q!==window.location.pathname)window.history.pushState(null,window.document.title,q)}this.dispatchEvent("changed",[this,Q,z])};this.getId=()=>{return J},this.getPath=()=>{return z},this.getRoute=()=>{return Q},this.getRoutes=()=>{return Object.keys(Z)},this.destroy=()=>{if(B.updateHistory)window.removeEventListener("popstate",$);B=null,z=null,Q=null,Z=null,this.dispatchEvent("destroyed",[this]),this.removeAllEventListeners()},this.addRoute=(G)=>{if(Z[G]=c(G,[],B.pathToRegexp),this.dispatchEvent("added",[this,G]),z){let W=z.replace(B.basePath,"");if(Z[G].test(W))Y(z,W,G)}},this.removeRoute=(G)=>{if(delete Z[G],this.dispatchEvent("removed",[this,G]),Q===G)z=null,Q=null,this.dispatchEvent("changed",[this,Q,z])},this.setPath=(G)=>{let W=G.replace(B.basePath,"");if(z===W)return;let H=null;for(let q in Z)if(Z[q].test(W)){H=q;break}Y(G,W,H)}}}var n=(B)=>{if(B.parentElement){if(B=B.parentElement,B[V])return B[V];return n(B)}},O=n;var o=({routerContextName:B})=>({name:B,create:(J,z)=>{let Q=z.getElement(),Z=null,$=s({},{get:(Y,G,W)=>{if(Z===null){if(Q[V])Z=Q[V];else Z=O(Q);if(!Z)Z=!1}if(z.accessed(Z.getId(),""),!Z)return;return Reflect.get(Z,G,W)}});return{value:$.proxy,destroy:()=>{$.revoke()}}}});var v=(B)=>{if(typeof B==="string")B=B.split(/(?=\.)|(?=#)|(?=\[)/);if(!Array.isArray(B))return;let J={};for(let z of B)switch(z=z.trim(),z[0]){case"#":J.id=z.substring(1);break;case".":if(z=z.substring(1),!J.class)J.class=[];if(!J.class.includes(z))J.class.push(z);break;case"[":let[Q,Z,$]=z.match(/^(?:\[)?([-$_.a-z0-9]{1,})(?:[$*^])?(?:=)?([\s\S]{0,})(?:\])$/i);J[Z]=$;break}return J};var k=(B,J)=>{for(let z in J){if(z==="class"){for(let Q of J.class)B.classList.add(Q);continue}B.setAttribute(z,J[z])}};var j=(B,J)=>{for(let z in J){if(z==="class"){for(let Q of J.class)B.classList.remove(Q);continue}if(J[z]&&B.attributes[z]!==J[z])continue;B.removeAttribute(z)}};var Yz="-transition:",r=(B,J,z,Q=null)=>{if(z.nodeType!==1){if(Q)Q();return}let Z=J.prefix+Yz+B,$=(w)=>{z.dispatchEvent(new CustomEvent("transition-"+w)),z.dispatchEvent(new CustomEvent("transition-"+B+"-"+w))},Y,G,W,H,q=!1,X={};if(Y=Z,G=z.getAttribute(Y),G)X.during=v(G),k(z,X.during);if(Y=Z+".from",G=z.getAttribute(Y),G)X.from=v(G),k(z,X.from);return $("start"),H=requestAnimationFrame(()=>{if(H=null,q)return;if(X.from)j(z,X.from),X.from=void 0;if(Y=Z+".to",G=z.getAttribute(Y),G)X.to=v(G),k(z,X.to);else if(!X.during){if($("end"),Q)Q();q=!0;return}let w=getComputedStyle(z),A=Number(w.transitionDuration.replace(/,.*/,"").replace("s",""))*1000;if(A===0)A=Number(w.animationDuration.replace("s",""))*1000;W=setTimeout(()=>{if(W=null,q)return;if(X.during)j(z,X.during),X.during=void 0;if(X.to)j(z,X.to),X.to=void 0;if($("end"),Q)Q();q=!0},A)}),()=>{if(!q)return;if(q=!0,X.during)j(z,X.during),X.during=void 0;if(X.from)j(z,X.from),X.from=void 0;else if(X.to)j(z,X.to),X.to=void 0;if(H)cancelAnimationFrame(H),H=null;else if(W)clearTimeout(W),W=null;if($("end"),Q)Q()}},m=(B,J,z)=>{return r("in",B,J,z)},p=(B,J,z)=>{return r("out",B,J,z)};var L=Symbol("ROUTE"),a=({routeDirectiveName:B})=>({name:B,update:(J,z)=>{let Q=J.getLibrary().getOptions(),Z=z.getElement(),$,Y=()=>{if($&&z[L])$.removeEventListener("changed",z[L].handler),$.removeEventListener("destroyed",z[L].setup),delete z[L];if($=O(Z),!$)return;z[L]={setup:Y};let G=z.getValue();$.addRoute(G);let W=(H,q)=>{if(q!==G)if(Z.tagName==="TEMPLATE"){if(z[L]&&z[L].element){let X=z[L].element;p(Q,X,()=>{X.remove(),z[L].element=void 0})}}else p(Q,Z,()=>{Z.style.display="none"});else if(Z.tagName==="TEMPLATE"){let X=document.importNode(Z.content,!0).firstElementChild;Z.insertAdjacentElement("afterend",X),z[L].element=Z,m(Q,z[L].element)}else Z.style.display=null,m(Q,Z)};z[L].handler=W,$.addEventListener("changed",W),W($,$.getRoute()),$.addEventListener("destroyed",Y)};Y()},destroy:(J,z,{transitionOut:Q})=>{let Z=J.getLibrary().getOptions(),$=z.getElement();if($.tagName==="TEMPLATE"){if(z[L]&&z[L].element){let G=z[L].element;Q(Z,G,()=>{G.remove(),z[L].element=void 0})}}else Q(Z,$,()=>{$.style.display="none"});let Y=O($);if(!Y)return;if(z[L]){if(Y.removeEventListener("destroyed",z[L].setup),z[L].handler)Y.removeEventListener("change",z[L].handler)}}});var t=(B)=>({name:B.routerDirectiveName,update:(J,z,Q)=>{let Z=z.getElement(),$=Z[V];if(!$)$=Z[V]=new x(Object.assign({},B,Q(J,z,z.getValue())))},destroy:(J,z)=>{let Q=z.getElement(),Z=Q[V];if(!Z)return;delete Q[V];let $=Z.getId();Z.destroy(),J.getLibrary().update([{id:$,path:""}])}});var U=Symbol("ROUTE_TO"),l="click",e=({routeToDirectiveName:B})=>({name:B,update:(J,z)=>{let Q=z.getElement(),Z=z.getModifiers(),$=z.getValue();if(z[U]){if(z[U].value===$)return;z[U].target.removeEventListener(l,z[U].handler)}let Y=(G)=>{if(Z.self&&G.target!==Q)return;if(Z.prevent)G.preventDefault();if(Z.stop)G.stopPropagation();let W=O(Q);if(!W)return;W.setPath($)};Q.addEventListener(l,Y),z[U]={handler:Y,value:$}},destroy:(J,z)=>{if(!z[U])return;z.getElement().removeEventListener(l,z[U].handler),delete z[U]}});function u(B,J=null){J=g({basePath:"",path:"",pathToRegexp:{},updateHistory:!1,routerContextName:"$router",routeDirectiveName:"route",routerDirectiveName:"router",routeToDirectiveName:"route-to"},J);let z=!1,Q=o(J),Z=a(J),$=t(J),Y=e(J),G=()=>{B.addContexts(0,Q),B.addDirectives(-1,Z,$,Y)},W=()=>{B.removeContexts(Q),B.removeDirectives(Z,$,Y)};this.disable=()=>{if(!B.getEnabled()&&z)z=!1,B.removeEventListener("enabling",G),B.removeEventListener("disabling",W)},this.enable=()=>{if(!z)z=!0,B.addEventListener("enabling",G),B.addEventListener("disabling",W)},this.enable()}window.DoarsRouter=u;})();

//# debugId=806F86603368B05164756E2164756E21
