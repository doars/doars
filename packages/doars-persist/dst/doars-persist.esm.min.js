var R=["apply","construct","defineProperty","deleteProperty","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],G=(B,z)=>{let O=!1,J={};for(let K of R)J[K]=(...U)=>{if(O)return;if(K in z)return z[K](...U);return Reflect[K](...U)};return{proxy:new Proxy(B,J),revoke:()=>{O=!0}}};class H{constructor(){let B={};this.addEventListener=(z,O,J=null)=>{if(!(z in B))B[z]=[];B[z].push({callback:O,options:J})},this.removeEventListener=(z,O)=>{if(!Object.keys(B).includes(z))return;let J=B[z],K=-1;for(let U=0;U<J.length;U++)if(J[U].callback===O){K=U;break}if(K<0)return;if(J.splice(K,1),Object.keys(J).length===0)delete B[z]},this.removeEventListeners=(z)=>{if(!z)return;delete B[z]},this.removeAllEventListeners=()=>{B={}},this.dispatchEvent=(z,O,J=null)=>{if(!B[z])return;let K=B[z];for(let U=0;U<K.length;U++){let Q=J&&J.reverse?K[K.length-(U+1)]:K[U];if(Q.options&&Q.options.once)K.splice(U,1);Q.callback(...O)}}}}class $ extends H{constructor(B={}){super();B=Object.assign({delete:!0,get:!0,set:!0},B);let z=new WeakMap;this.add=(O,J=[])=>{if(z.has(O))return z.get(O);for(let Q in O)if(O[Q]&&typeof O[Q]==="object")O[Q]=this.add(O[Q],[...J,Q]);let K={};if(B.delete)K.deleteProperty=(Q,V)=>{if(!Reflect.has(Q,V))return!0;this.remove(Q,V);let Z=Reflect.deleteProperty(Q,V);if(Z)this.dispatchEvent("delete",[Q,Array.isArray(Q)?[...J]:[...J,V]]);return Z};if(B.get)K.get=(Q,V,Z)=>{if(V!==Symbol.unscopables)this.dispatchEvent("get",[Q,[...J,V],Z]);return Reflect.get(Q,V,Z)};if(B.set)K.set=(Q,V,Z,q)=>{if(Q[V]===Z)return!0;if(Z&&typeof Z==="object")Z=this.add(Z,[...J,V]);return Q[V]=Z,this.dispatchEvent("set",[Q,Array.isArray(Q)?[...J]:[...J,V],Z,q]),!0};let U=G(O,K);return z.set(U,O),U.proxy},this.remove=(O)=>{if(!z.has(O))return;let J=z.get(O);z.delete(J);for(let K in J.proxy)if(typeof J.proxy[K]==="object")this.remove(J.proxy[K]);J.revoke()}}}var W=(B,z,O,J)=>{return(K,U,Q)=>{let V=(L,F)=>Q(z,B+"."+F.join(".")),Z=(L,F)=>U.accessed(z,B+"."+F.join(".")),q=(L,F)=>Q(z,B+"."+F.join("."));J.addEventListener("delete",V),J.addEventListener("get",Z),J.addEventListener("set",q);let T=G(O,{});return{value:T.proxy,destroy:()=>{J.removeEventListener("delete",V),J.removeEventListener("get",Z),J.removeEventListener("set",q),T.revoke()}}}};var X=(B,z,O,J,K)=>({deconstruct:K,name:B,create:W(B,z,O,J)});var Y=null,M=()=>{if(Y===null)Y=Object.fromEntries(document.cookie.split(/; */).map((B)=>{let[z,...O]=B.split("=");return[z,decodeURIComponent(O.join("="))]}));return Y},I=(B,z="",O=60)=>{if(B=B.trim(),!z||z===""){if(document.cookie=B+"=; Expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/; SameSite=Strict;",Y!==null)delete Y[B]}else{let J="";if(O){let K=new Date;K.setTime(K.getTime()+O*24*60*60*1000),J="; expires="+K.toUTCString()}document.cookie=B+"="+encodeURIComponent(z)+J+"; Path=/; SameSite=Strict;",M(),Y[B]=z}};var A=({cookiesContextDeconstruct:B,cookiesContextName:z})=>{let O=new $,J=(K,U)=>{if(U.length>1);I(U[0],K[U[0]])};return O.addEventListener("delete",J),O.addEventListener("set",J),X(z,Symbol("ID_COOKIES"),O.add(M()),O,!!B)};var w=()=>{let B={},z=Object.keys(localStorage);for(let O=z.length-1;O>=0;O--)B[z[O]]=localStorage.getItem(z[O]);return B};var N=({localStorageContextDeconstruct:B,localStorageContextName:z})=>{let O=new $;return O.addEventListener("delete",(J,K)=>{if(K.length>1);localStorage.removeItem(K[0])}),O.addEventListener("set",(J,K)=>{if(K.length>1);localStorage.setItem(K[0],J[K[0]])}),X(z,Symbol("ID_LOCAL_STORAGE"),O.add(w()),O,!!B)};var _=()=>{let B={},z=Object.keys(sessionStorage);for(let O=z.length-1;O>=0;O--)B[z[O]]=sessionStorage.getItem(z[O]);return B};var E=({sessionStorageContextDeconstruct:B,sessionStorageContextName:z})=>{let O=new $;return O.addEventListener("delete",(J,K)=>{if(K.length>1);sessionStorage.removeItem(K[0])}),O.addEventListener("set",(J,K)=>{if(K.length>1);sessionStorage.setItem(K[0],J[K[0]])}),X(z,Symbol("ID_LOCAL_STORAGE"),O.add(_()),O,!!B)};function P(B,z=null){z=Object.assign({cookiesContextDeconstruct:!1,cookiesContextName:"$cookies",localStorageContextDeconstruct:!1,localStorageContextName:"$localStorage",sessionStorageContextDeconstruct:!1,sessionStorageContextName:"$sessionStorage"},z);let O=!1,J,K,U,Q=()=>{J=A(z),K=N(z),U=E(z);let Z=B.getContexts(),q=0;for(let T=Z.length-1;T>=0;T--)if(Z[T].name==="$state"){q=T;break}B.addContexts(q,J,K,U)},V=()=>{B.removeContexts(J,K,U),J=null,K=null,U=null};this.disable=()=>{if(!B.getEnabled()&&O)O=!1,B.removeEventListener("enabling",Q),B.removeEventListener("disabling",V)},this.enable=()=>{if(!O)O=!0,B.addEventListener("enabling",Q),B.addEventListener("disabling",V)},this.enable()}export{P as default};

//# debugId=36A60F83EE6B35D064756E2164756E21
